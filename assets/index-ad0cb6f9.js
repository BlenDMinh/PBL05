var MF=Object.defineProperty;var kF=(t,e,r)=>e in t?MF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var NF=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var tr=(t,e,r)=>(kF(t,typeof e!="symbol"?e+"":e,r),r);var cre=NF((Mre,fv)=>{function RF(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var vt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function HM(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var VM={exports:{}},k0={},WM={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yd=Symbol.for("react.element"),OF=Symbol.for("react.portal"),DF=Symbol.for("react.fragment"),LF=Symbol.for("react.strict_mode"),FF=Symbol.for("react.profiler"),UF=Symbol.for("react.provider"),BF=Symbol.for("react.context"),zF=Symbol.for("react.forward_ref"),jF=Symbol.for("react.suspense"),$F=Symbol.for("react.memo"),GF=Symbol.for("react.lazy"),PT=Symbol.iterator;function HF(t){return t===null||typeof t!="object"?null:(t=PT&&t[PT]||t["@@iterator"],typeof t=="function"?t:null)}var XM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qM=Object.assign,YM={};function xc(t,e,r){this.props=t,this.context=e,this.refs=YM,this.updater=r||XM}xc.prototype.isReactComponent={};xc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function QM(){}QM.prototype=xc.prototype;function Cw(t,e,r){this.props=t,this.context=e,this.refs=YM,this.updater=r||XM}var Iw=Cw.prototype=new QM;Iw.constructor=Cw;qM(Iw,xc.prototype);Iw.isPureReactComponent=!0;var MT=Array.isArray,KM=Object.prototype.hasOwnProperty,Pw={current:null},ZM={key:!0,ref:!0,__self:!0,__source:!0};function JM(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)KM.call(e,n)&&!ZM.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Yd,type:t,key:s,ref:o,props:i,_owner:Pw.current}}function VF(t,e){return{$$typeof:Yd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yd}function WF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var kT=/\/+/g;function Ky(t,e){return typeof t=="object"&&t!==null&&t.key!=null?WF(""+t.key):e.toString(36)}function wm(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Yd:case OF:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Ky(o,0):n,MT(i)?(r="",t!=null&&(r=t.replace(kT,"$&/")+"/"),wm(i,e,r,"",function(u){return u})):i!=null&&(Mw(i)&&(i=VF(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(kT,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",MT(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+Ky(s,a);o+=wm(s,e,r,l,i)}else if(l=HF(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+Ky(s,a++),o+=wm(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function hp(t,e,r){if(t==null)return t;var n=[],i=0;return wm(t,n,"","",function(s){return e.call(r,s,i++)}),n}function XF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Jr={current:null},Sm={transition:null},qF={ReactCurrentDispatcher:Jr,ReactCurrentBatchConfig:Sm,ReactCurrentOwner:Pw};Je.Children={map:hp,forEach:function(t,e,r){hp(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return hp(t,function(){e++}),e},toArray:function(t){return hp(t,function(e){return e})||[]},only:function(t){if(!Mw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Je.Component=xc;Je.Fragment=DF;Je.Profiler=FF;Je.PureComponent=Cw;Je.StrictMode=LF;Je.Suspense=jF;Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qF;Je.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=qM({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Pw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)KM.call(e,l)&&!ZM.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Yd,type:t.type,key:i,ref:s,props:n,_owner:o}};Je.createContext=function(t){return t={$$typeof:BF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:UF,_context:t},t.Consumer=t};Je.createElement=JM;Je.createFactory=function(t){var e=JM.bind(null,t);return e.type=t,e};Je.createRef=function(){return{current:null}};Je.forwardRef=function(t){return{$$typeof:zF,render:t}};Je.isValidElement=Mw;Je.lazy=function(t){return{$$typeof:GF,_payload:{_status:-1,_result:t},_init:XF}};Je.memo=function(t,e){return{$$typeof:$F,type:t,compare:e===void 0?null:e}};Je.startTransition=function(t){var e=Sm.transition;Sm.transition={};try{t()}finally{Sm.transition=e}};Je.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Je.useCallback=function(t,e){return Jr.current.useCallback(t,e)};Je.useContext=function(t){return Jr.current.useContext(t)};Je.useDebugValue=function(){};Je.useDeferredValue=function(t){return Jr.current.useDeferredValue(t)};Je.useEffect=function(t,e){return Jr.current.useEffect(t,e)};Je.useId=function(){return Jr.current.useId()};Je.useImperativeHandle=function(t,e,r){return Jr.current.useImperativeHandle(t,e,r)};Je.useInsertionEffect=function(t,e){return Jr.current.useInsertionEffect(t,e)};Je.useLayoutEffect=function(t,e){return Jr.current.useLayoutEffect(t,e)};Je.useMemo=function(t,e){return Jr.current.useMemo(t,e)};Je.useReducer=function(t,e,r){return Jr.current.useReducer(t,e,r)};Je.useRef=function(t){return Jr.current.useRef(t)};Je.useState=function(t){return Jr.current.useState(t)};Je.useSyncExternalStore=function(t,e,r){return Jr.current.useSyncExternalStore(t,e,r)};Je.useTransition=function(){return Jr.current.useTransition()};Je.version="18.2.0";WM.exports=Je;var O=WM.exports;const de=wa(O),YF=RF({__proto__:null,default:de},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QF=O,KF=Symbol.for("react.element"),ZF=Symbol.for("react.fragment"),JF=Object.prototype.hasOwnProperty,e5=QF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,t5={key:!0,ref:!0,__self:!0,__source:!0};function ek(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)JF.call(e,n)&&!t5.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:KF,type:t,key:s,ref:o,props:i,_owner:e5.current}}k0.Fragment=ZF;k0.jsx=ek;k0.jsxs=ek;VM.exports=k0;var kw=VM.exports;const st=kw.Fragment,C=kw.jsx,J=kw.jsxs;var $b={},tk={exports:{}},Nn={},rk={exports:{}},nk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,z){var R=I.length;I.push(z);e:for(;0<R;){var $=R-1>>>1,Z=I[$];if(0<i(Z,z))I[$]=z,I[R]=Z,R=$;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var z=I[0],R=I.pop();if(R!==z){I[0]=R;e:for(var $=0,Z=I.length,pe=Z>>>1;$<pe;){var fe=2*($+1)-1,Ue=I[fe],Le=fe+1,He=I[Le];if(0>i(Ue,R))Le<Z&&0>i(He,Ue)?(I[$]=He,I[Le]=R,$=Le):(I[$]=Ue,I[fe]=R,$=fe);else if(Le<Z&&0>i(He,R))I[$]=He,I[Le]=R,$=Le;else break e}}return z}function i(I,z){var R=I.sortIndex-z.sortIndex;return R!==0?R:I.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,p=3,g=!1,v=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(I){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=I)n(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=r(u)}}function A(I){if(b=!1,_(I),!v)if(r(l)!==null)v=!0,W(P);else{var z=r(u);z!==null&&B(A,z.startTime-I)}}function P(I,z){v=!1,b&&(b=!1,w(k),k=-1),g=!0;var R=p;try{for(_(z),f=r(l);f!==null&&(!(f.expirationTime>z)||I&&!Q());){var $=f.callback;if(typeof $=="function"){f.callback=null,p=f.priorityLevel;var Z=$(f.expirationTime<=z);z=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===r(l)&&n(l),_(z)}else n(l);f=r(l)}if(f!==null)var pe=!0;else{var fe=r(u);fe!==null&&B(A,fe.startTime-z),pe=!1}return pe}finally{f=null,p=R,g=!1}}var N=!1,L=null,k=-1,q=5,H=-1;function Q(){return!(t.unstable_now()-H<q)}function G(){if(L!==null){var I=t.unstable_now();H=I;var z=!0;try{z=L(!0,I)}finally{z?F():(N=!1,L=null)}}else N=!1}var F;if(typeof S=="function")F=function(){S(G)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,V=D.port2;D.port1.onmessage=G,F=function(){V.postMessage(null)}}else F=function(){E(G,0)};function W(I){L=I,N||(N=!0,F())}function B(I,z){k=E(function(){I(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,W(P))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(I){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var R=p;p=z;try{return I()}finally{p=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,z){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var R=p;p=I;try{return z()}finally{p=R}},t.unstable_scheduleCallback=function(I,z,R){var $=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?$+R:$):R=$,I){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=R+Z,I={id:d++,callback:z,priorityLevel:I,startTime:R,expirationTime:Z,sortIndex:-1},R>$?(I.sortIndex=R,e(u,I),r(l)===null&&I===r(u)&&(b?(w(k),k=-1):b=!0,B(A,R-$))):(I.sortIndex=Z,e(l,I),v||g||(v=!0,W(P))),I},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(I){var z=p;return function(){var R=p;p=z;try{return I.apply(this,arguments)}finally{p=R}}}})(nk);rk.exports=nk;var r5=rk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ik=O,kn=r5;function le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sk=new Set,hd={};function Nl(t,e){sc(t,e),sc(t+"Capture",e)}function sc(t,e){for(hd[t]=e,t=0;t<e.length;t++)sk.add(e[t])}var Qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gb=Object.prototype.hasOwnProperty,n5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,NT={},RT={};function i5(t){return Gb.call(RT,t)?!0:Gb.call(NT,t)?!1:n5.test(t)?RT[t]=!0:(NT[t]=!0,!1)}function s5(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function o5(t,e,r,n){if(e===null||typeof e>"u"||s5(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function en(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nr[t]=new en(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nr[e]=new en(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nr[t]=new en(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nr[t]=new en(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nr[t]=new en(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nr[t]=new en(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nr[t]=new en(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nr[t]=new en(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nr[t]=new en(t,5,!1,t.toLowerCase(),null,!1,!1)});var Nw=/[\-:]([a-z])/g;function Rw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Nw,Rw);Nr[e]=new en(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Nw,Rw);Nr[e]=new en(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Nw,Rw);Nr[e]=new en(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nr[t]=new en(t,1,!1,t.toLowerCase(),null,!1,!1)});Nr.xlinkHref=new en("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nr[t]=new en(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ow(t,e,r,n){var i=Nr.hasOwnProperty(e)?Nr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(o5(e,r,i,n)&&(r=null),n||i===null?i5(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ao=ik.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dp=Symbol.for("react.element"),_u=Symbol.for("react.portal"),wu=Symbol.for("react.fragment"),Dw=Symbol.for("react.strict_mode"),Hb=Symbol.for("react.profiler"),ok=Symbol.for("react.provider"),ak=Symbol.for("react.context"),Lw=Symbol.for("react.forward_ref"),Vb=Symbol.for("react.suspense"),Wb=Symbol.for("react.suspense_list"),Fw=Symbol.for("react.memo"),Lo=Symbol.for("react.lazy"),lk=Symbol.for("react.offscreen"),OT=Symbol.iterator;function ih(t){return t===null||typeof t!="object"?null:(t=OT&&t[OT]||t["@@iterator"],typeof t=="function"?t:null)}var Ut=Object.assign,Zy;function Ah(t){if(Zy===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Zy=e&&e[1]||""}return`
`+Zy+t}var Jy=!1;function e1(t,e){if(!t||Jy)return"";Jy=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Jy=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ah(t):""}function a5(t){switch(t.tag){case 5:return Ah(t.type);case 16:return Ah("Lazy");case 13:return Ah("Suspense");case 19:return Ah("SuspenseList");case 0:case 2:case 15:return t=e1(t.type,!1),t;case 11:return t=e1(t.type.render,!1),t;case 1:return t=e1(t.type,!0),t;default:return""}}function Xb(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wu:return"Fragment";case _u:return"Portal";case Hb:return"Profiler";case Dw:return"StrictMode";case Vb:return"Suspense";case Wb:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ak:return(t.displayName||"Context")+".Consumer";case ok:return(t._context.displayName||"Context")+".Provider";case Lw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Fw:return e=t.displayName||null,e!==null?e:Xb(t.type)||"Memo";case Lo:e=t._payload,t=t._init;try{return Xb(t(e))}catch{}}return null}function l5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xb(e);case 8:return e===Dw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function da(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function u5(t){var e=uk(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fp(t){t._valueTracker||(t._valueTracker=u5(t))}function ck(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=uk(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ag(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qb(t,e){var r=e.checked;return Ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function DT(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=da(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hk(t,e){e=e.checked,e!=null&&Ow(t,"checked",e,!1)}function Yb(t,e){hk(t,e);var r=da(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qb(t,e.type,r):e.hasOwnProperty("defaultValue")&&Qb(t,e.type,da(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function LT(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Qb(t,e,r){(e!=="number"||ag(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ch=Array.isArray;function Gu(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+da(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Kb(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(le(91));return Ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function FT(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(le(92));if(Ch(r)){if(1<r.length)throw Error(le(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:da(r)}}function dk(t,e){var r=da(e.value),n=da(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function UT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zb(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pp,pk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(pp=pp||document.createElement("div"),pp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function dd(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var $h={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},c5=["Webkit","ms","Moz","O"];Object.keys($h).forEach(function(t){c5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$h[e]=$h[t]})});function mk(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||$h.hasOwnProperty(t)&&$h[t]?(""+e).trim():e+"px"}function gk(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=mk(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var h5=Ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jb(t,e){if(e){if(h5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(le(62))}}function ex(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tx=null;function Uw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rx=null,Hu=null,Vu=null;function BT(t){if(t=Zd(t)){if(typeof rx!="function")throw Error(le(280));var e=t.stateNode;e&&(e=L0(e),rx(t.stateNode,t.type,e))}}function vk(t){Hu?Vu?Vu.push(t):Vu=[t]:Hu=t}function yk(){if(Hu){var t=Hu,e=Vu;if(Vu=Hu=null,BT(t),e)for(t=0;t<e.length;t++)BT(e[t])}}function bk(t,e){return t(e)}function xk(){}var t1=!1;function _k(t,e,r){if(t1)return t(e,r);t1=!0;try{return bk(t,e,r)}finally{t1=!1,(Hu!==null||Vu!==null)&&(xk(),yk())}}function fd(t,e){var r=t.stateNode;if(r===null)return null;var n=L0(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(le(231,e,typeof r));return r}var nx=!1;if(Qs)try{var sh={};Object.defineProperty(sh,"passive",{get:function(){nx=!0}}),window.addEventListener("test",sh,sh),window.removeEventListener("test",sh,sh)}catch{nx=!1}function d5(t,e,r,n,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Gh=!1,lg=null,ug=!1,ix=null,f5={onError:function(t){Gh=!0,lg=t}};function p5(t,e,r,n,i,s,o,a,l){Gh=!1,lg=null,d5.apply(f5,arguments)}function m5(t,e,r,n,i,s,o,a,l){if(p5.apply(this,arguments),Gh){if(Gh){var u=lg;Gh=!1,lg=null}else throw Error(le(198));ug||(ug=!0,ix=u)}}function Rl(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function wk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zT(t){if(Rl(t)!==t)throw Error(le(188))}function g5(t){var e=t.alternate;if(!e){if(e=Rl(t),e===null)throw Error(le(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return zT(i),t;if(s===n)return zT(i),e;s=s.sibling}throw Error(le(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(le(189))}}if(r.alternate!==n)throw Error(le(190))}if(r.tag!==3)throw Error(le(188));return r.stateNode.current===r?t:e}function Sk(t){return t=g5(t),t!==null?Ek(t):null}function Ek(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ek(t);if(e!==null)return e;t=t.sibling}return null}var Tk=kn.unstable_scheduleCallback,jT=kn.unstable_cancelCallback,v5=kn.unstable_shouldYield,y5=kn.unstable_requestPaint,qt=kn.unstable_now,b5=kn.unstable_getCurrentPriorityLevel,Bw=kn.unstable_ImmediatePriority,Ak=kn.unstable_UserBlockingPriority,cg=kn.unstable_NormalPriority,x5=kn.unstable_LowPriority,Ck=kn.unstable_IdlePriority,N0=null,ms=null;function _5(t){if(ms&&typeof ms.onCommitFiberRoot=="function")try{ms.onCommitFiberRoot(N0,t,void 0,(t.current.flags&128)===128)}catch{}}var Pi=Math.clz32?Math.clz32:E5,w5=Math.log,S5=Math.LN2;function E5(t){return t>>>=0,t===0?32:31-(w5(t)/S5|0)|0}var mp=64,gp=4194304;function Ih(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hg(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Ih(a):(s&=o,s!==0&&(n=Ih(s)))}else o=r&~i,o!==0?n=Ih(o):s!==0&&(n=Ih(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Pi(e),i=1<<r,n|=t[r],e&=~i;return n}function T5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function A5(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Pi(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=T5(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function sx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ik(){var t=mp;return mp<<=1,!(mp&4194240)&&(mp=64),t}function r1(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Qd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pi(e),t[e]=r}function C5(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Pi(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function zw(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Pi(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var ht=0;function Pk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Mk,jw,kk,Nk,Rk,ox=!1,vp=[],ra=null,na=null,ia=null,pd=new Map,md=new Map,Ho=[],I5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $T(t,e){switch(t){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":na=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":pd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":md.delete(e.pointerId)}}function oh(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Zd(e),e!==null&&jw(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function P5(t,e,r,n,i){switch(e){case"focusin":return ra=oh(ra,t,e,r,n,i),!0;case"dragenter":return na=oh(na,t,e,r,n,i),!0;case"mouseover":return ia=oh(ia,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return pd.set(s,oh(pd.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,md.set(s,oh(md.get(s)||null,t,e,r,n,i)),!0}return!1}function Ok(t){var e=rl(t.target);if(e!==null){var r=Rl(e);if(r!==null){if(e=r.tag,e===13){if(e=wk(r),e!==null){t.blockedOn=e,Rk(t.priority,function(){kk(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Em(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=ax(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);tx=n,r.target.dispatchEvent(n),tx=null}else return e=Zd(r),e!==null&&jw(e),t.blockedOn=r,!1;e.shift()}return!0}function GT(t,e,r){Em(t)&&r.delete(e)}function M5(){ox=!1,ra!==null&&Em(ra)&&(ra=null),na!==null&&Em(na)&&(na=null),ia!==null&&Em(ia)&&(ia=null),pd.forEach(GT),md.forEach(GT)}function ah(t,e){t.blockedOn===e&&(t.blockedOn=null,ox||(ox=!0,kn.unstable_scheduleCallback(kn.unstable_NormalPriority,M5)))}function gd(t){function e(i){return ah(i,t)}if(0<vp.length){ah(vp[0],t);for(var r=1;r<vp.length;r++){var n=vp[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ra!==null&&ah(ra,t),na!==null&&ah(na,t),ia!==null&&ah(ia,t),pd.forEach(e),md.forEach(e),r=0;r<Ho.length;r++)n=Ho[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ho.length&&(r=Ho[0],r.blockedOn===null);)Ok(r),r.blockedOn===null&&Ho.shift()}var Wu=ao.ReactCurrentBatchConfig,dg=!0;function k5(t,e,r,n){var i=ht,s=Wu.transition;Wu.transition=null;try{ht=1,$w(t,e,r,n)}finally{ht=i,Wu.transition=s}}function N5(t,e,r,n){var i=ht,s=Wu.transition;Wu.transition=null;try{ht=4,$w(t,e,r,n)}finally{ht=i,Wu.transition=s}}function $w(t,e,r,n){if(dg){var i=ax(t,e,r,n);if(i===null)d1(t,e,n,fg,r),$T(t,n);else if(P5(i,t,e,r,n))n.stopPropagation();else if($T(t,n),e&4&&-1<I5.indexOf(t)){for(;i!==null;){var s=Zd(i);if(s!==null&&Mk(s),s=ax(t,e,r,n),s===null&&d1(t,e,n,fg,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else d1(t,e,n,null,r)}}var fg=null;function ax(t,e,r,n){if(fg=null,t=Uw(n),t=rl(t),t!==null)if(e=Rl(t),e===null)t=null;else if(r=e.tag,r===13){if(t=wk(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fg=t,null}function Dk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(b5()){case Bw:return 1;case Ak:return 4;case cg:case x5:return 16;case Ck:return 536870912;default:return 16}default:return 16}}var Xo=null,Gw=null,Tm=null;function Lk(){if(Tm)return Tm;var t,e=Gw,r=e.length,n,i="value"in Xo?Xo.value:Xo.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Tm=i.slice(t,1<n?1-n:void 0)}function Am(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yp(){return!0}function HT(){return!1}function Rn(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?yp:HT,this.isPropagationStopped=HT,this}return Ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=yp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=yp)},persist:function(){},isPersistent:yp}),e}var _c={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hw=Rn(_c),Kd=Ut({},_c,{view:0,detail:0}),R5=Rn(Kd),n1,i1,lh,R0=Ut({},Kd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==lh&&(lh&&t.type==="mousemove"?(n1=t.screenX-lh.screenX,i1=t.screenY-lh.screenY):i1=n1=0,lh=t),n1)},movementY:function(t){return"movementY"in t?t.movementY:i1}}),VT=Rn(R0),O5=Ut({},R0,{dataTransfer:0}),D5=Rn(O5),L5=Ut({},Kd,{relatedTarget:0}),s1=Rn(L5),F5=Ut({},_c,{animationName:0,elapsedTime:0,pseudoElement:0}),U5=Rn(F5),B5=Ut({},_c,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),z5=Rn(B5),j5=Ut({},_c,{data:0}),WT=Rn(j5),$5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=H5[t])?!!e[t]:!1}function Vw(){return V5}var W5=Ut({},Kd,{key:function(t){if(t.key){var e=$5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Am(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?G5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vw,charCode:function(t){return t.type==="keypress"?Am(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Am(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),X5=Rn(W5),q5=Ut({},R0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),XT=Rn(q5),Y5=Ut({},Kd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vw}),Q5=Rn(Y5),K5=Ut({},_c,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z5=Rn(K5),J5=Ut({},R0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),eU=Rn(J5),tU=[9,13,27,32],Ww=Qs&&"CompositionEvent"in window,Hh=null;Qs&&"documentMode"in document&&(Hh=document.documentMode);var rU=Qs&&"TextEvent"in window&&!Hh,Fk=Qs&&(!Ww||Hh&&8<Hh&&11>=Hh),qT=String.fromCharCode(32),YT=!1;function Uk(t,e){switch(t){case"keyup":return tU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Su=!1;function nU(t,e){switch(t){case"compositionend":return Bk(e);case"keypress":return e.which!==32?null:(YT=!0,qT);case"textInput":return t=e.data,t===qT&&YT?null:t;default:return null}}function iU(t,e){if(Su)return t==="compositionend"||!Ww&&Uk(t,e)?(t=Lk(),Tm=Gw=Xo=null,Su=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fk&&e.locale!=="ko"?null:e.data;default:return null}}var sU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function QT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!sU[t.type]:e==="textarea"}function zk(t,e,r,n){vk(n),e=pg(e,"onChange"),0<e.length&&(r=new Hw("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Vh=null,vd=null;function oU(t){Kk(t,0)}function O0(t){var e=Au(t);if(ck(e))return t}function aU(t,e){if(t==="change")return e}var jk=!1;if(Qs){var o1;if(Qs){var a1="oninput"in document;if(!a1){var KT=document.createElement("div");KT.setAttribute("oninput","return;"),a1=typeof KT.oninput=="function"}o1=a1}else o1=!1;jk=o1&&(!document.documentMode||9<document.documentMode)}function ZT(){Vh&&(Vh.detachEvent("onpropertychange",$k),vd=Vh=null)}function $k(t){if(t.propertyName==="value"&&O0(vd)){var e=[];zk(e,vd,t,Uw(t)),_k(oU,e)}}function lU(t,e,r){t==="focusin"?(ZT(),Vh=e,vd=r,Vh.attachEvent("onpropertychange",$k)):t==="focusout"&&ZT()}function uU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return O0(vd)}function cU(t,e){if(t==="click")return O0(e)}function hU(t,e){if(t==="input"||t==="change")return O0(e)}function dU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Oi=typeof Object.is=="function"?Object.is:dU;function yd(t,e){if(Oi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Gb.call(e,i)||!Oi(t[i],e[i]))return!1}return!0}function JT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function eA(t,e){var r=JT(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=JT(r)}}function Gk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Gk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Hk(){for(var t=window,e=ag();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ag(t.document)}return e}function Xw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function fU(t){var e=Hk(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Gk(r.ownerDocument.documentElement,r)){if(n!==null&&Xw(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=eA(r,s);var o=eA(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pU=Qs&&"documentMode"in document&&11>=document.documentMode,Eu=null,lx=null,Wh=null,ux=!1;function tA(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ux||Eu==null||Eu!==ag(n)||(n=Eu,"selectionStart"in n&&Xw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Wh&&yd(Wh,n)||(Wh=n,n=pg(lx,"onSelect"),0<n.length&&(e=new Hw("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Eu)))}function bp(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Tu={animationend:bp("Animation","AnimationEnd"),animationiteration:bp("Animation","AnimationIteration"),animationstart:bp("Animation","AnimationStart"),transitionend:bp("Transition","TransitionEnd")},l1={},Vk={};Qs&&(Vk=document.createElement("div").style,"AnimationEvent"in window||(delete Tu.animationend.animation,delete Tu.animationiteration.animation,delete Tu.animationstart.animation),"TransitionEvent"in window||delete Tu.transitionend.transition);function D0(t){if(l1[t])return l1[t];if(!Tu[t])return t;var e=Tu[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Vk)return l1[t]=e[r];return t}var Wk=D0("animationend"),Xk=D0("animationiteration"),qk=D0("animationstart"),Yk=D0("transitionend"),Qk=new Map,rA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sa(t,e){Qk.set(t,e),Nl(e,[t])}for(var u1=0;u1<rA.length;u1++){var c1=rA[u1],mU=c1.toLowerCase(),gU=c1[0].toUpperCase()+c1.slice(1);Sa(mU,"on"+gU)}Sa(Wk,"onAnimationEnd");Sa(Xk,"onAnimationIteration");Sa(qk,"onAnimationStart");Sa("dblclick","onDoubleClick");Sa("focusin","onFocus");Sa("focusout","onBlur");Sa(Yk,"onTransitionEnd");sc("onMouseEnter",["mouseout","mouseover"]);sc("onMouseLeave",["mouseout","mouseover"]);sc("onPointerEnter",["pointerout","pointerover"]);sc("onPointerLeave",["pointerout","pointerover"]);Nl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ph="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ph));function nA(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,m5(n,e,void 0,t),t.currentTarget=null}function Kk(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;nA(i,a,u),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;nA(i,a,u),s=l}}}if(ug)throw t=ix,ug=!1,ix=null,t}function _t(t,e){var r=e[px];r===void 0&&(r=e[px]=new Set);var n=t+"__bubble";r.has(n)||(Zk(e,t,2,!1),r.add(n))}function h1(t,e,r){var n=0;e&&(n|=4),Zk(r,t,n,e)}var xp="_reactListening"+Math.random().toString(36).slice(2);function bd(t){if(!t[xp]){t[xp]=!0,sk.forEach(function(r){r!=="selectionchange"&&(vU.has(r)||h1(r,!1,t),h1(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xp]||(e[xp]=!0,h1("selectionchange",!1,e))}}function Zk(t,e,r,n){switch(Dk(e)){case 1:var i=k5;break;case 4:i=N5;break;default:i=$w}r=i.bind(null,e,r,t),i=void 0,!nx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function d1(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=rl(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}_k(function(){var u=s,d=Uw(r),f=[];e:{var p=Qk.get(t);if(p!==void 0){var g=Hw,v=t;switch(t){case"keypress":if(Am(r)===0)break e;case"keydown":case"keyup":g=X5;break;case"focusin":v="focus",g=s1;break;case"focusout":v="blur",g=s1;break;case"beforeblur":case"afterblur":g=s1;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=VT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=D5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Q5;break;case Wk:case Xk:case qk:g=U5;break;case Yk:g=Z5;break;case"scroll":g=R5;break;case"wheel":g=eU;break;case"copy":case"cut":case"paste":g=z5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=XT}var b=(e&4)!==0,E=!b&&t==="scroll",w=b?p!==null?p+"Capture":null:p;b=[];for(var S=u,_;S!==null;){_=S;var A=_.stateNode;if(_.tag===5&&A!==null&&(_=A,w!==null&&(A=fd(S,w),A!=null&&b.push(xd(S,A,_)))),E)break;S=S.return}0<b.length&&(p=new g(p,v,null,r,d),f.push({event:p,listeners:b}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&r!==tx&&(v=r.relatedTarget||r.fromElement)&&(rl(v)||v[Ks]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(v=r.relatedTarget||r.toElement,g=u,v=v?rl(v):null,v!==null&&(E=Rl(v),v!==E||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(b=VT,A="onMouseLeave",w="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(b=XT,A="onPointerLeave",w="onPointerEnter",S="pointer"),E=g==null?p:Au(g),_=v==null?p:Au(v),p=new b(A,S+"leave",g,r,d),p.target=E,p.relatedTarget=_,A=null,rl(d)===u&&(b=new b(w,S+"enter",v,r,d),b.target=_,b.relatedTarget=E,A=b),E=A,g&&v)t:{for(b=g,w=v,S=0,_=b;_;_=ru(_))S++;for(_=0,A=w;A;A=ru(A))_++;for(;0<S-_;)b=ru(b),S--;for(;0<_-S;)w=ru(w),_--;for(;S--;){if(b===w||w!==null&&b===w.alternate)break t;b=ru(b),w=ru(w)}b=null}else b=null;g!==null&&iA(f,p,g,b,!1),v!==null&&E!==null&&iA(f,E,v,b,!0)}}e:{if(p=u?Au(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var P=aU;else if(QT(p))if(jk)P=hU;else{P=uU;var N=lU}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=cU);if(P&&(P=P(t,u))){zk(f,P,r,d);break e}N&&N(t,p,u),t==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&Qb(p,"number",p.value)}switch(N=u?Au(u):window,t){case"focusin":(QT(N)||N.contentEditable==="true")&&(Eu=N,lx=u,Wh=null);break;case"focusout":Wh=lx=Eu=null;break;case"mousedown":ux=!0;break;case"contextmenu":case"mouseup":case"dragend":ux=!1,tA(f,r,d);break;case"selectionchange":if(pU)break;case"keydown":case"keyup":tA(f,r,d)}var L;if(Ww)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Su?Uk(t,r)&&(k="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(Fk&&r.locale!=="ko"&&(Su||k!=="onCompositionStart"?k==="onCompositionEnd"&&Su&&(L=Lk()):(Xo=d,Gw="value"in Xo?Xo.value:Xo.textContent,Su=!0)),N=pg(u,k),0<N.length&&(k=new WT(k,t,null,r,d),f.push({event:k,listeners:N}),L?k.data=L:(L=Bk(r),L!==null&&(k.data=L)))),(L=rU?nU(t,r):iU(t,r))&&(u=pg(u,"onBeforeInput"),0<u.length&&(d=new WT("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=L))}Kk(f,e)})}function xd(t,e,r){return{instance:t,listener:e,currentTarget:r}}function pg(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=fd(t,r),s!=null&&n.unshift(xd(t,s,i)),s=fd(t,e),s!=null&&n.push(xd(t,s,i))),t=t.return}return n}function ru(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function iA(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=fd(r,s),l!=null&&o.unshift(xd(r,l,a))):i||(l=fd(r,s),l!=null&&o.push(xd(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var yU=/\r\n?/g,bU=/\u0000|\uFFFD/g;function sA(t){return(typeof t=="string"?t:""+t).replace(yU,`
`).replace(bU,"")}function _p(t,e,r){if(e=sA(e),sA(t)!==e&&r)throw Error(le(425))}function mg(){}var cx=null,hx=null;function dx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fx=typeof setTimeout=="function"?setTimeout:void 0,xU=typeof clearTimeout=="function"?clearTimeout:void 0,oA=typeof Promise=="function"?Promise:void 0,_U=typeof queueMicrotask=="function"?queueMicrotask:typeof oA<"u"?function(t){return oA.resolve(null).then(t).catch(wU)}:fx;function wU(t){setTimeout(function(){throw t})}function f1(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),gd(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);gd(e)}function sa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function aA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var wc=Math.random().toString(36).slice(2),cs="__reactFiber$"+wc,_d="__reactProps$"+wc,Ks="__reactContainer$"+wc,px="__reactEvents$"+wc,SU="__reactListeners$"+wc,EU="__reactHandles$"+wc;function rl(t){var e=t[cs];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ks]||r[cs]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=aA(t);t!==null;){if(r=t[cs])return r;t=aA(t)}return e}t=r,r=t.parentNode}return null}function Zd(t){return t=t[cs]||t[Ks],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Au(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(le(33))}function L0(t){return t[_d]||null}var mx=[],Cu=-1;function Ea(t){return{current:t}}function St(t){0>Cu||(t.current=mx[Cu],mx[Cu]=null,Cu--)}function bt(t,e){Cu++,mx[Cu]=t.current,t.current=e}var fa={},$r=Ea(fa),pn=Ea(!1),xl=fa;function oc(t,e){var r=t.type.contextTypes;if(!r)return fa;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function mn(t){return t=t.childContextTypes,t!=null}function gg(){St(pn),St($r)}function lA(t,e,r){if($r.current!==fa)throw Error(le(168));bt($r,e),bt(pn,r)}function Jk(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(le(108,l5(t)||"Unknown",i));return Ut({},r,n)}function vg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fa,xl=$r.current,bt($r,t),bt(pn,pn.current),!0}function uA(t,e,r){var n=t.stateNode;if(!n)throw Error(le(169));r?(t=Jk(t,e,xl),n.__reactInternalMemoizedMergedChildContext=t,St(pn),St($r),bt($r,t)):St(pn),bt(pn,r)}var Us=null,F0=!1,p1=!1;function eN(t){Us===null?Us=[t]:Us.push(t)}function TU(t){F0=!0,eN(t)}function Ta(){if(!p1&&Us!==null){p1=!0;var t=0,e=ht;try{var r=Us;for(ht=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Us=null,F0=!1}catch(i){throw Us!==null&&(Us=Us.slice(t+1)),Tk(Bw,Ta),i}finally{ht=e,p1=!1}}return null}var Iu=[],Pu=0,yg=null,bg=0,qn=[],Yn=0,_l=null,zs=1,js="";function Ha(t,e){Iu[Pu++]=bg,Iu[Pu++]=yg,yg=t,bg=e}function tN(t,e,r){qn[Yn++]=zs,qn[Yn++]=js,qn[Yn++]=_l,_l=t;var n=zs;t=js;var i=32-Pi(n)-1;n&=~(1<<i),r+=1;var s=32-Pi(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,zs=1<<32-Pi(e)+i|r<<i|n,js=s+t}else zs=1<<s|r<<i|n,js=t}function qw(t){t.return!==null&&(Ha(t,1),tN(t,1,0))}function Yw(t){for(;t===yg;)yg=Iu[--Pu],Iu[Pu]=null,bg=Iu[--Pu],Iu[Pu]=null;for(;t===_l;)_l=qn[--Yn],qn[Yn]=null,js=qn[--Yn],qn[Yn]=null,zs=qn[--Yn],qn[Yn]=null}var Pn=null,In=null,Mt=!1,bi=null;function rN(t,e){var r=Kn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function cA(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pn=t,In=sa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pn=t,In=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=_l!==null?{id:zs,overflow:js}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Kn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Pn=t,In=null,!0):!1;default:return!1}}function gx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function vx(t){if(Mt){var e=In;if(e){var r=e;if(!cA(t,e)){if(gx(t))throw Error(le(418));e=sa(r.nextSibling);var n=Pn;e&&cA(t,e)?rN(n,r):(t.flags=t.flags&-4097|2,Mt=!1,Pn=t)}}else{if(gx(t))throw Error(le(418));t.flags=t.flags&-4097|2,Mt=!1,Pn=t}}}function hA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pn=t}function wp(t){if(t!==Pn)return!1;if(!Mt)return hA(t),Mt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dx(t.type,t.memoizedProps)),e&&(e=In)){if(gx(t))throw nN(),Error(le(418));for(;e;)rN(t,e),e=sa(e.nextSibling)}if(hA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){In=sa(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}In=null}}else In=Pn?sa(t.stateNode.nextSibling):null;return!0}function nN(){for(var t=In;t;)t=sa(t.nextSibling)}function ac(){In=Pn=null,Mt=!1}function Qw(t){bi===null?bi=[t]:bi.push(t)}var AU=ao.ReactCurrentBatchConfig;function gi(t,e){if(t&&t.defaultProps){e=Ut({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var xg=Ea(null),_g=null,Mu=null,Kw=null;function Zw(){Kw=Mu=_g=null}function Jw(t){var e=xg.current;St(xg),t._currentValue=e}function yx(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Xu(t,e){_g=t,Kw=Mu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hn=!0),t.firstContext=null)}function ni(t){var e=t._currentValue;if(Kw!==t)if(t={context:t,memoizedValue:e,next:null},Mu===null){if(_g===null)throw Error(le(308));Mu=t,_g.dependencies={lanes:0,firstContext:t}}else Mu=Mu.next=t;return e}var nl=null;function eS(t){nl===null?nl=[t]:nl.push(t)}function iN(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,eS(e)):(r.next=i.next,i.next=r),e.interleaved=r,Zs(t,n)}function Zs(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Fo=!1;function tS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function oa(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,it&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Zs(t,r)}return i=n.interleaved,i===null?(e.next=e,eS(n)):(e.next=i.next,i.next=e),n.interleaved=e,Zs(t,r)}function Cm(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,zw(t,r)}}function dA(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function wg(t,e,r,n){var i=t.updateQueue;Fo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=u=l=null,a=s;do{var p=a.lane,g=a.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,b=a;switch(p=e,g=r,b.tag){case 1:if(v=b.payload,typeof v=="function"){f=v.call(g,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,p=typeof v=="function"?v.call(g,f,p):v,p==null)break e;f=Ut({},f,p);break e;case 2:Fo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=f):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Sl|=o,t.lanes=o,t.memoizedState=f}}function fA(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(le(191,i));i.call(n)}}}var oN=new ik.Component().refs;function bx(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ut({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var U0={isMounted:function(t){return(t=t._reactInternals)?Rl(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Kr(),i=la(t),s=Vs(n,i);s.payload=e,r!=null&&(s.callback=r),e=oa(t,s,i),e!==null&&(Mi(e,t,i,n),Cm(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Kr(),i=la(t),s=Vs(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=oa(t,s,i),e!==null&&(Mi(e,t,i,n),Cm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Kr(),n=la(t),i=Vs(r,n);i.tag=2,e!=null&&(i.callback=e),e=oa(t,i,n),e!==null&&(Mi(e,t,n,r),Cm(e,t,n))}};function pA(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!yd(r,n)||!yd(i,s):!0}function aN(t,e,r){var n=!1,i=fa,s=e.contextType;return typeof s=="object"&&s!==null?s=ni(s):(i=mn(e)?xl:$r.current,n=e.contextTypes,s=(n=n!=null)?oc(t,i):fa),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=U0,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function mA(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&U0.enqueueReplaceState(e,e.state,null)}function xx(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=oN,tS(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ni(s):(s=mn(e)?xl:$r.current,i.context=oc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(bx(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&U0.enqueueReplaceState(i,i.state,null),wg(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function uh(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(le(309));var n=r.stateNode}if(!n)throw Error(le(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===oN&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(le(284));if(!r._owner)throw Error(le(290,t))}return t}function Sp(t,e){throw t=Object.prototype.toString.call(e),Error(le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function gA(t){var e=t._init;return e(t._payload)}function lN(t){function e(w,S){if(t){var _=w.deletions;_===null?(w.deletions=[S],w.flags|=16):_.push(S)}}function r(w,S){if(!t)return null;for(;S!==null;)e(w,S),S=S.sibling;return null}function n(w,S){for(w=new Map;S!==null;)S.key!==null?w.set(S.key,S):w.set(S.index,S),S=S.sibling;return w}function i(w,S){return w=ua(w,S),w.index=0,w.sibling=null,w}function s(w,S,_){return w.index=_,t?(_=w.alternate,_!==null?(_=_.index,_<S?(w.flags|=2,S):_):(w.flags|=2,S)):(w.flags|=1048576,S)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,S,_,A){return S===null||S.tag!==6?(S=_1(_,w.mode,A),S.return=w,S):(S=i(S,_),S.return=w,S)}function l(w,S,_,A){var P=_.type;return P===wu?d(w,S,_.props.children,A,_.key):S!==null&&(S.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Lo&&gA(P)===S.type)?(A=i(S,_.props),A.ref=uh(w,S,_),A.return=w,A):(A=Rm(_.type,_.key,_.props,null,w.mode,A),A.ref=uh(w,S,_),A.return=w,A)}function u(w,S,_,A){return S===null||S.tag!==4||S.stateNode.containerInfo!==_.containerInfo||S.stateNode.implementation!==_.implementation?(S=w1(_,w.mode,A),S.return=w,S):(S=i(S,_.children||[]),S.return=w,S)}function d(w,S,_,A,P){return S===null||S.tag!==7?(S=dl(_,w.mode,A,P),S.return=w,S):(S=i(S,_),S.return=w,S)}function f(w,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return S=_1(""+S,w.mode,_),S.return=w,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case dp:return _=Rm(S.type,S.key,S.props,null,w.mode,_),_.ref=uh(w,null,S),_.return=w,_;case _u:return S=w1(S,w.mode,_),S.return=w,S;case Lo:var A=S._init;return f(w,A(S._payload),_)}if(Ch(S)||ih(S))return S=dl(S,w.mode,_,null),S.return=w,S;Sp(w,S)}return null}function p(w,S,_,A){var P=S!==null?S.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return P!==null?null:a(w,S,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case dp:return _.key===P?l(w,S,_,A):null;case _u:return _.key===P?u(w,S,_,A):null;case Lo:return P=_._init,p(w,S,P(_._payload),A)}if(Ch(_)||ih(_))return P!==null?null:d(w,S,_,A,null);Sp(w,_)}return null}function g(w,S,_,A,P){if(typeof A=="string"&&A!==""||typeof A=="number")return w=w.get(_)||null,a(S,w,""+A,P);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case dp:return w=w.get(A.key===null?_:A.key)||null,l(S,w,A,P);case _u:return w=w.get(A.key===null?_:A.key)||null,u(S,w,A,P);case Lo:var N=A._init;return g(w,S,_,N(A._payload),P)}if(Ch(A)||ih(A))return w=w.get(_)||null,d(S,w,A,P,null);Sp(S,A)}return null}function v(w,S,_,A){for(var P=null,N=null,L=S,k=S=0,q=null;L!==null&&k<_.length;k++){L.index>k?(q=L,L=null):q=L.sibling;var H=p(w,L,_[k],A);if(H===null){L===null&&(L=q);break}t&&L&&H.alternate===null&&e(w,L),S=s(H,S,k),N===null?P=H:N.sibling=H,N=H,L=q}if(k===_.length)return r(w,L),Mt&&Ha(w,k),P;if(L===null){for(;k<_.length;k++)L=f(w,_[k],A),L!==null&&(S=s(L,S,k),N===null?P=L:N.sibling=L,N=L);return Mt&&Ha(w,k),P}for(L=n(w,L);k<_.length;k++)q=g(L,w,k,_[k],A),q!==null&&(t&&q.alternate!==null&&L.delete(q.key===null?k:q.key),S=s(q,S,k),N===null?P=q:N.sibling=q,N=q);return t&&L.forEach(function(Q){return e(w,Q)}),Mt&&Ha(w,k),P}function b(w,S,_,A){var P=ih(_);if(typeof P!="function")throw Error(le(150));if(_=P.call(_),_==null)throw Error(le(151));for(var N=P=null,L=S,k=S=0,q=null,H=_.next();L!==null&&!H.done;k++,H=_.next()){L.index>k?(q=L,L=null):q=L.sibling;var Q=p(w,L,H.value,A);if(Q===null){L===null&&(L=q);break}t&&L&&Q.alternate===null&&e(w,L),S=s(Q,S,k),N===null?P=Q:N.sibling=Q,N=Q,L=q}if(H.done)return r(w,L),Mt&&Ha(w,k),P;if(L===null){for(;!H.done;k++,H=_.next())H=f(w,H.value,A),H!==null&&(S=s(H,S,k),N===null?P=H:N.sibling=H,N=H);return Mt&&Ha(w,k),P}for(L=n(w,L);!H.done;k++,H=_.next())H=g(L,w,k,H.value,A),H!==null&&(t&&H.alternate!==null&&L.delete(H.key===null?k:H.key),S=s(H,S,k),N===null?P=H:N.sibling=H,N=H);return t&&L.forEach(function(G){return e(w,G)}),Mt&&Ha(w,k),P}function E(w,S,_,A){if(typeof _=="object"&&_!==null&&_.type===wu&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case dp:e:{for(var P=_.key,N=S;N!==null;){if(N.key===P){if(P=_.type,P===wu){if(N.tag===7){r(w,N.sibling),S=i(N,_.props.children),S.return=w,w=S;break e}}else if(N.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Lo&&gA(P)===N.type){r(w,N.sibling),S=i(N,_.props),S.ref=uh(w,N,_),S.return=w,w=S;break e}r(w,N);break}else e(w,N);N=N.sibling}_.type===wu?(S=dl(_.props.children,w.mode,A,_.key),S.return=w,w=S):(A=Rm(_.type,_.key,_.props,null,w.mode,A),A.ref=uh(w,S,_),A.return=w,w=A)}return o(w);case _u:e:{for(N=_.key;S!==null;){if(S.key===N)if(S.tag===4&&S.stateNode.containerInfo===_.containerInfo&&S.stateNode.implementation===_.implementation){r(w,S.sibling),S=i(S,_.children||[]),S.return=w,w=S;break e}else{r(w,S);break}else e(w,S);S=S.sibling}S=w1(_,w.mode,A),S.return=w,w=S}return o(w);case Lo:return N=_._init,E(w,S,N(_._payload),A)}if(Ch(_))return v(w,S,_,A);if(ih(_))return b(w,S,_,A);Sp(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,S!==null&&S.tag===6?(r(w,S.sibling),S=i(S,_),S.return=w,w=S):(r(w,S),S=_1(_,w.mode,A),S.return=w,w=S),o(w)):r(w,S)}return E}var lc=lN(!0),uN=lN(!1),Jd={},gs=Ea(Jd),wd=Ea(Jd),Sd=Ea(Jd);function il(t){if(t===Jd)throw Error(le(174));return t}function rS(t,e){switch(bt(Sd,e),bt(wd,t),bt(gs,Jd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zb(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Zb(e,t)}St(gs),bt(gs,e)}function uc(){St(gs),St(wd),St(Sd)}function cN(t){il(Sd.current);var e=il(gs.current),r=Zb(e,t.type);e!==r&&(bt(wd,t),bt(gs,r))}function nS(t){wd.current===t&&(St(gs),St(wd))}var Dt=Ea(0);function Sg(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var m1=[];function iS(){for(var t=0;t<m1.length;t++)m1[t]._workInProgressVersionPrimary=null;m1.length=0}var Im=ao.ReactCurrentDispatcher,g1=ao.ReactCurrentBatchConfig,wl=0,Ft=null,sr=null,vr=null,Eg=!1,Xh=!1,Ed=0,CU=0;function Fr(){throw Error(le(321))}function sS(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Oi(t[r],e[r]))return!1;return!0}function oS(t,e,r,n,i,s){if(wl=s,Ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Im.current=t===null||t.memoizedState===null?kU:NU,t=r(n,i),Xh){s=0;do{if(Xh=!1,Ed=0,25<=s)throw Error(le(301));s+=1,vr=sr=null,e.updateQueue=null,Im.current=RU,t=r(n,i)}while(Xh)}if(Im.current=Tg,e=sr!==null&&sr.next!==null,wl=0,vr=sr=Ft=null,Eg=!1,e)throw Error(le(300));return t}function aS(){var t=Ed!==0;return Ed=0,t}function is(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vr===null?Ft.memoizedState=vr=t:vr=vr.next=t,vr}function ii(){if(sr===null){var t=Ft.alternate;t=t!==null?t.memoizedState:null}else t=sr.next;var e=vr===null?Ft.memoizedState:vr.next;if(e!==null)vr=e,sr=t;else{if(t===null)throw Error(le(310));sr=t,t={memoizedState:sr.memoizedState,baseState:sr.baseState,baseQueue:sr.baseQueue,queue:sr.queue,next:null},vr===null?Ft.memoizedState=vr=t:vr=vr.next=t}return vr}function Td(t,e){return typeof e=="function"?e(t):e}function v1(t){var e=ii(),r=e.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=t;var n=sr,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((wl&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=n):l=l.next=f,Ft.lanes|=d,Sl|=d}u=u.next}while(u!==null&&u!==s);l===null?o=n:l.next=a,Oi(n,e.memoizedState)||(hn=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Ft.lanes|=s,Sl|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function y1(t){var e=ii(),r=e.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Oi(s,e.memoizedState)||(hn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function hN(){}function dN(t,e){var r=Ft,n=ii(),i=e(),s=!Oi(n.memoizedState,i);if(s&&(n.memoizedState=i,hn=!0),n=n.queue,lS(mN.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||vr!==null&&vr.memoizedState.tag&1){if(r.flags|=2048,Ad(9,pN.bind(null,r,n,i,e),void 0,null),xr===null)throw Error(le(349));wl&30||fN(r,e,i)}return i}function fN(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ft.updateQueue,e===null?(e={lastEffect:null,stores:null},Ft.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function pN(t,e,r,n){e.value=r,e.getSnapshot=n,gN(e)&&vN(t)}function mN(t,e,r){return r(function(){gN(e)&&vN(t)})}function gN(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Oi(t,r)}catch{return!0}}function vN(t){var e=Zs(t,1);e!==null&&Mi(e,t,1,-1)}function vA(t){var e=is();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Td,lastRenderedState:t},e.queue=t,t=t.dispatch=MU.bind(null,Ft,t),[e.memoizedState,t]}function Ad(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ft.updateQueue,e===null?(e={lastEffect:null,stores:null},Ft.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function yN(){return ii().memoizedState}function Pm(t,e,r,n){var i=is();Ft.flags|=t,i.memoizedState=Ad(1|e,r,void 0,n===void 0?null:n)}function B0(t,e,r,n){var i=ii();n=n===void 0?null:n;var s=void 0;if(sr!==null){var o=sr.memoizedState;if(s=o.destroy,n!==null&&sS(n,o.deps)){i.memoizedState=Ad(e,r,s,n);return}}Ft.flags|=t,i.memoizedState=Ad(1|e,r,s,n)}function yA(t,e){return Pm(8390656,8,t,e)}function lS(t,e){return B0(2048,8,t,e)}function bN(t,e){return B0(4,2,t,e)}function xN(t,e){return B0(4,4,t,e)}function _N(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wN(t,e,r){return r=r!=null?r.concat([t]):null,B0(4,4,_N.bind(null,e,t),r)}function uS(){}function SN(t,e){var r=ii();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&sS(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function EN(t,e){var r=ii();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&sS(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function TN(t,e,r){return wl&21?(Oi(r,e)||(r=Ik(),Ft.lanes|=r,Sl|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hn=!0),t.memoizedState=r)}function IU(t,e){var r=ht;ht=r!==0&&4>r?r:4,t(!0);var n=g1.transition;g1.transition={};try{t(!1),e()}finally{ht=r,g1.transition=n}}function AN(){return ii().memoizedState}function PU(t,e,r){var n=la(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},CN(t))IN(e,r);else if(r=iN(t,e,r,n),r!==null){var i=Kr();Mi(r,t,n,i),PN(r,e,n)}}function MU(t,e,r){var n=la(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(CN(t))IN(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Oi(a,o)){var l=e.interleaved;l===null?(i.next=i,eS(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=iN(t,e,i,n),r!==null&&(i=Kr(),Mi(r,t,n,i),PN(r,e,n))}}function CN(t){var e=t.alternate;return t===Ft||e!==null&&e===Ft}function IN(t,e){Xh=Eg=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function PN(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,zw(t,r)}}var Tg={readContext:ni,useCallback:Fr,useContext:Fr,useEffect:Fr,useImperativeHandle:Fr,useInsertionEffect:Fr,useLayoutEffect:Fr,useMemo:Fr,useReducer:Fr,useRef:Fr,useState:Fr,useDebugValue:Fr,useDeferredValue:Fr,useTransition:Fr,useMutableSource:Fr,useSyncExternalStore:Fr,useId:Fr,unstable_isNewReconciler:!1},kU={readContext:ni,useCallback:function(t,e){return is().memoizedState=[t,e===void 0?null:e],t},useContext:ni,useEffect:yA,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Pm(4194308,4,_N.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Pm(4194308,4,t,e)},useInsertionEffect:function(t,e){return Pm(4,2,t,e)},useMemo:function(t,e){var r=is();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=is();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=PU.bind(null,Ft,t),[n.memoizedState,t]},useRef:function(t){var e=is();return t={current:t},e.memoizedState=t},useState:vA,useDebugValue:uS,useDeferredValue:function(t){return is().memoizedState=t},useTransition:function(){var t=vA(!1),e=t[0];return t=IU.bind(null,t[1]),is().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ft,i=is();if(Mt){if(r===void 0)throw Error(le(407));r=r()}else{if(r=e(),xr===null)throw Error(le(349));wl&30||fN(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,yA(mN.bind(null,n,s,t),[t]),n.flags|=2048,Ad(9,pN.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=is(),e=xr.identifierPrefix;if(Mt){var r=js,n=zs;r=(n&~(1<<32-Pi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ed++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=CU++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},NU={readContext:ni,useCallback:SN,useContext:ni,useEffect:lS,useImperativeHandle:wN,useInsertionEffect:bN,useLayoutEffect:xN,useMemo:EN,useReducer:v1,useRef:yN,useState:function(){return v1(Td)},useDebugValue:uS,useDeferredValue:function(t){var e=ii();return TN(e,sr.memoizedState,t)},useTransition:function(){var t=v1(Td)[0],e=ii().memoizedState;return[t,e]},useMutableSource:hN,useSyncExternalStore:dN,useId:AN,unstable_isNewReconciler:!1},RU={readContext:ni,useCallback:SN,useContext:ni,useEffect:lS,useImperativeHandle:wN,useInsertionEffect:bN,useLayoutEffect:xN,useMemo:EN,useReducer:y1,useRef:yN,useState:function(){return y1(Td)},useDebugValue:uS,useDeferredValue:function(t){var e=ii();return sr===null?e.memoizedState=t:TN(e,sr.memoizedState,t)},useTransition:function(){var t=y1(Td)[0],e=ii().memoizedState;return[t,e]},useMutableSource:hN,useSyncExternalStore:dN,useId:AN,unstable_isNewReconciler:!1};function cc(t,e){try{var r="",n=e;do r+=a5(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function b1(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function _x(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var OU=typeof WeakMap=="function"?WeakMap:Map;function MN(t,e,r){r=Vs(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Cg||(Cg=!0,kx=n),_x(t,e)},r}function kN(t,e,r){r=Vs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){_x(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){_x(t,e),typeof n!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function bA(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new OU;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=qU.bind(null,t,e,r),e.then(t,t))}function xA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _A(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Vs(-1,1),e.tag=2,oa(r,e,1))),r.lanes|=1),t)}var DU=ao.ReactCurrentOwner,hn=!1;function Yr(t,e,r,n){e.child=t===null?uN(e,null,r,n):lc(e,t.child,r,n)}function wA(t,e,r,n,i){r=r.render;var s=e.ref;return Xu(e,i),n=oS(t,e,r,n,s,i),r=aS(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Js(t,e,i)):(Mt&&r&&qw(e),e.flags|=1,Yr(t,e,n,i),e.child)}function SA(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!vS(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,NN(t,e,s,n,i)):(t=Rm(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:yd,r(o,n)&&t.ref===e.ref)return Js(t,e,i)}return e.flags|=1,t=ua(s,n),t.ref=e.ref,t.return=e,e.child=t}function NN(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(yd(s,n)&&t.ref===e.ref)if(hn=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(hn=!0);else return e.lanes=t.lanes,Js(t,e,i)}return wx(t,e,r,n,i)}function RN(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(Nu,Cn),Cn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,bt(Nu,Cn),Cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,bt(Nu,Cn),Cn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,bt(Nu,Cn),Cn|=n;return Yr(t,e,i,r),e.child}function ON(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function wx(t,e,r,n,i){var s=mn(r)?xl:$r.current;return s=oc(e,s),Xu(e,i),r=oS(t,e,r,n,s,i),n=aS(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Js(t,e,i)):(Mt&&n&&qw(e),e.flags|=1,Yr(t,e,r,i),e.child)}function EA(t,e,r,n,i){if(mn(r)){var s=!0;vg(e)}else s=!1;if(Xu(e,i),e.stateNode===null)Mm(t,e),aN(e,r,n),xx(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=ni(u):(u=mn(r)?xl:$r.current,u=oc(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&mA(e,o,n,u),Fo=!1;var p=e.memoizedState;o.state=p,wg(e,n,o,i),l=e.memoizedState,a!==n||p!==l||pn.current||Fo?(typeof d=="function"&&(bx(e,r,d,n),l=e.memoizedState),(a=Fo||pA(e,r,a,n,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,sN(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:gi(e.type,a),o.props=u,f=e.pendingProps,p=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=ni(l):(l=mn(r)?xl:$r.current,l=oc(e,l));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&mA(e,o,n,l),Fo=!1,p=e.memoizedState,o.state=p,wg(e,n,o,i);var v=e.memoizedState;a!==f||p!==v||pn.current||Fo?(typeof g=="function"&&(bx(e,r,g,n),v=e.memoizedState),(u=Fo||pA(e,r,u,n,p,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return Sx(t,e,r,n,s,i)}function Sx(t,e,r,n,i,s){ON(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&uA(e,r,!1),Js(t,e,s);n=e.stateNode,DU.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=lc(e,t.child,null,s),e.child=lc(e,null,a,s)):Yr(t,e,a,s),e.memoizedState=n.state,i&&uA(e,r,!0),e.child}function DN(t){var e=t.stateNode;e.pendingContext?lA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lA(t,e.context,!1),rS(t,e.containerInfo)}function TA(t,e,r,n,i){return ac(),Qw(i),e.flags|=256,Yr(t,e,r,n),e.child}var Ex={dehydrated:null,treeContext:null,retryLane:0};function Tx(t){return{baseLanes:t,cachePool:null,transitions:null}}function LN(t,e,r){var n=e.pendingProps,i=Dt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),bt(Dt,i&1),t===null)return vx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=$0(o,n,0,null),t=dl(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Tx(r),e.memoizedState=Ex,t):cS(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return LU(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=ua(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ua(a,s):(s=dl(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?Tx(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=Ex,n}return s=t.child,t=s.sibling,n=ua(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function cS(t,e){return e=$0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ep(t,e,r,n){return n!==null&&Qw(n),lc(e,t.child,null,r),t=cS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function LU(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=b1(Error(le(422))),Ep(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=$0({mode:"visible",children:n.children},i,0,null),s=dl(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&lc(e,t.child,null,o),e.child.memoizedState=Tx(o),e.memoizedState=Ex,s);if(!(e.mode&1))return Ep(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(le(419)),n=b1(s,n,void 0),Ep(t,e,o,n)}if(a=(o&t.childLanes)!==0,hn||a){if(n=xr,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Zs(t,i),Mi(n,t,i,-1))}return gS(),n=b1(Error(le(421))),Ep(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=YU.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,In=sa(i.nextSibling),Pn=e,Mt=!0,bi=null,t!==null&&(qn[Yn++]=zs,qn[Yn++]=js,qn[Yn++]=_l,zs=t.id,js=t.overflow,_l=e),e=cS(e,n.children),e.flags|=4096,e)}function AA(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),yx(t.return,e,r)}function x1(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function FN(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Yr(t,e,n.children,r),n=Dt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&AA(t,r,e);else if(t.tag===19)AA(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(bt(Dt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Sg(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),x1(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Sg(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}x1(e,!0,r,null,s);break;case"together":x1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Js(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Sl|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(le(153));if(e.child!==null){for(t=e.child,r=ua(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ua(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function FU(t,e,r){switch(e.tag){case 3:DN(e),ac();break;case 5:cN(e);break;case 1:mn(e.type)&&vg(e);break;case 4:rS(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;bt(xg,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(bt(Dt,Dt.current&1),e.flags|=128,null):r&e.child.childLanes?LN(t,e,r):(bt(Dt,Dt.current&1),t=Js(t,e,r),t!==null?t.sibling:null);bt(Dt,Dt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return FN(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),bt(Dt,Dt.current),n)break;return null;case 22:case 23:return e.lanes=0,RN(t,e,r)}return Js(t,e,r)}var UN,Ax,BN,zN;UN=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ax=function(){};BN=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,il(gs.current);var s=null;switch(r){case"input":i=qb(t,i),n=qb(t,n),s=[];break;case"select":i=Ut({},i,{value:void 0}),n=Ut({},n,{value:void 0}),s=[];break;case"textarea":i=Kb(t,i),n=Kb(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=mg)}Jb(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hd.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hd.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&_t("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};zN=function(t,e,r,n){r!==n&&(e.flags|=4)};function ch(t,e){if(!Mt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ur(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function UU(t,e,r){var n=e.pendingProps;switch(Yw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ur(e),null;case 1:return mn(e.type)&&gg(),Ur(e),null;case 3:return n=e.stateNode,uc(),St(pn),St($r),iS(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(wp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bi!==null&&(Ox(bi),bi=null))),Ax(t,e),Ur(e),null;case 5:nS(e);var i=il(Sd.current);if(r=e.type,t!==null&&e.stateNode!=null)BN(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(le(166));return Ur(e),null}if(t=il(gs.current),wp(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[cs]=e,n[_d]=s,t=(e.mode&1)!==0,r){case"dialog":_t("cancel",n),_t("close",n);break;case"iframe":case"object":case"embed":_t("load",n);break;case"video":case"audio":for(i=0;i<Ph.length;i++)_t(Ph[i],n);break;case"source":_t("error",n);break;case"img":case"image":case"link":_t("error",n),_t("load",n);break;case"details":_t("toggle",n);break;case"input":DT(n,s),_t("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},_t("invalid",n);break;case"textarea":FT(n,s),_t("invalid",n)}Jb(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&_p(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&_p(n.textContent,a,t),i=["children",""+a]):hd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&_t("scroll",n)}switch(r){case"input":fp(n),LT(n,s,!0);break;case"textarea":fp(n),UT(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=mg)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fk(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[cs]=e,t[_d]=n,UN(t,e,!1,!1),e.stateNode=t;e:{switch(o=ex(r,n),r){case"dialog":_t("cancel",t),_t("close",t),i=n;break;case"iframe":case"object":case"embed":_t("load",t),i=n;break;case"video":case"audio":for(i=0;i<Ph.length;i++)_t(Ph[i],t);i=n;break;case"source":_t("error",t),i=n;break;case"img":case"image":case"link":_t("error",t),_t("load",t),i=n;break;case"details":_t("toggle",t),i=n;break;case"input":DT(t,n),i=qb(t,n),_t("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Ut({},n,{value:void 0}),_t("invalid",t);break;case"textarea":FT(t,n),i=Kb(t,n),_t("invalid",t);break;default:i=n}Jb(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?gk(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pk(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&dd(t,l):typeof l=="number"&&dd(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(hd.hasOwnProperty(s)?l!=null&&s==="onScroll"&&_t("scroll",t):l!=null&&Ow(t,s,l,o))}switch(r){case"input":fp(t),LT(t,n,!1);break;case"textarea":fp(t),UT(t);break;case"option":n.value!=null&&t.setAttribute("value",""+da(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Gu(t,!!n.multiple,s,!1):n.defaultValue!=null&&Gu(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=mg)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ur(e),null;case 6:if(t&&e.stateNode!=null)zN(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(le(166));if(r=il(Sd.current),il(gs.current),wp(e)){if(n=e.stateNode,r=e.memoizedProps,n[cs]=e,(s=n.nodeValue!==r)&&(t=Pn,t!==null))switch(t.tag){case 3:_p(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_p(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[cs]=e,e.stateNode=n}return Ur(e),null;case 13:if(St(Dt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Mt&&In!==null&&e.mode&1&&!(e.flags&128))nN(),ac(),e.flags|=98560,s=!1;else if(s=wp(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(le(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(le(317));s[cs]=e}else ac(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ur(e),s=!1}else bi!==null&&(Ox(bi),bi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Dt.current&1?ar===0&&(ar=3):gS())),e.updateQueue!==null&&(e.flags|=4),Ur(e),null);case 4:return uc(),Ax(t,e),t===null&&bd(e.stateNode.containerInfo),Ur(e),null;case 10:return Jw(e.type._context),Ur(e),null;case 17:return mn(e.type)&&gg(),Ur(e),null;case 19:if(St(Dt),s=e.memoizedState,s===null)return Ur(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)ch(s,!1);else{if(ar!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Sg(t),o!==null){for(e.flags|=128,ch(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return bt(Dt,Dt.current&1|2),e.child}t=t.sibling}s.tail!==null&&qt()>hc&&(e.flags|=128,n=!0,ch(s,!1),e.lanes=4194304)}else{if(!n)if(t=Sg(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ch(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Mt)return Ur(e),null}else 2*qt()-s.renderingStartTime>hc&&r!==1073741824&&(e.flags|=128,n=!0,ch(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=qt(),e.sibling=null,r=Dt.current,bt(Dt,n?r&1|2:r&1),e):(Ur(e),null);case 22:case 23:return mS(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Cn&1073741824&&(Ur(e),e.subtreeFlags&6&&(e.flags|=8192)):Ur(e),null;case 24:return null;case 25:return null}throw Error(le(156,e.tag))}function BU(t,e){switch(Yw(e),e.tag){case 1:return mn(e.type)&&gg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return uc(),St(pn),St($r),iS(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nS(e),null;case 13:if(St(Dt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(le(340));ac()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return St(Dt),null;case 4:return uc(),null;case 10:return Jw(e.type._context),null;case 22:case 23:return mS(),null;case 24:return null;default:return null}}var Tp=!1,zr=!1,zU=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function ku(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){zt(t,e,n)}else r.current=null}function Cx(t,e,r){try{r()}catch(n){zt(t,e,n)}}var CA=!1;function jU(t,e){if(cx=dg,t=Hk(),Xw(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,p=null;t:for(;;){for(var g;f!==r||i!==0&&f.nodeType!==3||(a=o+i),f!==s||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===r&&++u===i&&(a=o),p===s&&++d===n&&(l=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(hx={focusedElem:t,selectionRange:r},dg=!1,Ee=e;Ee!==null;)if(e=Ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ee=t;else for(;Ee!==null;){e=Ee;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,E=v.memoizedState,w=e.stateNode,S=w.getSnapshotBeforeUpdate(e.elementType===e.type?b:gi(e.type,b),E);w.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(A){zt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Ee=t;break}Ee=e.return}return v=CA,CA=!1,v}function qh(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Cx(e,r,s)}i=i.next}while(i!==n)}}function z0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Ix(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function jN(t){var e=t.alternate;e!==null&&(t.alternate=null,jN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cs],delete e[_d],delete e[px],delete e[SU],delete e[EU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $N(t){return t.tag===5||t.tag===3||t.tag===4}function IA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$N(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Px(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=mg));else if(n!==4&&(t=t.child,t!==null))for(Px(t,e,r),t=t.sibling;t!==null;)Px(t,e,r),t=t.sibling}function Mx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Mx(t,e,r),t=t.sibling;t!==null;)Mx(t,e,r),t=t.sibling}var Ar=null,vi=!1;function Eo(t,e,r){for(r=r.child;r!==null;)GN(t,e,r),r=r.sibling}function GN(t,e,r){if(ms&&typeof ms.onCommitFiberUnmount=="function")try{ms.onCommitFiberUnmount(N0,r)}catch{}switch(r.tag){case 5:zr||ku(r,e);case 6:var n=Ar,i=vi;Ar=null,Eo(t,e,r),Ar=n,vi=i,Ar!==null&&(vi?(t=Ar,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ar.removeChild(r.stateNode));break;case 18:Ar!==null&&(vi?(t=Ar,r=r.stateNode,t.nodeType===8?f1(t.parentNode,r):t.nodeType===1&&f1(t,r),gd(t)):f1(Ar,r.stateNode));break;case 4:n=Ar,i=vi,Ar=r.stateNode.containerInfo,vi=!0,Eo(t,e,r),Ar=n,vi=i;break;case 0:case 11:case 14:case 15:if(!zr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Cx(r,e,o),i=i.next}while(i!==n)}Eo(t,e,r);break;case 1:if(!zr&&(ku(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){zt(r,e,a)}Eo(t,e,r);break;case 21:Eo(t,e,r);break;case 22:r.mode&1?(zr=(n=zr)||r.memoizedState!==null,Eo(t,e,r),zr=n):Eo(t,e,r);break;default:Eo(t,e,r)}}function PA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new zU),e.forEach(function(n){var i=QU.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function hi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ar=a.stateNode,vi=!1;break e;case 3:Ar=a.stateNode.containerInfo,vi=!0;break e;case 4:Ar=a.stateNode.containerInfo,vi=!0;break e}a=a.return}if(Ar===null)throw Error(le(160));GN(s,o,i),Ar=null,vi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){zt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)HN(e,t),e=e.sibling}function HN(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(hi(e,t),Qi(t),n&4){try{qh(3,t,t.return),z0(3,t)}catch(b){zt(t,t.return,b)}try{qh(5,t,t.return)}catch(b){zt(t,t.return,b)}}break;case 1:hi(e,t),Qi(t),n&512&&r!==null&&ku(r,r.return);break;case 5:if(hi(e,t),Qi(t),n&512&&r!==null&&ku(r,r.return),t.flags&32){var i=t.stateNode;try{dd(i,"")}catch(b){zt(t,t.return,b)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&hk(i,s),ex(a,o);var u=ex(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?gk(i,f):d==="dangerouslySetInnerHTML"?pk(i,f):d==="children"?dd(i,f):Ow(i,d,f,u)}switch(a){case"input":Yb(i,s);break;case"textarea":dk(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Gu(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?Gu(i,!!s.multiple,s.defaultValue,!0):Gu(i,!!s.multiple,s.multiple?[]:"",!1))}i[_d]=s}catch(b){zt(t,t.return,b)}}break;case 6:if(hi(e,t),Qi(t),n&4){if(t.stateNode===null)throw Error(le(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){zt(t,t.return,b)}}break;case 3:if(hi(e,t),Qi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{gd(e.containerInfo)}catch(b){zt(t,t.return,b)}break;case 4:hi(e,t),Qi(t);break;case 13:hi(e,t),Qi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(fS=qt())),n&4&&PA(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(zr=(u=zr)||d,hi(e,t),zr=u):hi(e,t),Qi(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Ee=t,d=t.child;d!==null;){for(f=Ee=d;Ee!==null;){switch(p=Ee,g=p.child,p.tag){case 0:case 11:case 14:case 15:qh(4,p,p.return);break;case 1:ku(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){zt(n,r,b)}}break;case 5:ku(p,p.return);break;case 22:if(p.memoizedState!==null){kA(f);continue}}g!==null?(g.return=p,Ee=g):kA(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=mk("display",o))}catch(b){zt(t,t.return,b)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){zt(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:hi(e,t),Qi(t),n&4&&PA(t);break;case 21:break;default:hi(e,t),Qi(t)}}function Qi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if($N(r)){var n=r;break e}r=r.return}throw Error(le(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(dd(i,""),n.flags&=-33);var s=IA(t);Mx(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=IA(t);Px(t,a,o);break;default:throw Error(le(161))}}catch(l){zt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $U(t,e,r){Ee=t,VN(t)}function VN(t,e,r){for(var n=(t.mode&1)!==0;Ee!==null;){var i=Ee,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Tp;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||zr;a=Tp;var u=zr;if(Tp=o,(zr=l)&&!u)for(Ee=i;Ee!==null;)o=Ee,l=o.child,o.tag===22&&o.memoizedState!==null?NA(i):l!==null?(l.return=o,Ee=l):NA(i);for(;s!==null;)Ee=s,VN(s),s=s.sibling;Ee=i,Tp=a,zr=u}MA(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ee=s):MA(t)}}function MA(t){for(;Ee!==null;){var e=Ee;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zr||z0(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!zr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:gi(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&fA(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}fA(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&gd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}zr||e.flags&512&&Ix(e)}catch(p){zt(e,e.return,p)}}if(e===t){Ee=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ee=r;break}Ee=e.return}}function kA(t){for(;Ee!==null;){var e=Ee;if(e===t){Ee=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ee=r;break}Ee=e.return}}function NA(t){for(;Ee!==null;){var e=Ee;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{z0(4,e)}catch(l){zt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){zt(e,i,l)}}var s=e.return;try{Ix(e)}catch(l){zt(e,s,l)}break;case 5:var o=e.return;try{Ix(e)}catch(l){zt(e,o,l)}}}catch(l){zt(e,e.return,l)}if(e===t){Ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ee=a;break}Ee=e.return}}var GU=Math.ceil,Ag=ao.ReactCurrentDispatcher,hS=ao.ReactCurrentOwner,ei=ao.ReactCurrentBatchConfig,it=0,xr=null,Zt=null,Mr=0,Cn=0,Nu=Ea(0),ar=0,Cd=null,Sl=0,j0=0,dS=0,Yh=null,un=null,fS=0,hc=1/0,Ls=null,Cg=!1,kx=null,aa=null,Ap=!1,qo=null,Ig=0,Qh=0,Nx=null,km=-1,Nm=0;function Kr(){return it&6?qt():km!==-1?km:km=qt()}function la(t){return t.mode&1?it&2&&Mr!==0?Mr&-Mr:AU.transition!==null?(Nm===0&&(Nm=Ik()),Nm):(t=ht,t!==0||(t=window.event,t=t===void 0?16:Dk(t.type)),t):1}function Mi(t,e,r,n){if(50<Qh)throw Qh=0,Nx=null,Error(le(185));Qd(t,r,n),(!(it&2)||t!==xr)&&(t===xr&&(!(it&2)&&(j0|=r),ar===4&&Vo(t,Mr)),gn(t,n),r===1&&it===0&&!(e.mode&1)&&(hc=qt()+500,F0&&Ta()))}function gn(t,e){var r=t.callbackNode;A5(t,e);var n=hg(t,t===xr?Mr:0);if(n===0)r!==null&&jT(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&jT(r),e===1)t.tag===0?TU(RA.bind(null,t)):eN(RA.bind(null,t)),_U(function(){!(it&6)&&Ta()}),r=null;else{switch(Pk(n)){case 1:r=Bw;break;case 4:r=Ak;break;case 16:r=cg;break;case 536870912:r=Ck;break;default:r=cg}r=JN(r,WN.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function WN(t,e){if(km=-1,Nm=0,it&6)throw Error(le(327));var r=t.callbackNode;if(qu()&&t.callbackNode!==r)return null;var n=hg(t,t===xr?Mr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Pg(t,n);else{e=n;var i=it;it|=2;var s=qN();(xr!==t||Mr!==e)&&(Ls=null,hc=qt()+500,hl(t,e));do try{WU();break}catch(a){XN(t,a)}while(1);Zw(),Ag.current=s,it=i,Zt!==null?e=0:(xr=null,Mr=0,e=ar)}if(e!==0){if(e===2&&(i=sx(t),i!==0&&(n=i,e=Rx(t,i))),e===1)throw r=Cd,hl(t,0),Vo(t,n),gn(t,qt()),r;if(e===6)Vo(t,n);else{if(i=t.current.alternate,!(n&30)&&!HU(i)&&(e=Pg(t,n),e===2&&(s=sx(t),s!==0&&(n=s,e=Rx(t,s))),e===1))throw r=Cd,hl(t,0),Vo(t,n),gn(t,qt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(le(345));case 2:Va(t,un,Ls);break;case 3:if(Vo(t,n),(n&130023424)===n&&(e=fS+500-qt(),10<e)){if(hg(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Kr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=fx(Va.bind(null,t,un,Ls),e);break}Va(t,un,Ls);break;case 4:if(Vo(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Pi(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=qt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*GU(n/1960))-n,10<n){t.timeoutHandle=fx(Va.bind(null,t,un,Ls),n);break}Va(t,un,Ls);break;case 5:Va(t,un,Ls);break;default:throw Error(le(329))}}}return gn(t,qt()),t.callbackNode===r?WN.bind(null,t):null}function Rx(t,e){var r=Yh;return t.current.memoizedState.isDehydrated&&(hl(t,e).flags|=256),t=Pg(t,e),t!==2&&(e=un,un=r,e!==null&&Ox(e)),t}function Ox(t){un===null?un=t:un.push.apply(un,t)}function HU(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Oi(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vo(t,e){for(e&=~dS,e&=~j0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Pi(e),n=1<<r;t[r]=-1,e&=~n}}function RA(t){if(it&6)throw Error(le(327));qu();var e=hg(t,0);if(!(e&1))return gn(t,qt()),null;var r=Pg(t,e);if(t.tag!==0&&r===2){var n=sx(t);n!==0&&(e=n,r=Rx(t,n))}if(r===1)throw r=Cd,hl(t,0),Vo(t,e),gn(t,qt()),r;if(r===6)throw Error(le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Va(t,un,Ls),gn(t,qt()),null}function pS(t,e){var r=it;it|=1;try{return t(e)}finally{it=r,it===0&&(hc=qt()+500,F0&&Ta())}}function El(t){qo!==null&&qo.tag===0&&!(it&6)&&qu();var e=it;it|=1;var r=ei.transition,n=ht;try{if(ei.transition=null,ht=1,t)return t()}finally{ht=n,ei.transition=r,it=e,!(it&6)&&Ta()}}function mS(){Cn=Nu.current,St(Nu)}function hl(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,xU(r)),Zt!==null)for(r=Zt.return;r!==null;){var n=r;switch(Yw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&gg();break;case 3:uc(),St(pn),St($r),iS();break;case 5:nS(n);break;case 4:uc();break;case 13:St(Dt);break;case 19:St(Dt);break;case 10:Jw(n.type._context);break;case 22:case 23:mS()}r=r.return}if(xr=t,Zt=t=ua(t.current,null),Mr=Cn=e,ar=0,Cd=null,dS=j0=Sl=0,un=Yh=null,nl!==null){for(e=0;e<nl.length;e++)if(r=nl[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}nl=null}return t}function XN(t,e){do{var r=Zt;try{if(Zw(),Im.current=Tg,Eg){for(var n=Ft.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Eg=!1}if(wl=0,vr=sr=Ft=null,Xh=!1,Ed=0,hS.current=null,r===null||r.return===null){ar=1,Cd=e,Zt=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=Mr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=xA(o);if(g!==null){g.flags&=-257,_A(g,o,a,s,e),g.mode&1&&bA(s,u,e),e=g,l=u;var v=e.updateQueue;if(v===null){var b=new Set;b.add(l),e.updateQueue=b}else v.add(l);break e}else{if(!(e&1)){bA(s,u,e),gS();break e}l=Error(le(426))}}else if(Mt&&a.mode&1){var E=xA(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),_A(E,o,a,s,e),Qw(cc(l,a));break e}}s=l=cc(l,a),ar!==4&&(ar=2),Yh===null?Yh=[s]:Yh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=MN(s,l,e);dA(s,w);break e;case 1:a=l;var S=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(aa===null||!aa.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=kN(s,a,e);dA(s,A);break e}}s=s.return}while(s!==null)}QN(r)}catch(P){e=P,Zt===r&&r!==null&&(Zt=r=r.return);continue}break}while(1)}function qN(){var t=Ag.current;return Ag.current=Tg,t===null?Tg:t}function gS(){(ar===0||ar===3||ar===2)&&(ar=4),xr===null||!(Sl&268435455)&&!(j0&268435455)||Vo(xr,Mr)}function Pg(t,e){var r=it;it|=2;var n=qN();(xr!==t||Mr!==e)&&(Ls=null,hl(t,e));do try{VU();break}catch(i){XN(t,i)}while(1);if(Zw(),it=r,Ag.current=n,Zt!==null)throw Error(le(261));return xr=null,Mr=0,ar}function VU(){for(;Zt!==null;)YN(Zt)}function WU(){for(;Zt!==null&&!v5();)YN(Zt)}function YN(t){var e=ZN(t.alternate,t,Cn);t.memoizedProps=t.pendingProps,e===null?QN(t):Zt=e,hS.current=null}function QN(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=BU(r,e),r!==null){r.flags&=32767,Zt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ar=6,Zt=null;return}}else if(r=UU(r,e,Cn),r!==null){Zt=r;return}if(e=e.sibling,e!==null){Zt=e;return}Zt=e=t}while(e!==null);ar===0&&(ar=5)}function Va(t,e,r){var n=ht,i=ei.transition;try{ei.transition=null,ht=1,XU(t,e,r,n)}finally{ei.transition=i,ht=n}return null}function XU(t,e,r,n){do qu();while(qo!==null);if(it&6)throw Error(le(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(le(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(C5(t,s),t===xr&&(Zt=xr=null,Mr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ap||(Ap=!0,JN(cg,function(){return qu(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ei.transition,ei.transition=null;var o=ht;ht=1;var a=it;it|=4,hS.current=null,jU(t,r),HN(r,t),fU(hx),dg=!!cx,hx=cx=null,t.current=r,$U(r),y5(),it=a,ht=o,ei.transition=s}else t.current=r;if(Ap&&(Ap=!1,qo=t,Ig=i),s=t.pendingLanes,s===0&&(aa=null),_5(r.stateNode),gn(t,qt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Cg)throw Cg=!1,t=kx,kx=null,t;return Ig&1&&t.tag!==0&&qu(),s=t.pendingLanes,s&1?t===Nx?Qh++:(Qh=0,Nx=t):Qh=0,Ta(),null}function qu(){if(qo!==null){var t=Pk(Ig),e=ei.transition,r=ht;try{if(ei.transition=null,ht=16>t?16:t,qo===null)var n=!1;else{if(t=qo,qo=null,Ig=0,it&6)throw Error(le(331));var i=it;for(it|=4,Ee=t.current;Ee!==null;){var s=Ee,o=s.child;if(Ee.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ee=u;Ee!==null;){var d=Ee;switch(d.tag){case 0:case 11:case 15:qh(8,d,s)}var f=d.child;if(f!==null)f.return=d,Ee=f;else for(;Ee!==null;){d=Ee;var p=d.sibling,g=d.return;if(jN(d),d===u){Ee=null;break}if(p!==null){p.return=g,Ee=p;break}Ee=g}}}var v=s.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var E=b.sibling;b.sibling=null,b=E}while(b!==null)}}Ee=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ee=o;else e:for(;Ee!==null;){if(s=Ee,s.flags&2048)switch(s.tag){case 0:case 11:case 15:qh(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Ee=w;break e}Ee=s.return}}var S=t.current;for(Ee=S;Ee!==null;){o=Ee;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Ee=_;else e:for(o=S;Ee!==null;){if(a=Ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:z0(9,a)}}catch(P){zt(a,a.return,P)}if(a===o){Ee=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,Ee=A;break e}Ee=a.return}}if(it=i,Ta(),ms&&typeof ms.onPostCommitFiberRoot=="function")try{ms.onPostCommitFiberRoot(N0,t)}catch{}n=!0}return n}finally{ht=r,ei.transition=e}}return!1}function OA(t,e,r){e=cc(r,e),e=MN(t,e,1),t=oa(t,e,1),e=Kr(),t!==null&&(Qd(t,1,e),gn(t,e))}function zt(t,e,r){if(t.tag===3)OA(t,t,r);else for(;e!==null;){if(e.tag===3){OA(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(aa===null||!aa.has(n))){t=cc(r,t),t=kN(e,t,1),e=oa(e,t,1),t=Kr(),e!==null&&(Qd(e,1,t),gn(e,t));break}}e=e.return}}function qU(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Kr(),t.pingedLanes|=t.suspendedLanes&r,xr===t&&(Mr&r)===r&&(ar===4||ar===3&&(Mr&130023424)===Mr&&500>qt()-fS?hl(t,0):dS|=r),gn(t,e)}function KN(t,e){e===0&&(t.mode&1?(e=gp,gp<<=1,!(gp&130023424)&&(gp=4194304)):e=1);var r=Kr();t=Zs(t,e),t!==null&&(Qd(t,e,r),gn(t,r))}function YU(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),KN(t,r)}function QU(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(le(314))}n!==null&&n.delete(e),KN(t,r)}var ZN;ZN=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||pn.current)hn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return hn=!1,FU(t,e,r);hn=!!(t.flags&131072)}else hn=!1,Mt&&e.flags&1048576&&tN(e,bg,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Mm(t,e),t=e.pendingProps;var i=oc(e,$r.current);Xu(e,r),i=oS(null,e,n,t,i,r);var s=aS();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mn(n)?(s=!0,vg(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,tS(e),i.updater=U0,e.stateNode=i,i._reactInternals=e,xx(e,n,t,r),e=Sx(null,e,n,!0,s,r)):(e.tag=0,Mt&&s&&qw(e),Yr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Mm(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=ZU(n),t=gi(n,t),i){case 0:e=wx(null,e,n,t,r);break e;case 1:e=EA(null,e,n,t,r);break e;case 11:e=wA(null,e,n,t,r);break e;case 14:e=SA(null,e,n,gi(n.type,t),r);break e}throw Error(le(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:gi(n,i),wx(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:gi(n,i),EA(t,e,n,i,r);case 3:e:{if(DN(e),t===null)throw Error(le(387));n=e.pendingProps,s=e.memoizedState,i=s.element,sN(t,e),wg(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=cc(Error(le(423)),e),e=TA(t,e,n,r,i);break e}else if(n!==i){i=cc(Error(le(424)),e),e=TA(t,e,n,r,i);break e}else for(In=sa(e.stateNode.containerInfo.firstChild),Pn=e,Mt=!0,bi=null,r=uN(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ac(),n===i){e=Js(t,e,r);break e}Yr(t,e,n,r)}e=e.child}return e;case 5:return cN(e),t===null&&vx(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,dx(n,i)?o=null:s!==null&&dx(n,s)&&(e.flags|=32),ON(t,e),Yr(t,e,o,r),e.child;case 6:return t===null&&vx(e),null;case 13:return LN(t,e,r);case 4:return rS(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=lc(e,null,n,r):Yr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:gi(n,i),wA(t,e,n,i,r);case 7:return Yr(t,e,e.pendingProps,r),e.child;case 8:return Yr(t,e,e.pendingProps.children,r),e.child;case 12:return Yr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,bt(xg,n._currentValue),n._currentValue=o,s!==null)if(Oi(s.value,o)){if(s.children===i.children&&!pn.current){e=Js(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Vs(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),yx(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(le(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),yx(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Yr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Xu(e,r),i=ni(i),n=n(i),e.flags|=1,Yr(t,e,n,r),e.child;case 14:return n=e.type,i=gi(n,e.pendingProps),i=gi(n.type,i),SA(t,e,n,i,r);case 15:return NN(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:gi(n,i),Mm(t,e),e.tag=1,mn(n)?(t=!0,vg(e)):t=!1,Xu(e,r),aN(e,n,i),xx(e,n,i,r),Sx(null,e,n,!0,t,r);case 19:return FN(t,e,r);case 22:return RN(t,e,r)}throw Error(le(156,e.tag))};function JN(t,e){return Tk(t,e)}function KU(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,e,r,n){return new KU(t,e,r,n)}function vS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ZU(t){if(typeof t=="function")return vS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Lw)return 11;if(t===Fw)return 14}return 2}function ua(t,e){var r=t.alternate;return r===null?(r=Kn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Rm(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")vS(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case wu:return dl(r.children,i,s,e);case Dw:o=8,i|=8;break;case Hb:return t=Kn(12,r,e,i|2),t.elementType=Hb,t.lanes=s,t;case Vb:return t=Kn(13,r,e,i),t.elementType=Vb,t.lanes=s,t;case Wb:return t=Kn(19,r,e,i),t.elementType=Wb,t.lanes=s,t;case lk:return $0(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ok:o=10;break e;case ak:o=9;break e;case Lw:o=11;break e;case Fw:o=14;break e;case Lo:o=16,n=null;break e}throw Error(le(130,t==null?t:typeof t,""))}return e=Kn(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function dl(t,e,r,n){return t=Kn(7,t,n,e),t.lanes=r,t}function $0(t,e,r,n){return t=Kn(22,t,n,e),t.elementType=lk,t.lanes=r,t.stateNode={isHidden:!1},t}function _1(t,e,r){return t=Kn(6,t,null,e),t.lanes=r,t}function w1(t,e,r){return e=Kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function JU(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=r1(0),this.expirationTimes=r1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=r1(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function yS(t,e,r,n,i,s,o,a,l){return t=new JU(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Kn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},tS(s),t}function eB(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_u,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function eR(t){if(!t)return fa;t=t._reactInternals;e:{if(Rl(t)!==t||t.tag!==1)throw Error(le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(le(171))}if(t.tag===1){var r=t.type;if(mn(r))return Jk(t,r,e)}return e}function tR(t,e,r,n,i,s,o,a,l){return t=yS(r,n,!0,t,i,s,o,a,l),t.context=eR(null),r=t.current,n=Kr(),i=la(r),s=Vs(n,i),s.callback=e??null,oa(r,s,i),t.current.lanes=i,Qd(t,i,n),gn(t,n),t}function G0(t,e,r,n){var i=e.current,s=Kr(),o=la(i);return r=eR(r),e.context===null?e.context=r:e.pendingContext=r,e=Vs(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=oa(i,e,o),t!==null&&(Mi(t,i,o,s),Cm(t,i,o)),o}function Mg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function DA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function bS(t,e){DA(t,e),(t=t.alternate)&&DA(t,e)}function tB(){return null}var rR=typeof reportError=="function"?reportError:function(t){console.error(t)};function xS(t){this._internalRoot=t}H0.prototype.render=xS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(le(409));G0(t,e,null,null)};H0.prototype.unmount=xS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;El(function(){G0(null,t,null,null)}),e[Ks]=null}};function H0(t){this._internalRoot=t}H0.prototype.unstable_scheduleHydration=function(t){if(t){var e=Nk();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ho.length&&e!==0&&e<Ho[r].priority;r++);Ho.splice(r,0,t),r===0&&Ok(t)}};function _S(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function V0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function LA(){}function rB(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=Mg(o);s.call(u)}}var o=tR(e,n,t,0,null,!1,!1,"",LA);return t._reactRootContainer=o,t[Ks]=o.current,bd(t.nodeType===8?t.parentNode:t),El(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=Mg(l);a.call(u)}}var l=yS(t,0,!1,null,null,!1,!1,"",LA);return t._reactRootContainer=l,t[Ks]=l.current,bd(t.nodeType===8?t.parentNode:t),El(function(){G0(e,l,r,n)}),l}function W0(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Mg(o);a.call(l)}}G0(e,o,t,i)}else o=rB(r,e,t,i,n);return Mg(o)}Mk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ih(e.pendingLanes);r!==0&&(zw(e,r|1),gn(e,qt()),!(it&6)&&(hc=qt()+500,Ta()))}break;case 13:El(function(){var n=Zs(t,1);if(n!==null){var i=Kr();Mi(n,t,1,i)}}),bS(t,1)}};jw=function(t){if(t.tag===13){var e=Zs(t,134217728);if(e!==null){var r=Kr();Mi(e,t,134217728,r)}bS(t,134217728)}};kk=function(t){if(t.tag===13){var e=la(t),r=Zs(t,e);if(r!==null){var n=Kr();Mi(r,t,e,n)}bS(t,e)}};Nk=function(){return ht};Rk=function(t,e){var r=ht;try{return ht=t,e()}finally{ht=r}};rx=function(t,e,r){switch(e){case"input":if(Yb(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=L0(n);if(!i)throw Error(le(90));ck(n),Yb(n,i)}}}break;case"textarea":dk(t,r);break;case"select":e=r.value,e!=null&&Gu(t,!!r.multiple,e,!1)}};bk=pS;xk=El;var nB={usingClientEntryPoint:!1,Events:[Zd,Au,L0,vk,yk,pS]},hh={findFiberByHostInstance:rl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},iB={bundleType:hh.bundleType,version:hh.version,rendererPackageName:hh.rendererPackageName,rendererConfig:hh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ao.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Sk(t),t===null?null:t.stateNode},findFiberByHostInstance:hh.findFiberByHostInstance||tB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cp.isDisabled&&Cp.supportsFiber)try{N0=Cp.inject(iB),ms=Cp}catch{}}Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nB;Nn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_S(e))throw Error(le(200));return eB(t,e,null,r)};Nn.createRoot=function(t,e){if(!_S(t))throw Error(le(299));var r=!1,n="",i=rR;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=yS(t,1,!1,null,null,r,!1,n,i),t[Ks]=e.current,bd(t.nodeType===8?t.parentNode:t),new xS(e)};Nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(le(188)):(t=Object.keys(t).join(","),Error(le(268,t)));return t=Sk(e),t=t===null?null:t.stateNode,t};Nn.flushSync=function(t){return El(t)};Nn.hydrate=function(t,e,r){if(!V0(e))throw Error(le(200));return W0(null,t,e,!0,r)};Nn.hydrateRoot=function(t,e,r){if(!_S(t))throw Error(le(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=rR;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=tR(e,null,t,1,r??null,i,!1,s,o),t[Ks]=e.current,bd(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new H0(e)};Nn.render=function(t,e,r){if(!V0(e))throw Error(le(200));return W0(null,t,e,!1,r)};Nn.unmountComponentAtNode=function(t){if(!V0(t))throw Error(le(40));return t._reactRootContainer?(El(function(){W0(null,null,t,!1,function(){t._reactRootContainer=null,t[Ks]=null})}),!0):!1};Nn.unstable_batchedUpdates=pS;Nn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!V0(r))throw Error(le(200));if(t==null||t._reactInternals===void 0)throw Error(le(38));return W0(t,e,r,!1,n)};Nn.version="18.2.0-next-9e3b772b8-20220608";function nR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nR)}catch(t){console.error(t)}}nR(),tk.exports=Nn;var wS=tk.exports;const sB=wa(wS);var FA=wS;$b.createRoot=FA.createRoot,$b.hydrateRoot=FA.hydrateRoot;/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Id(){return Id=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Id.apply(this,arguments)}var Yo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yo||(Yo={}));const UA="popstate";function oB(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return Dx("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:kg(i)}return lB(e,r,null,t)}function kr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function SS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aB(){return Math.random().toString(36).substr(2,8)}function BA(t,e){return{usr:t.state,key:t.key,idx:e}}function Dx(t,e,r,n){return r===void 0&&(r=null),Id({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Sc(e):e,{state:r,key:e&&e.key||n||aB()})}function kg(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Sc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function lB(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=Yo.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Id({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Yo.Pop;let E=d(),w=E==null?null:E-u;u=E,l&&l({action:a,location:b.location,delta:w})}function p(E,w){a=Yo.Push;let S=Dx(b.location,E,w);r&&r(S,E),u=d()+1;let _=BA(S,u),A=b.createHref(S);try{o.pushState(_,"",A)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(A)}s&&l&&l({action:a,location:b.location,delta:1})}function g(E,w){a=Yo.Replace;let S=Dx(b.location,E,w);r&&r(S,E),u=d();let _=BA(S,u),A=b.createHref(S);o.replaceState(_,"",A),s&&l&&l({action:a,location:b.location,delta:0})}function v(E){let w=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof E=="string"?E:kg(E);return kr(w,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,w)}let b={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(UA,f),l=E,()=>{i.removeEventListener(UA,f),l=null}},createHref(E){return e(i,E)},createURL:v,encodeLocation(E){let w=v(E);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(E){return o.go(E)}};return b}var zA;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(zA||(zA={}));function uB(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?Sc(e):e,i=ES(n.pathname||"/",r);if(i==null)return null;let s=iR(t);cB(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=bB(s[a],_B(i));return o}function iR(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(kr(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=ca([n,l.relativePath]),d=r.concat(l);s.children&&s.children.length>0&&(kr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),iR(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:vB(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of sR(s.path))i(s,o,l)}),e}function sR(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=sR(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function cB(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:yB(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const hB=/^:\w+$/,dB=3,fB=2,pB=1,mB=10,gB=-2,jA=t=>t==="*";function vB(t,e){let r=t.split("/"),n=r.length;return r.some(jA)&&(n+=gB),e&&(n+=fB),r.filter(i=>!jA(i)).reduce((i,s)=>i+(hB.test(s)?dB:s===""?pB:mB),n)}function yB(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function bB(t,e){let{routesMeta:r}=t,n={},i="/",s=[];for(let o=0;o<r.length;++o){let a=r[o],l=o===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=oR({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!d)return null;Object.assign(n,d.params);let f=a.route;s.push({params:n,pathname:ca([i,d.pathname]),pathnameBase:TB(ca([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=ca([i,d.pathnameBase]))}return s}function oR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=xB(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let b=a[f]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const v=a[f];return g&&!v?u[p]=void 0:u[p]=wB(v||"",p),u},{}),pathname:s,pathnameBase:o,pattern:t}}function xB(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),SS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function _B(t){try{return decodeURI(t)}catch(e){return SS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function wB(t,e){try{return decodeURIComponent(t)}catch(r){return SS(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function ES(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function SB(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Sc(t):t;return{pathname:r?r.startsWith("/")?r:EB(r,e):e,search:AB(n),hash:CB(i)}}function EB(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function S1(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aR(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function lR(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Sc(t):(i=Id({},t),kr(!i.pathname||!i.pathname.includes("?"),S1("?","pathname","search",i)),kr(!i.pathname||!i.pathname.includes("#"),S1("#","pathname","hash",i)),kr(!i.search||!i.search.includes("#"),S1("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else if(n){let f=e[e.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f.pop();i.pathname=p.join("/")}a="/"+f.join("/")}else{let f=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=SB(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const ca=t=>t.join("/").replace(/\/\/+/g,"/"),TB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),AB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,CB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function IB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uR=["post","put","patch","delete"];new Set(uR);const PB=["get",...uR];new Set(PB);/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ng(){return Ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ng.apply(this,arguments)}const TS=O.createContext(null),MB=O.createContext(null),Ec=O.createContext(null),X0=O.createContext(null),lo=O.createContext({outlet:null,matches:[],isDataRoute:!1}),cR=O.createContext(null);function kB(t,e){let{relative:r}=e===void 0?{}:e;ef()||kr(!1);let{basename:n,navigator:i}=O.useContext(Ec),{hash:s,pathname:o,search:a}=dR(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:ca([n,o])),i.createHref({pathname:l,search:a,hash:s})}function ef(){return O.useContext(X0)!=null}function Tc(){return ef()||kr(!1),O.useContext(X0).location}function hR(t){O.useContext(Ec).static||O.useLayoutEffect(t)}function Fi(){let{isDataRoute:t}=O.useContext(lo);return t?WB():NB()}function NB(){ef()||kr(!1);let t=O.useContext(TS),{basename:e,navigator:r}=O.useContext(Ec),{matches:n}=O.useContext(lo),{pathname:i}=Tc(),s=JSON.stringify(aR(n).map(l=>l.pathnameBase)),o=O.useRef(!1);return hR(()=>{o.current=!0}),O.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){r.go(l);return}let d=lR(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ca([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,s,i,t])}const RB=O.createContext(null);function OB(t){let e=O.useContext(lo).outlet;return e&&O.createElement(RB.Provider,{value:t},e)}function Ac(){let{matches:t}=O.useContext(lo),e=t[t.length-1];return e?e.params:{}}function dR(t,e){let{relative:r}=e===void 0?{}:e,{matches:n}=O.useContext(lo),{pathname:i}=Tc(),s=JSON.stringify(aR(n).map(o=>o.pathnameBase));return O.useMemo(()=>lR(t,JSON.parse(s),i,r==="path"),[t,s,i,r])}function DB(t,e){return LB(t,e)}function LB(t,e,r){ef()||kr(!1);let{navigator:n}=O.useContext(Ec),{matches:i}=O.useContext(lo),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Tc(),u;if(e){var d;let b=typeof e=="string"?Sc(e):e;a==="/"||(d=b.pathname)!=null&&d.startsWith(a)||kr(!1),u=b}else u=l;let f=u.pathname||"/",p=a==="/"?f:f.slice(a.length)||"/",g=uB(t,{pathname:p}),v=jB(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:ca([a,n.encodeLocation?n.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?a:ca([a,n.encodeLocation?n.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r);return e&&v?O.createElement(X0.Provider,{value:{location:Ng({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Yo.Pop}},v):v}function FB(){let t=VB(),e=IB(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),r?O.createElement("pre",{style:i},r):null,s)}const UB=O.createElement(FB,null);class BB extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?O.createElement(lo.Provider,{value:this.props.routeContext},O.createElement(cR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zB(t){let{routeContext:e,match:r,children:n}=t,i=O.useContext(TS);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),O.createElement(lo.Provider,{value:e},n)}function jB(t,e,r){var n;if(e===void 0&&(e=[]),r===void 0&&(r=null),t==null){var i;if((i=r)!=null&&i.errors)t=r.matches;else return null}let s=t,o=(n=r)==null?void 0:n.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||kr(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let d=l.route.id?o==null?void 0:o[l.route.id]:null,f=null;r&&(f=l.route.errorElement||UB);let p=e.concat(s.slice(0,u+1)),g=()=>{let v;return d?v=f:l.route.Component?v=O.createElement(l.route.Component,null):l.route.element?v=l.route.element:v=a,O.createElement(zB,{match:l,routeContext:{outlet:a,matches:p,isDataRoute:r!=null},children:v})};return r&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?O.createElement(BB,{location:r.location,revalidation:r.revalidation,component:f,error:d,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var fR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(fR||{}),Rg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Rg||{});function $B(t){let e=O.useContext(TS);return e||kr(!1),e}function GB(t){let e=O.useContext(MB);return e||kr(!1),e}function HB(t){let e=O.useContext(lo);return e||kr(!1),e}function pR(t){let e=HB(),r=e.matches[e.matches.length-1];return r.route.id||kr(!1),r.route.id}function VB(){var t;let e=O.useContext(cR),r=GB(Rg.UseRouteError),n=pR(Rg.UseRouteError);return e||((t=r.errors)==null?void 0:t[n])}function WB(){let{router:t}=$B(fR.UseNavigateStable),e=pR(Rg.UseNavigateStable),r=O.useRef(!1);return hR(()=>{r.current=!0}),O.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ng({fromRouteId:e},s)))},[t,e])}function q0(t){return OB(t.context)}function XB(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Yo.Pop,navigator:s,static:o=!1}=t;ef()&&kr(!1);let a=e.replace(/^\/*/,"/"),l=O.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof n=="string"&&(n=Sc(n));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:g="default"}=n,v=O.useMemo(()=>{let b=ES(u,a);return b==null?null:{location:{pathname:b,search:d,hash:f,state:p,key:g},navigationType:i}},[a,u,d,f,p,g,i]);return v==null?null:O.createElement(Ec.Provider,{value:l},O.createElement(X0.Provider,{children:r,value:v}))}new Promise(()=>{});/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lx(){return Lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lx.apply(this,arguments)}function qB(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function YB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function QB(t,e){return t.button===0&&(!e||e==="_self")&&!YB(t)}const KB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],ZB="startTransition",$A=YF[ZB];function JB(t){let{basename:e,children:r,future:n,window:i}=t,s=O.useRef();s.current==null&&(s.current=oB({window:i,v5Compat:!0}));let o=s.current,[a,l]=O.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=O.useCallback(f=>{u&&$A?$A(()=>l(f)):l(f)},[l,u]);return O.useLayoutEffect(()=>o.listen(d),[o,d]),O.createElement(XB,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o})}const e6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",t6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pr=O.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,unstable_viewTransition:f}=e,p=qB(e,KB),{basename:g}=O.useContext(Ec),v,b=!1;if(typeof u=="string"&&t6.test(u)&&(v=u,e6))try{let _=new URL(window.location.href),A=u.startsWith("//")?new URL(_.protocol+u):new URL(u),P=ES(A.pathname,g);A.origin===_.origin&&P!=null?u=P+A.search+A.hash:b=!0}catch{}let E=kB(u,{relative:i}),w=r6(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:f});function S(_){n&&n(_),_.defaultPrevented||w(_)}return O.createElement("a",Lx({},p,{href:v||E,onClick:b||s?n:S,ref:r,target:l}))});var GA;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(GA||(GA={}));var HA;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(HA||(HA={}));function r6(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Fi(),u=Tc(),d=dR(t,{relative:o});return O.useCallback(f=>{if(QB(f,r)){f.preventDefault();let p=n!==void 0?n:kg(u)===kg(d);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,d,n,i,r,t,s,o,a])}function mR(t,e){return function(){return t.apply(e,arguments)}}const{toString:n6}=Object.prototype,{getPrototypeOf:AS}=Object,Y0=(t=>e=>{const r=n6.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ss=t=>(t=t.toLowerCase(),e=>Y0(e)===t),Q0=t=>e=>typeof e===t,{isArray:Cc}=Array,Pd=Q0("undefined");function i6(t){return t!==null&&!Pd(t)&&t.constructor!==null&&!Pd(t.constructor)&&ti(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const gR=Ss("ArrayBuffer");function s6(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&gR(t.buffer),e}const o6=Q0("string"),ti=Q0("function"),vR=Q0("number"),K0=t=>t!==null&&typeof t=="object",a6=t=>t===!0||t===!1,Om=t=>{if(Y0(t)!=="object")return!1;const e=AS(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},l6=Ss("Date"),u6=Ss("File"),c6=Ss("Blob"),h6=Ss("FileList"),d6=t=>K0(t)&&ti(t.pipe),f6=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ti(t.append)&&((e=Y0(t))==="formdata"||e==="object"&&ti(t.toString)&&t.toString()==="[object FormData]"))},p6=Ss("URLSearchParams"),m6=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function tf(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Cc(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(n=0;n<o;n++)a=s[n],e.call(null,t[a],a,t)}}function yR(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const bR=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),xR=t=>!Pd(t)&&t!==bR;function Fx(){const{caseless:t}=xR(this)&&this||{},e={},r=(n,i)=>{const s=t&&yR(e,i)||i;Om(e[s])&&Om(n)?e[s]=Fx(e[s],n):Om(n)?e[s]=Fx({},n):Cc(n)?e[s]=n.slice():e[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&tf(arguments[n],r);return e}const g6=(t,e,r,{allOwnKeys:n}={})=>(tf(e,(i,s)=>{r&&ti(i)?t[s]=mR(i,r):t[s]=i},{allOwnKeys:n}),t),v6=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),y6=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},b6=(t,e,r,n)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!n||n(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=r!==!1&&AS(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},x6=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},_6=t=>{if(!t)return null;if(Cc(t))return t;let e=t.length;if(!vR(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},w6=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&AS(Uint8Array)),S6=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},E6=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},T6=Ss("HTMLFormElement"),A6=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),VA=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),C6=Ss("RegExp"),_R=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};tf(r,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(n[s]=o||i)}),Object.defineProperties(t,n)},I6=t=>{_R(t,(e,r)=>{if(ti(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(ti(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},P6=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return Cc(t)?n(t):n(String(t).split(e)),r},M6=()=>{},k6=(t,e)=>(t=+t,Number.isFinite(t)?t:e),E1="abcdefghijklmnopqrstuvwxyz",WA="0123456789",wR={DIGIT:WA,ALPHA:E1,ALPHA_DIGIT:E1+E1.toUpperCase()+WA},N6=(t=16,e=wR.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function R6(t){return!!(t&&ti(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const O6=t=>{const e=new Array(10),r=(n,i)=>{if(K0(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const s=Cc(n)?[]:{};return tf(n,(o,a)=>{const l=r(o,i+1);!Pd(l)&&(s[a]=l)}),e[i]=void 0,s}}return n};return r(t,0)},D6=Ss("AsyncFunction"),L6=t=>t&&(K0(t)||ti(t))&&ti(t.then)&&ti(t.catch),ne={isArray:Cc,isArrayBuffer:gR,isBuffer:i6,isFormData:f6,isArrayBufferView:s6,isString:o6,isNumber:vR,isBoolean:a6,isObject:K0,isPlainObject:Om,isUndefined:Pd,isDate:l6,isFile:u6,isBlob:c6,isRegExp:C6,isFunction:ti,isStream:d6,isURLSearchParams:p6,isTypedArray:w6,isFileList:h6,forEach:tf,merge:Fx,extend:g6,trim:m6,stripBOM:v6,inherits:y6,toFlatObject:b6,kindOf:Y0,kindOfTest:Ss,endsWith:x6,toArray:_6,forEachEntry:S6,matchAll:E6,isHTMLForm:T6,hasOwnProperty:VA,hasOwnProp:VA,reduceDescriptors:_R,freezeMethods:I6,toObjectSet:P6,toCamelCase:A6,noop:M6,toFiniteNumber:k6,findKey:yR,global:bR,isContextDefined:xR,ALPHABET:wR,generateString:N6,isSpecCompliantForm:R6,toJSONObject:O6,isAsyncFn:D6,isThenable:L6};function rt(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}ne.inherits(rt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ne.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const SR=rt.prototype,ER={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{ER[t]={value:t}});Object.defineProperties(rt,ER);Object.defineProperty(SR,"isAxiosError",{value:!0});rt.from=(t,e,r,n,i,s)=>{const o=Object.create(SR);return ne.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),rt.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const F6=null;function Ux(t){return ne.isPlainObject(t)||ne.isArray(t)}function TR(t){return ne.endsWith(t,"[]")?t.slice(0,-2):t}function XA(t,e,r){return t?t.concat(e).map(function(i,s){return i=TR(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function U6(t){return ne.isArray(t)&&!t.some(Ux)}const B6=ne.toFlatObject(ne,{},null,function(e){return/^is[A-Z]/.test(e)});function Z0(t,e,r){if(!ne.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=ne.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,E){return!ne.isUndefined(E[b])});const n=r.metaTokens,i=r.visitor||d,s=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&ne.isSpecCompliantForm(e);if(!ne.isFunction(i))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(ne.isDate(v))return v.toISOString();if(!l&&ne.isBlob(v))throw new rt("Blob is not supported. Use a Buffer instead.");return ne.isArrayBuffer(v)||ne.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,b,E){let w=v;if(v&&!E&&typeof v=="object"){if(ne.endsWith(b,"{}"))b=n?b:b.slice(0,-2),v=JSON.stringify(v);else if(ne.isArray(v)&&U6(v)||(ne.isFileList(v)||ne.endsWith(b,"[]"))&&(w=ne.toArray(v)))return b=TR(b),w.forEach(function(_,A){!(ne.isUndefined(_)||_===null)&&e.append(o===!0?XA([b],A,s):o===null?b:b+"[]",u(_))}),!1}return Ux(v)?!0:(e.append(XA(E,b,s),u(v)),!1)}const f=[],p=Object.assign(B6,{defaultVisitor:d,convertValue:u,isVisitable:Ux});function g(v,b){if(!ne.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(v),ne.forEach(v,function(w,S){(!(ne.isUndefined(w)||w===null)&&i.call(e,w,ne.isString(S)?S.trim():S,b,p))===!0&&g(w,b?b.concat(S):[S])}),f.pop()}}if(!ne.isObject(t))throw new TypeError("data must be an object");return g(t),e}function qA(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function CS(t,e){this._pairs=[],t&&Z0(t,this,e)}const AR=CS.prototype;AR.append=function(e,r){this._pairs.push([e,r])};AR.toString=function(e){const r=e?function(n){return e.call(this,n,qA)}:qA;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function z6(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function CR(t,e,r){if(!e)return t;const n=r&&r.encode||z6,i=r&&r.serialize;let s;if(i?s=i(e,r):s=ne.isURLSearchParams(e)?e.toString():new CS(e,r).toString(n),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class j6{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ne.forEach(this.handlers,function(n){n!==null&&e(n)})}}const YA=j6,IR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$6=typeof URLSearchParams<"u"?URLSearchParams:CS,G6=typeof FormData<"u"?FormData:null,H6=typeof Blob<"u"?Blob:null,V6={isBrowser:!0,classes:{URLSearchParams:$6,FormData:G6,Blob:H6},protocols:["http","https","file","blob","url","data"]},PR=typeof window<"u"&&typeof document<"u",W6=(t=>PR&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),X6=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),q6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:PR,hasStandardBrowserEnv:W6,hasStandardBrowserWebWorkerEnv:X6},Symbol.toStringTag,{value:"Module"})),hs={...q6,...V6};function Y6(t,e){return Z0(t,new hs.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return hs.isNode&&ne.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Q6(t){return ne.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function K6(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function MR(t){function e(r,n,i,s){let o=r[s++];const a=Number.isFinite(+o),l=s>=r.length;return o=!o&&ne.isArray(i)?i.length:o,l?(ne.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):((!i[o]||!ne.isObject(i[o]))&&(i[o]=[]),e(r,n,i[o],s)&&ne.isArray(i[o])&&(i[o]=K6(i[o])),!a)}if(ne.isFormData(t)&&ne.isFunction(t.entries)){const r={};return ne.forEachEntry(t,(n,i)=>{e(Q6(n),i,r,0)}),r}return null}function Z6(t,e,r){if(ne.isString(t))try{return(e||JSON.parse)(t),ne.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const IS={transitional:IR,adapter:["xhr","http"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=ne.isObject(e);if(s&&ne.isHTMLForm(e)&&(e=new FormData(e)),ne.isFormData(e))return i&&i?JSON.stringify(MR(e)):e;if(ne.isArrayBuffer(e)||ne.isBuffer(e)||ne.isStream(e)||ne.isFile(e)||ne.isBlob(e))return e;if(ne.isArrayBufferView(e))return e.buffer;if(ne.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Y6(e,this.formSerializer).toString();if((a=ne.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Z0(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),Z6(e)):e}],transformResponse:[function(e){const r=this.transitional||IS.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&ne.isString(e)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?rt.from(a,rt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hs.classes.FormData,Blob:hs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ne.forEach(["delete","get","head","post","put","patch"],t=>{IS.headers[t]={}});const PS=IS,J6=ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),e8=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||e[r]&&J6[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},QA=Symbol("internals");function dh(t){return t&&String(t).trim().toLowerCase()}function Dm(t){return t===!1||t==null?t:ne.isArray(t)?t.map(Dm):String(t)}function t8(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const r8=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function T1(t,e,r,n,i){if(ne.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!ne.isString(e)){if(ne.isString(n))return e.indexOf(n)!==-1;if(ne.isRegExp(n))return n.test(e)}}function n8(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function i8(t,e){const r=ne.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,o){return this[n].call(this,e,i,s,o)},configurable:!0})})}class J0{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(a,l,u){const d=dh(l);if(!d)throw new Error("header name must be a non-empty string");const f=ne.findKey(i,d);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||l]=Dm(a))}const o=(a,l)=>ne.forEach(a,(u,d)=>s(u,d,l));return ne.isPlainObject(e)||e instanceof this.constructor?o(e,r):ne.isString(e)&&(e=e.trim())&&!r8(e)?o(e8(e),r):e!=null&&s(r,e,n),this}get(e,r){if(e=dh(e),e){const n=ne.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return t8(i);if(ne.isFunction(r))return r.call(this,i,n);if(ne.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=dh(e),e){const n=ne.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||T1(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(o){if(o=dh(o),o){const a=ne.findKey(n,o);a&&(!r||T1(n,n[a],a,r))&&(delete n[a],i=!0)}}return ne.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||T1(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return ne.forEach(this,(i,s)=>{const o=ne.findKey(n,s);if(o){r[o]=Dm(i),delete r[s];return}const a=e?n8(s):String(s).trim();a!==s&&delete r[s],r[a]=Dm(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return ne.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&ne.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[QA]=this[QA]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=dh(o);n[a]||(i8(i,o),n[a]=!0)}return ne.isArray(e)?e.forEach(s):s(e),this}}J0.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ne.reduceDescriptors(J0.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});ne.freezeMethods(J0);const Ws=J0;function A1(t,e){const r=this||PS,n=e||r,i=Ws.from(n.headers);let s=n.data;return ne.forEach(t,function(a){s=a.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function kR(t){return!!(t&&t.__CANCEL__)}function rf(t,e,r){rt.call(this,t??"canceled",rt.ERR_CANCELED,e,r),this.name="CanceledError"}ne.inherits(rf,rt,{__CANCEL__:!0});function s8(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new rt("Request failed with status code "+r.status,[rt.ERR_BAD_REQUEST,rt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const o8=hs.hasStandardBrowserEnv?{write(t,e,r,n,i,s){const o=[t+"="+encodeURIComponent(e)];ne.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),ne.isString(n)&&o.push("path="+n),ne.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function a8(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function l8(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function NR(t,e){return t&&!a8(e)?l8(t,e):e}const u8=hs.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(s){let o=s;return e&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(o){const a=ne.isString(o)?i(o):o;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}();function c8(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function h8(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=n[s];o||(o=u),r[i]=l,n[i]=u;let f=s,p=0;for(;f!==i;)p+=r[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const g=d&&u-d;return g?Math.round(p*1e3/g):void 0}}function KA(t,e){let r=0;const n=h8(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-r,l=n(a),u=s<=o;r=s;const d={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-s)/l:void 0,event:i};d[e?"download":"upload"]=!0,t(d)}}const d8=typeof XMLHttpRequest<"u",f8=d8&&function(t){return new Promise(function(r,n){let i=t.data;const s=Ws.from(t.headers).normalize();let{responseType:o,withXSRFToken:a}=t,l;function u(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let d;if(ne.isFormData(i)){if(hs.hasStandardBrowserEnv||hs.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((d=s.getContentType())!==!1){const[b,...E]=d?d.split(";").map(w=>w.trim()).filter(Boolean):[];s.setContentType([b||"multipart/form-data",...E].join("; "))}}let f=new XMLHttpRequest;if(t.auth){const b=t.auth.username||"",E=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(b+":"+E))}const p=NR(t.baseURL,t.url);f.open(t.method.toUpperCase(),CR(p,t.params,t.paramsSerializer),!0),f.timeout=t.timeout;function g(){if(!f)return;const b=Ws.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),w={data:!o||o==="text"||o==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:b,config:t,request:f};s8(function(_){r(_),u()},function(_){n(_),u()},w),f=null}if("onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(g)},f.onabort=function(){f&&(n(new rt("Request aborted",rt.ECONNABORTED,t,f)),f=null)},f.onerror=function(){n(new rt("Network Error",rt.ERR_NETWORK,t,f)),f=null},f.ontimeout=function(){let E=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const w=t.transitional||IR;t.timeoutErrorMessage&&(E=t.timeoutErrorMessage),n(new rt(E,w.clarifyTimeoutError?rt.ETIMEDOUT:rt.ECONNABORTED,t,f)),f=null},hs.hasStandardBrowserEnv&&(a&&ne.isFunction(a)&&(a=a(t)),a||a!==!1&&u8(p))){const b=t.xsrfHeaderName&&t.xsrfCookieName&&o8.read(t.xsrfCookieName);b&&s.set(t.xsrfHeaderName,b)}i===void 0&&s.setContentType(null),"setRequestHeader"in f&&ne.forEach(s.toJSON(),function(E,w){f.setRequestHeader(w,E)}),ne.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),o&&o!=="json"&&(f.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&f.addEventListener("progress",KA(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",KA(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=b=>{f&&(n(!b||b.type?new rf(null,t,f):b),f.abort(),f=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const v=c8(p);if(v&&hs.protocols.indexOf(v)===-1){n(new rt("Unsupported protocol "+v+":",rt.ERR_BAD_REQUEST,t));return}f.send(i||null)})},Bx={http:F6,xhr:f8};ne.forEach(Bx,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ZA=t=>`- ${t}`,p8=t=>ne.isFunction(t)||t===null||t===!1,RR={getAdapter:t=>{t=ne.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let s=0;s<e;s++){r=t[s];let o;if(n=r,!p8(r)&&(n=Bx[(o=String(r)).toLowerCase()],n===void 0))throw new rt(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+s]=n}if(!n){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(ZA).join(`
`):" "+ZA(s[0]):"as no adapter specified";throw new rt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:Bx};function C1(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new rf(null,t)}function JA(t){return C1(t),t.headers=Ws.from(t.headers),t.data=A1.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),RR.getAdapter(t.adapter||PS.adapter)(t).then(function(n){return C1(t),n.data=A1.call(t,t.transformResponse,n),n.headers=Ws.from(n.headers),n},function(n){return kR(n)||(C1(t),n&&n.response&&(n.response.data=A1.call(t,t.transformResponse,n.response),n.response.headers=Ws.from(n.response.headers))),Promise.reject(n)})}const eC=t=>t instanceof Ws?t.toJSON():t;function dc(t,e){e=e||{};const r={};function n(u,d,f){return ne.isPlainObject(u)&&ne.isPlainObject(d)?ne.merge.call({caseless:f},u,d):ne.isPlainObject(d)?ne.merge({},d):ne.isArray(d)?d.slice():d}function i(u,d,f){if(ne.isUndefined(d)){if(!ne.isUndefined(u))return n(void 0,u,f)}else return n(u,d,f)}function s(u,d){if(!ne.isUndefined(d))return n(void 0,d)}function o(u,d){if(ne.isUndefined(d)){if(!ne.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function a(u,d,f){if(f in e)return n(u,d);if(f in t)return n(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d)=>i(eC(u),eC(d),!0)};return ne.forEach(Object.keys(Object.assign({},t,e)),function(d){const f=l[d]||i,p=f(t[d],e[d],d);ne.isUndefined(p)&&f!==a||(r[d]=p)}),r}const OR="1.6.2",MS={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{MS[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const tC={};MS.transitional=function(e,r,n){function i(s,o){return"[Axios v"+OR+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,a)=>{if(e===!1)throw new rt(i(o," has been removed"+(r?" in "+r:"")),rt.ERR_DEPRECATED);return r&&!tC[o]&&(tC[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,o,a):!0}};function m8(t,e,r){if(typeof t!="object")throw new rt("options must be an object",rt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new rt("option "+s+" must be "+l,rt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new rt("Unknown option "+s,rt.ERR_BAD_OPTION)}}const zx={assertOptions:m8,validators:MS},To=zx.validators;class Og{constructor(e){this.defaults=e,this.interceptors={request:new YA,response:new YA}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=dc(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&zx.assertOptions(n,{silentJSONParsing:To.transitional(To.boolean),forcedJSONParsing:To.transitional(To.boolean),clarifyTimeoutError:To.transitional(To.boolean)},!1),i!=null&&(ne.isFunction(i)?r.paramsSerializer={serialize:i}:zx.assertOptions(i,{encode:To.function,serialize:To.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&ne.merge(s.common,s[r.method]);s&&ne.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),r.headers=Ws.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(l=l&&b.synchronous,a.unshift(b.fulfilled,b.rejected))});const u=[];this.interceptors.response.forEach(function(b){u.push(b.fulfilled,b.rejected)});let d,f=0,p;if(!l){const v=[JA.bind(this),void 0];for(v.unshift.apply(v,a),v.push.apply(v,u),p=v.length,d=Promise.resolve(r);f<p;)d=d.then(v[f++],v[f++]);return d}p=a.length;let g=r;for(f=0;f<p;){const v=a[f++],b=a[f++];try{g=v(g)}catch(E){b.call(this,E);break}}try{d=JA.call(this,g)}catch(v){return Promise.reject(v)}for(f=0,p=u.length;f<p;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=dc(this.defaults,e);const r=NR(e.baseURL,e.url);return CR(r,e.params,e.paramsSerializer)}}ne.forEach(["delete","get","head","options"],function(e){Og.prototype[e]=function(r,n){return this.request(dc(n||{},{method:e,url:r,data:(n||{}).data}))}});ne.forEach(["post","put","patch"],function(e){function r(n){return function(s,o,a){return this.request(dc(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Og.prototype[e]=r(),Og.prototype[e+"Form"]=r(!0)});const Lm=Og;class kS{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{n.subscribe(a),s=a}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},e(function(s,o,a){n.reason||(n.reason=new rf(s,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new kS(function(i){e=i}),cancel:e}}}const g8=kS;function v8(t){return function(r){return t.apply(null,r)}}function y8(t){return ne.isObject(t)&&t.isAxiosError===!0}const jx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(jx).forEach(([t,e])=>{jx[e]=t});const b8=jx;function DR(t){const e=new Lm(t),r=mR(Lm.prototype.request,e);return ne.extend(r,Lm.prototype,e,{allOwnKeys:!0}),ne.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return DR(dc(t,i))},r}const Jt=DR(PS);Jt.Axios=Lm;Jt.CanceledError=rf;Jt.CancelToken=g8;Jt.isCancel=kR;Jt.VERSION=OR;Jt.toFormData=Z0;Jt.AxiosError=rt;Jt.Cancel=Jt.CanceledError;Jt.all=function(e){return Promise.all(e)};Jt.spread=v8;Jt.isAxiosError=y8;Jt.mergeConfig=dc;Jt.AxiosHeaders=Ws;Jt.formToJSON=t=>MR(ne.isHTMLForm(t)?new FormData(t):t);Jt.getAdapter=RR.getAdapter;Jt.HttpStatusCode=b8;Jt.default=Jt;const LR=Jt,x8=t=>{localStorage.setItem("jsessionid",t)},_8=t=>{localStorage.setItem("profile",JSON.stringify(t))},fc=()=>{localStorage.removeItem("jsessionid"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("profile")},eo=()=>localStorage.getItem("jsessionid")||"",Tl=()=>{const t=localStorage.getItem("profile");return t?JSON.parse(t):null};var w8={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(vt,function(){var r=1e3,n=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",u="day",d="week",f="month",p="quarter",g="year",v="date",b="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,S={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(D){var V=["th","st","nd","rd"],W=D%100;return"["+D+(V[(W-20)%10]||V[W]||V[0])+"]"}},_=function(D,V,W){var B=String(D);return!B||B.length>=V?D:""+Array(V+1-B.length).join(W)+D},A={s:_,z:function(D){var V=-D.utcOffset(),W=Math.abs(V),B=Math.floor(W/60),I=W%60;return(V<=0?"+":"-")+_(B,2,"0")+":"+_(I,2,"0")},m:function D(V,W){if(V.date()<W.date())return-D(W,V);var B=12*(W.year()-V.year())+(W.month()-V.month()),I=V.clone().add(B,f),z=W-I<0,R=V.clone().add(B+(z?-1:1),f);return+(-(B+(W-I)/(z?I-R:R-I))||0)},a:function(D){return D<0?Math.ceil(D)||0:Math.floor(D)},p:function(D){return{M:f,y:g,w:d,d:u,D:v,h:l,m:a,s:o,ms:s,Q:p}[D]||String(D||"").toLowerCase().replace(/s$/,"")},u:function(D){return D===void 0}},P="en",N={};N[P]=S;var L="$isDayjsObject",k=function(D){return D instanceof G||!(!D||!D[L])},q=function D(V,W,B){var I;if(!V)return P;if(typeof V=="string"){var z=V.toLowerCase();N[z]&&(I=z),W&&(N[z]=W,I=z);var R=V.split("-");if(!I&&R.length>1)return D(R[0])}else{var $=V.name;N[$]=V,I=$}return!B&&I&&(P=I),I||!B&&P},H=function(D,V){if(k(D))return D.clone();var W=typeof V=="object"?V:{};return W.date=D,W.args=arguments,new G(W)},Q=A;Q.l=q,Q.i=k,Q.w=function(D,V){return H(D,{locale:V.$L,utc:V.$u,x:V.$x,$offset:V.$offset})};var G=function(){function D(W){this.$L=q(W.locale,null,!0),this.parse(W),this.$x=this.$x||W.x||{},this[L]=!0}var V=D.prototype;return V.parse=function(W){this.$d=function(B){var I=B.date,z=B.utc;if(I===null)return new Date(NaN);if(Q.u(I))return new Date;if(I instanceof Date)return new Date(I);if(typeof I=="string"&&!/Z$/i.test(I)){var R=I.match(E);if(R){var $=R[2]-1||0,Z=(R[7]||"0").substring(0,3);return z?new Date(Date.UTC(R[1],$,R[3]||1,R[4]||0,R[5]||0,R[6]||0,Z)):new Date(R[1],$,R[3]||1,R[4]||0,R[5]||0,R[6]||0,Z)}}return new Date(I)}(W),this.init()},V.init=function(){var W=this.$d;this.$y=W.getFullYear(),this.$M=W.getMonth(),this.$D=W.getDate(),this.$W=W.getDay(),this.$H=W.getHours(),this.$m=W.getMinutes(),this.$s=W.getSeconds(),this.$ms=W.getMilliseconds()},V.$utils=function(){return Q},V.isValid=function(){return this.$d.toString()!==b},V.isSame=function(W,B){var I=H(W);return this.startOf(B)<=I&&I<=this.endOf(B)},V.isAfter=function(W,B){return H(W)<this.startOf(B)},V.isBefore=function(W,B){return this.endOf(B)<H(W)},V.$g=function(W,B,I){return Q.u(W)?this[B]:this.set(I,W)},V.unix=function(){return Math.floor(this.valueOf()/1e3)},V.valueOf=function(){return this.$d.getTime()},V.startOf=function(W,B){var I=this,z=!!Q.u(B)||B,R=Q.p(W),$=function(ft,Qe){var Fe=Q.w(I.$u?Date.UTC(I.$y,Qe,ft):new Date(I.$y,Qe,ft),I);return z?Fe:Fe.endOf(u)},Z=function(ft,Qe){return Q.w(I.toDate()[ft].apply(I.toDate("s"),(z?[0,0,0,0]:[23,59,59,999]).slice(Qe)),I)},pe=this.$W,fe=this.$M,Ue=this.$D,Le="set"+(this.$u?"UTC":"");switch(R){case g:return z?$(1,0):$(31,11);case f:return z?$(1,fe):$(0,fe+1);case d:var He=this.$locale().weekStart||0,dt=(pe<He?pe+7:pe)-He;return $(z?Ue-dt:Ue+(6-dt),fe);case u:case v:return Z(Le+"Hours",0);case l:return Z(Le+"Minutes",1);case a:return Z(Le+"Seconds",2);case o:return Z(Le+"Milliseconds",3);default:return this.clone()}},V.endOf=function(W){return this.startOf(W,!1)},V.$set=function(W,B){var I,z=Q.p(W),R="set"+(this.$u?"UTC":""),$=(I={},I[u]=R+"Date",I[v]=R+"Date",I[f]=R+"Month",I[g]=R+"FullYear",I[l]=R+"Hours",I[a]=R+"Minutes",I[o]=R+"Seconds",I[s]=R+"Milliseconds",I)[z],Z=z===u?this.$D+(B-this.$W):B;if(z===f||z===g){var pe=this.clone().set(v,1);pe.$d[$](Z),pe.init(),this.$d=pe.set(v,Math.min(this.$D,pe.daysInMonth())).$d}else $&&this.$d[$](Z);return this.init(),this},V.set=function(W,B){return this.clone().$set(W,B)},V.get=function(W){return this[Q.p(W)]()},V.add=function(W,B){var I,z=this;W=Number(W);var R=Q.p(B),$=function(fe){var Ue=H(z);return Q.w(Ue.date(Ue.date()+Math.round(fe*W)),z)};if(R===f)return this.set(f,this.$M+W);if(R===g)return this.set(g,this.$y+W);if(R===u)return $(1);if(R===d)return $(7);var Z=(I={},I[a]=n,I[l]=i,I[o]=r,I)[R]||1,pe=this.$d.getTime()+W*Z;return Q.w(pe,this)},V.subtract=function(W,B){return this.add(-1*W,B)},V.format=function(W){var B=this,I=this.$locale();if(!this.isValid())return I.invalidDate||b;var z=W||"YYYY-MM-DDTHH:mm:ssZ",R=Q.z(this),$=this.$H,Z=this.$m,pe=this.$M,fe=I.weekdays,Ue=I.months,Le=I.meridiem,He=function(Qe,Fe,nt,qe){return Qe&&(Qe[Fe]||Qe(B,z))||nt[Fe].slice(0,qe)},dt=function(Qe){return Q.s($%12||12,Qe,"0")},ft=Le||function(Qe,Fe,nt){var qe=Qe<12?"AM":"PM";return nt?qe.toLowerCase():qe};return z.replace(w,function(Qe,Fe){return Fe||function(nt){switch(nt){case"YY":return String(B.$y).slice(-2);case"YYYY":return Q.s(B.$y,4,"0");case"M":return pe+1;case"MM":return Q.s(pe+1,2,"0");case"MMM":return He(I.monthsShort,pe,Ue,3);case"MMMM":return He(Ue,pe);case"D":return B.$D;case"DD":return Q.s(B.$D,2,"0");case"d":return String(B.$W);case"dd":return He(I.weekdaysMin,B.$W,fe,2);case"ddd":return He(I.weekdaysShort,B.$W,fe,3);case"dddd":return fe[B.$W];case"H":return String($);case"HH":return Q.s($,2,"0");case"h":return dt(1);case"hh":return dt(2);case"a":return ft($,Z,!0);case"A":return ft($,Z,!1);case"m":return String(Z);case"mm":return Q.s(Z,2,"0");case"s":return String(B.$s);case"ss":return Q.s(B.$s,2,"0");case"SSS":return Q.s(B.$ms,3,"0");case"Z":return R}return null}(Qe)||R.replace(":","")})},V.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},V.diff=function(W,B,I){var z,R=this,$=Q.p(B),Z=H(W),pe=(Z.utcOffset()-this.utcOffset())*n,fe=this-Z,Ue=function(){return Q.m(R,Z)};switch($){case g:z=Ue()/12;break;case f:z=Ue();break;case p:z=Ue()/3;break;case d:z=(fe-pe)/6048e5;break;case u:z=(fe-pe)/864e5;break;case l:z=fe/i;break;case a:z=fe/n;break;case o:z=fe/r;break;default:z=fe}return I?z:Q.a(z)},V.daysInMonth=function(){return this.endOf(f).$D},V.$locale=function(){return N[this.$L]},V.locale=function(W,B){if(!W)return this.$L;var I=this.clone(),z=q(W,B,!0);return z&&(I.$L=z),I},V.clone=function(){return Q.w(this.$d,this)},V.toDate=function(){return new Date(this.valueOf())},V.toJSON=function(){return this.isValid()?this.toISOString():null},V.toISOString=function(){return this.$d.toISOString()},V.toString=function(){return this.$d.toUTCString()},D}(),F=G.prototype;return H.prototype=F,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",u],["$M",f],["$y",g],["$D",v]].forEach(function(D){F[D[1]]=function(V){return this.$g(V,D[0],D[1])}}),H.extend=function(D,V){return D.$i||(D(V,G,H),D.$i=!0),H},H.locale=q,H.isDayjs=k,H.unix=function(D){return H(1e3*D)},H.en=N[P],H.Ls=N,H.p={},H})})(w8);var NS=(t=>(t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t))(NS||{});function RS(t){return LR.isAxiosError(t)}function FR(t){var e;return RS(t)&&((e=t.response)==null?void 0:e.status)===NS.Unauthorized}function S8(t){var e,r,n;return FR(t)&&((n=(r=(e=t.response)==null?void 0:e.data)==null?void 0:r.data)==null?void 0:n.name)==="EXPIRED_TOKEN"}const Fm=(t,e)=>{const r=new Date(t).getTime(),o=(new Date(e).getTime()-r)/1e3/60;if(o<60)return`${Math.max(Math.floor(o),1)} m`;const a=o/60;if(a<24)return`${Math.floor(a)} h`;const l=a/24;if(l<=60)return`${Math.floor(l)} D`;const u=l/30;if(u<=24)return`${Math.floor(u)} M`;const d=u/12;return`${Math.floor(d)} Y`},rC=86400,E8={email:"email",password:"password",confirmPassword:"confirmPassword"},T8="prescriptions",A8={baseUrl:"http://18.142.178.45:8080/chess-backend/",maxSizeUploadAvatar:1048576};class C8{constructor(){tr(this,"instance");tr(this,"jsessionid");tr(this,"user");tr(this,"refreshTokenRequest");this.jsessionid=eo(),this.user=Tl(),this.refreshTokenRequest=null,this.instance=LR.create({baseURL:A8.baseUrl,timeout:1e4,headers:{"Content-Type":"application/json","expire-access-token":rC,"expire-refresh-token":rC*160}}),this.instance.interceptors.request.use(e=>(this.jsessionid&&e.headers&&(e.headers.JSESSIONID=this.jsessionid),e),e=>Promise.reject(e)),this.instance.interceptors.response.use(e=>{const{url:r}=e.config;if(r===$x){const n=e.data;this.jsessionid=n.sessionId,this.user=n.user,x8(n.sessionId),_8(this.user)}else r===UR&&(this.jsessionid="",fc());return e},e=>{var r,n,i,s;if(FR(e)){const o=(r=e.response)==null?void 0:r.config;S8(e)&&(o==null||o.url),fc(),this.jsessionid="",console.log(`Error ${((i=(n=e.response)==null?void 0:n.data.data)==null?void 0:i.message)||((s=e.response)==null?void 0:s.data.message)}`)}return Promise.reject(e)})}}const Si=new C8().instance,$x="auth/login",I8="auth/register/doctor",UR="logout",P8="refresh-access-token",OS={register(t){return Si.post(I8,t)},login(t){return Si.post($x,t)},loginFromSessionId(){return Si.get($x)},logout(){return Si.post(UR)}};var jr=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_AUTHENTICATED=1]="NOT_AUTHENTICATED",t[t.AUTHENTICATED=2]="AUTHENTICATED",t))(jr||{});const Um={isAuthenticated:0,setIsAuthenticated:()=>null,showSidebar:!1,setShowSidebar:()=>null,user:Tl(),setUser:()=>null},Di=O.createContext(Um),M8=({children:t})=>{const[e,r]=O.useState(Um.isAuthenticated),[n,i]=O.useState(Um.showSidebar),[s,o]=O.useState(Um.user);return O.useEffect(()=>{OS.loginFromSessionId().then(a=>{a.status!=NS.Ok?(r(1),o(null),fc()):r(2)}).catch(a=>{r(1),o(null),fc()})},[]),C(Di.Provider,{value:{isAuthenticated:e,setIsAuthenticated:r,showSidebar:n,setShowSidebar:i,user:s,setUser:o},children:t})};var BR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},nC=de.createContext&&de.createContext(BR),k8=["attr","size","title"];function N8(t,e){if(t==null)return{};var r=R8(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function R8(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Dg(){return Dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dg.apply(this,arguments)}function iC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iC(Object(r),!0).forEach(function(n){O8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function O8(t,e,r){return e=D8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D8(t){var e=L8(t,"string");return typeof e=="symbol"?e:String(e)}function L8(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zR(t){return t&&t.map((e,r)=>de.createElement(e.tag,Lg({key:r},e.attr),zR(e.child)))}function tn(t){return e=>de.createElement(F8,Dg({attr:Lg({},t.attr)},e),zR(t.child))}function F8(t){var e=r=>{var{attr:n,size:i,title:s}=t,o=N8(t,k8),a=i||r.size||"1em",l;return r.className&&(l=r.className),t.className&&(l=(l?l+" ":"")+t.className),de.createElement("svg",Dg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:l,style:Lg(Lg({color:t.color||r.color},r.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&de.createElement("title",null,s),t.children)};return nC!==void 0?de.createElement(nC.Consumer,null,r=>e(r)):e(BR)}function U8(t){return tn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function B8(t){return tn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function jR(t){return tn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(t)}function z8(t){return tn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z"},child:[]}]})(t)}function j8(t){return tn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(t)}function $R(t){return tn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function $8(t){return tn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(t)}function G8(t){return tn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(t)}function H8(t){return tn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function V8(t){return tn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(t)}function W8(t){return tn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}const $e={home:"/",auth:"/auth",login:"/auth/login",register:"/auth/register",patients:"/patients",patientDetail:"/patients/:patientId",patientDetailExamination:"/patients/:patientId/medical-records/:examinationId",personals:"/personals",game:"/game",gamev2:"/game/v2",pvp:"/game/:gameId",pvpv2:"/game/v2/:gameId",botv2:"/game/v2/bot/:gameId",quickMatch:"/game/v2/quickmatch",playWithBot:"/game/v2/play-with-bot",chat:"/chat",chatbox:"/chat/:id",friend:"/friend",profile:"/profile/:id"},X8="/profile/info/",q8="/profile/games-of/",Ic={getProfile(t){return Si.get(`${X8}${t}`)},getGameHistory(t,e,r=8){return Si.get(`${q8}${t}?page=${e}&size=${r}`)}};var GR={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,n(a)))}return s}function n(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return r.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(GR);var Y8=GR.exports;const kt=wa(Y8);function Gx(t,e){return Gx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Gx(t,e)}function Pc(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Gx(t,e)}var Mc=function(){function t(){this.listeners=[]}var e=t.prototype;return e.subscribe=function(n){var i=this,s=n||function(){};return this.listeners.push(s),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(o){return o!==s}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},t}();function Ke(){return Ke=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ke.apply(this,arguments)}var Fg=typeof window>"u";function Cr(){}function Q8(t,e){return typeof t=="function"?t(e):t}function Hx(t){return typeof t=="number"&&t>=0&&t!==1/0}function Ug(t){return Array.isArray(t)?t:[t]}function HR(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Bm(t,e,r){return nf(t)?typeof e=="function"?Ke({},r,{queryKey:t,queryFn:e}):Ke({},e,{queryKey:t}):t}function K8(t,e,r){return nf(t)?typeof e=="function"?Ke({},r,{mutationKey:t,mutationFn:e}):Ke({},e,{mutationKey:t}):typeof t=="function"?Ke({},e,{mutationFn:t}):Ke({},t)}function Uo(t,e,r){return nf(t)?[Ke({},e,{queryKey:t}),r]:[t||{},e]}function Z8(t,e){if(t===!0&&e===!0||t==null&&e==null)return"all";if(t===!1&&e===!1)return"none";var r=t??!e;return r?"active":"inactive"}function sC(t,e){var r=t.active,n=t.exact,i=t.fetching,s=t.inactive,o=t.predicate,a=t.queryKey,l=t.stale;if(nf(a)){if(n){if(e.queryHash!==DS(a,e.options))return!1}else if(!Bg(e.queryKey,a))return!1}var u=Z8(r,s);if(u==="none")return!1;if(u!=="all"){var d=e.isActive();if(u==="active"&&!d||u==="inactive"&&d)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof i=="boolean"&&e.isFetching()!==i||o&&!o(e))}function oC(t,e){var r=t.exact,n=t.fetching,i=t.predicate,s=t.mutationKey;if(nf(s)){if(!e.options.mutationKey)return!1;if(r){if(sl(e.options.mutationKey)!==sl(s))return!1}else if(!Bg(e.options.mutationKey,s))return!1}return!(typeof n=="boolean"&&e.state.status==="loading"!==n||i&&!i(e))}function DS(t,e){var r=(e==null?void 0:e.queryKeyHashFn)||sl;return r(t)}function sl(t){var e=Ug(t);return J8(e)}function J8(t){return JSON.stringify(t,function(e,r){return Vx(r)?Object.keys(r).sort().reduce(function(n,i){return n[i]=r[i],n},{}):r})}function Bg(t,e){return VR(Ug(t),Ug(e))}function VR(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(function(r){return!VR(t[r],e[r])}):!1}function zg(t,e){if(t===e)return t;var r=Array.isArray(t)&&Array.isArray(e);if(r||Vx(t)&&Vx(e)){for(var n=r?t.length:Object.keys(t).length,i=r?e:Object.keys(e),s=i.length,o=r?[]:{},a=0,l=0;l<s;l++){var u=r?l:i[l];o[u]=zg(t[u],e[u]),o[u]===t[u]&&a++}return n===s&&a===n?t:o}return e}function ez(t,e){if(t&&!e||e&&!t)return!1;for(var r in t)if(t[r]!==e[r])return!1;return!0}function Vx(t){if(!aC(t))return!1;var e=t.constructor;if(typeof e>"u")return!0;var r=e.prototype;return!(!aC(r)||!r.hasOwnProperty("isPrototypeOf"))}function aC(t){return Object.prototype.toString.call(t)==="[object Object]"}function nf(t){return typeof t=="string"||Array.isArray(t)}function tz(t){return new Promise(function(e){setTimeout(e,t)})}function lC(t){Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})}function WR(){if(typeof AbortController=="function")return new AbortController}var rz=function(t){Pc(e,t);function e(){var n;return n=t.call(this)||this,n.setup=function(i){var s;if(!Fg&&((s=window)!=null&&s.addEventListener)){var o=function(){return i()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},n}var r=e.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},r.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setFocused(a):o.onFocus()})},r.setFocused=function(i){this.focused=i,i&&this.onFocus()},r.onFocus=function(){this.listeners.forEach(function(i){i()})},r.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(Mc),Kh=new rz,nz=function(t){Pc(e,t);function e(){var n;return n=t.call(this)||this,n.setup=function(i){var s;if(!Fg&&((s=window)!=null&&s.addEventListener)){var o=function(){return i()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},n}var r=e.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},r.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setOnline(a):o.onOnline()})},r.setOnline=function(i){this.online=i,i&&this.onOnline()},r.onOnline=function(){this.listeners.forEach(function(i){i()})},r.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(Mc),zm=new nz;function iz(t){return Math.min(1e3*Math.pow(2,t),3e4)}function jg(t){return typeof(t==null?void 0:t.cancel)=="function"}var XR=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function jm(t){return t instanceof XR}var qR=function(e){var r=this,n=!1,i,s,o,a;this.abort=e.abort,this.cancel=function(p){return i==null?void 0:i(p)},this.cancelRetry=function(){n=!0},this.continueRetry=function(){n=!1},this.continue=function(){return s==null?void 0:s()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(p,g){o=p,a=g});var l=function(g){r.isResolved||(r.isResolved=!0,e.onSuccess==null||e.onSuccess(g),s==null||s(),o(g))},u=function(g){r.isResolved||(r.isResolved=!0,e.onError==null||e.onError(g),s==null||s(),a(g))},d=function(){return new Promise(function(g){s=g,r.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){s=void 0,r.isPaused=!1,e.onContinue==null||e.onContinue()})},f=function p(){if(!r.isResolved){var g;try{g=e.fn()}catch(v){g=Promise.reject(v)}i=function(b){if(!r.isResolved&&(u(new XR(b)),r.abort==null||r.abort(),jg(g)))try{g.cancel()}catch{}},r.isTransportCancelable=jg(g),Promise.resolve(g).then(l).catch(function(v){var b,E;if(!r.isResolved){var w=(b=e.retry)!=null?b:3,S=(E=e.retryDelay)!=null?E:iz,_=typeof S=="function"?S(r.failureCount,v):S,A=w===!0||typeof w=="number"&&r.failureCount<w||typeof w=="function"&&w(r.failureCount,v);if(n||!A){u(v);return}r.failureCount++,e.onFail==null||e.onFail(r.failureCount,v),tz(_).then(function(){if(!Kh.isFocused()||!zm.isOnline())return d()}).then(function(){n?u(v):p()})}})}};f()},sz=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(r){r()},this.batchNotifyFn=function(r){r()}}var e=t.prototype;return e.batch=function(n){var i;this.transactions++;try{i=n()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(n){var i=this;this.transactions?this.queue.push(n):lC(function(){i.notifyFn(n)})},e.batchCalls=function(n){var i=this;return function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];i.schedule(function(){n.apply(void 0,o)})}},e.flush=function(){var n=this,i=this.queue;this.queue=[],i.length&&lC(function(){n.batchNotifyFn(function(){i.forEach(function(s){n.notifyFn(s)})})})},e.setNotifyFunction=function(n){this.notifyFn=n},e.setBatchNotifyFunction=function(n){this.batchNotifyFn=n},t}(),Pt=new sz,YR=console;function $g(){return YR}function oz(t){YR=t}var az=function(){function t(r){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=r.defaultOptions,this.setOptions(r.options),this.observers=[],this.cache=r.cache,this.queryKey=r.queryKey,this.queryHash=r.queryHash,this.initialState=r.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=r.meta,this.scheduleGc()}var e=t.prototype;return e.setOptions=function(n){var i;this.options=Ke({},this.defaultOptions,n),this.meta=n==null?void 0:n.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},e.setDefaultOptions=function(n){this.defaultOptions=n},e.scheduleGc=function(){var n=this;this.clearGcTimeout(),Hx(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){n.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(n,i){var s,o,a=this.state.data,l=Q8(n,a);return(s=(o=this.options).isDataEqual)!=null&&s.call(o,a,l)?l=a:this.options.structuralSharing!==!1&&(l=zg(a,l)),this.dispatch({data:l,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),l},e.setState=function(n,i){this.dispatch({type:"setState",state:n,setStateOptions:i})},e.cancel=function(n){var i,s=this.promise;return(i=this.retryer)==null||i.cancel(n),s?s.then(Cr).catch(Cr):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(n){return n.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(n){return n.getCurrentResult().isStale})},e.isStaleByTime=function(n){return n===void 0&&(n=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!HR(this.state.dataUpdatedAt,n)},e.onFocus=function(){var n,i=this.observers.find(function(s){return s.shouldFetchOnWindowFocus()});i&&i.refetch(),(n=this.retryer)==null||n.continue()},e.onOnline=function(){var n,i=this.observers.find(function(s){return s.shouldFetchOnReconnect()});i&&i.refetch(),(n=this.retryer)==null||n.continue()},e.addObserver=function(n){this.observers.indexOf(n)===-1&&(this.observers.push(n),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:n}))},e.removeObserver=function(n){this.observers.indexOf(n)!==-1&&(this.observers=this.observers.filter(function(i){return i!==n}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:n}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(n,i){var s=this,o,a,l;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(n&&this.setOptions(n),!this.options.queryFn){var d=this.observers.find(function(S){return S.options.queryFn});d&&this.setOptions(d.options)}var f=Ug(this.queryKey),p=WR(),g={queryKey:f,pageParam:void 0,meta:this.meta};Object.defineProperty(g,"signal",{enumerable:!0,get:function(){if(p)return s.abortSignalConsumed=!0,p.signal}});var v=function(){return s.options.queryFn?(s.abortSignalConsumed=!1,s.options.queryFn(g)):Promise.reject("Missing queryFn")},b={fetchOptions:i,options:this.options,queryKey:f,state:this.state,fetchFn:v,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var E;(E=this.options.behavior)==null||E.onFetch(b)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=b.fetchOptions)==null?void 0:a.meta)){var w;this.dispatch({type:"fetch",meta:(w=b.fetchOptions)==null?void 0:w.meta})}return this.retryer=new qR({fn:b.fetchFn,abort:p==null||(l=p.abort)==null?void 0:l.bind(p),onSuccess:function(_){s.setData(_),s.cache.config.onSuccess==null||s.cache.config.onSuccess(_,s),s.cacheTime===0&&s.optionalRemove()},onError:function(_){jm(_)&&_.silent||s.dispatch({type:"error",error:_}),jm(_)||(s.cache.config.onError==null||s.cache.config.onError(_,s),$g().error(_)),s.cacheTime===0&&s.optionalRemove()},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:b.options.retry,retryDelay:b.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(n){var i=this;this.state=this.reducer(this.state,n),Pt.batch(function(){i.observers.forEach(function(s){s.onQueryUpdate(n)}),i.cache.notify({query:i,type:"queryUpdated",action:n})})},e.getDefaultState=function(n){var i=typeof n.initialData=="function"?n.initialData():n.initialData,s=typeof n.initialData<"u",o=s?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0,a=typeof i<"u";return{data:i,dataUpdateCount:0,dataUpdatedAt:a?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},e.reducer=function(n,i){var s,o;switch(i.type){case"failed":return Ke({},n,{fetchFailureCount:n.fetchFailureCount+1});case"pause":return Ke({},n,{isPaused:!0});case"continue":return Ke({},n,{isPaused:!1});case"fetch":return Ke({},n,{fetchFailureCount:0,fetchMeta:(s=i.meta)!=null?s:null,isFetching:!0,isPaused:!1},!n.dataUpdatedAt&&{error:null,status:"loading"});case"success":return Ke({},n,{data:i.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(o=i.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=i.error;return jm(a)&&a.revert&&this.revertState?Ke({},this.revertState):Ke({},n,{error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return Ke({},n,{isInvalidated:!0});case"setState":return Ke({},n,i.state);default:return n}},t}(),lz=function(t){Pc(e,t);function e(n){var i;return i=t.call(this)||this,i.config=n||{},i.queries=[],i.queriesMap={},i}var r=e.prototype;return r.build=function(i,s,o){var a,l=s.queryKey,u=(a=s.queryHash)!=null?a:DS(l,s),d=this.get(u);return d||(d=new az({cache:this,queryKey:l,queryHash:u,options:i.defaultQueryOptions(s),state:o,defaultOptions:i.getQueryDefaults(l),meta:s.meta}),this.add(d)),d},r.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},r.remove=function(i){var s=this.queriesMap[i.queryHash];s&&(i.destroy(),this.queries=this.queries.filter(function(o){return o!==i}),s===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},r.clear=function(){var i=this;Pt.batch(function(){i.queries.forEach(function(s){i.remove(s)})})},r.get=function(i){return this.queriesMap[i]},r.getAll=function(){return this.queries},r.find=function(i,s){var o=Uo(i,s),a=o[0];return typeof a.exact>"u"&&(a.exact=!0),this.queries.find(function(l){return sC(a,l)})},r.findAll=function(i,s){var o=Uo(i,s),a=o[0];return Object.keys(a).length>0?this.queries.filter(function(l){return sC(a,l)}):this.queries},r.notify=function(i){var s=this;Pt.batch(function(){s.listeners.forEach(function(o){o(i)})})},r.onFocus=function(){var i=this;Pt.batch(function(){i.queries.forEach(function(s){s.onFocus()})})},r.onOnline=function(){var i=this;Pt.batch(function(){i.queries.forEach(function(s){s.onOnline()})})},e}(Mc),uz=function(){function t(r){this.options=Ke({},r.defaultOptions,r.options),this.mutationId=r.mutationId,this.mutationCache=r.mutationCache,this.observers=[],this.state=r.state||QR(),this.meta=r.meta}var e=t.prototype;return e.setState=function(n){this.dispatch({type:"setState",state:n})},e.addObserver=function(n){this.observers.indexOf(n)===-1&&this.observers.push(n)},e.removeObserver=function(n){this.observers=this.observers.filter(function(i){return i!==n})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(Cr).catch(Cr)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var n=this,i,s=this.state.status==="loading",o=Promise.resolve();return s||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){n.mutationCache.config.onMutate==null||n.mutationCache.config.onMutate(n.state.variables,n)}).then(function(){return n.options.onMutate==null?void 0:n.options.onMutate(n.state.variables)}).then(function(a){a!==n.state.context&&n.dispatch({type:"loading",context:a,variables:n.state.variables})})),o.then(function(){return n.executeMutation()}).then(function(a){i=a,n.mutationCache.config.onSuccess==null||n.mutationCache.config.onSuccess(i,n.state.variables,n.state.context,n)}).then(function(){return n.options.onSuccess==null?void 0:n.options.onSuccess(i,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(i,null,n.state.variables,n.state.context)}).then(function(){return n.dispatch({type:"success",data:i}),i}).catch(function(a){return n.mutationCache.config.onError==null||n.mutationCache.config.onError(a,n.state.variables,n.state.context,n),$g().error(a),Promise.resolve().then(function(){return n.options.onError==null?void 0:n.options.onError(a,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(void 0,a,n.state.variables,n.state.context)}).then(function(){throw n.dispatch({type:"error",error:a}),a})})},e.executeMutation=function(){var n=this,i;return this.retryer=new qR({fn:function(){return n.options.mutationFn?n.options.mutationFn(n.state.variables):Promise.reject("No mutationFn found")},onFail:function(){n.dispatch({type:"failed"})},onPause:function(){n.dispatch({type:"pause"})},onContinue:function(){n.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(n){var i=this;this.state=cz(this.state,n),Pt.batch(function(){i.observers.forEach(function(s){s.onMutationUpdate(n)}),i.mutationCache.notify(i)})},t}();function QR(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function cz(t,e){switch(e.type){case"failed":return Ke({},t,{failureCount:t.failureCount+1});case"pause":return Ke({},t,{isPaused:!0});case"continue":return Ke({},t,{isPaused:!1});case"loading":return Ke({},t,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return Ke({},t,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return Ke({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return Ke({},t,e.state);default:return t}}var hz=function(t){Pc(e,t);function e(n){var i;return i=t.call(this)||this,i.config=n||{},i.mutations=[],i.mutationId=0,i}var r=e.prototype;return r.build=function(i,s,o){var a=new uz({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(s),state:o,defaultOptions:s.mutationKey?i.getMutationDefaults(s.mutationKey):void 0,meta:s.meta});return this.add(a),a},r.add=function(i){this.mutations.push(i),this.notify(i)},r.remove=function(i){this.mutations=this.mutations.filter(function(s){return s!==i}),i.cancel(),this.notify(i)},r.clear=function(){var i=this;Pt.batch(function(){i.mutations.forEach(function(s){i.remove(s)})})},r.getAll=function(){return this.mutations},r.find=function(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(function(s){return oC(i,s)})},r.findAll=function(i){return this.mutations.filter(function(s){return oC(i,s)})},r.notify=function(i){var s=this;Pt.batch(function(){s.listeners.forEach(function(o){o(i)})})},r.onFocus=function(){this.resumePausedMutations()},r.onOnline=function(){this.resumePausedMutations()},r.resumePausedMutations=function(){var i=this.mutations.filter(function(s){return s.state.isPaused});return Pt.batch(function(){return i.reduce(function(s,o){return s.then(function(){return o.continue().catch(Cr)})},Promise.resolve())})},e}(Mc);function dz(){return{onFetch:function(e){e.fetchFn=function(){var r,n,i,s,o,a,l=(r=e.fetchOptions)==null||(n=r.meta)==null?void 0:n.refetchPage,u=(i=e.fetchOptions)==null||(s=i.meta)==null?void 0:s.fetchMore,d=u==null?void 0:u.pageParam,f=(u==null?void 0:u.direction)==="forward",p=(u==null?void 0:u.direction)==="backward",g=((o=e.state.data)==null?void 0:o.pages)||[],v=((a=e.state.data)==null?void 0:a.pageParams)||[],b=WR(),E=b==null?void 0:b.signal,w=v,S=!1,_=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},A=function(D,V,W,B){return w=B?[V].concat(w):[].concat(w,[V]),B?[W].concat(D):[].concat(D,[W])},P=function(D,V,W,B){if(S)return Promise.reject("Cancelled");if(typeof W>"u"&&!V&&D.length)return Promise.resolve(D);var I={queryKey:e.queryKey,signal:E,pageParam:W,meta:e.meta},z=_(I),R=Promise.resolve(z).then(function(Z){return A(D,W,Z,B)});if(jg(z)){var $=R;$.cancel=z.cancel}return R},N;if(!g.length)N=P([]);else if(f){var L=typeof d<"u",k=L?d:uC(e.options,g);N=P(g,L,k)}else if(p){var q=typeof d<"u",H=q?d:fz(e.options,g);N=P(g,q,H,!0)}else(function(){w=[];var F=typeof e.options.getNextPageParam>"u",D=l&&g[0]?l(g[0],0,g):!0;N=D?P([],F,v[0]):Promise.resolve(A([],v[0],g[0]));for(var V=function(I){N=N.then(function(z){var R=l&&g[I]?l(g[I],I,g):!0;if(R){var $=F?v[I]:uC(e.options,z);return P(z,F,$)}return Promise.resolve(A(z,v[I],g[I]))})},W=1;W<g.length;W++)V(W)})();var Q=N.then(function(F){return{pages:F,pageParams:w}}),G=Q;return G.cancel=function(){S=!0,b==null||b.abort(),jg(N)&&N.cancel()},Q}}}}function uC(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function fz(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}var pz=function(){function t(r){r===void 0&&(r={}),this.queryCache=r.queryCache||new lz,this.mutationCache=r.mutationCache||new hz,this.defaultOptions=r.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=t.prototype;return e.mount=function(){var n=this;this.unsubscribeFocus=Kh.subscribe(function(){Kh.isFocused()&&zm.isOnline()&&(n.mutationCache.onFocus(),n.queryCache.onFocus())}),this.unsubscribeOnline=zm.subscribe(function(){Kh.isFocused()&&zm.isOnline()&&(n.mutationCache.onOnline(),n.queryCache.onOnline())})},e.unmount=function(){var n,i;(n=this.unsubscribeFocus)==null||n.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},e.isFetching=function(n,i){var s=Uo(n,i),o=s[0];return o.fetching=!0,this.queryCache.findAll(o).length},e.isMutating=function(n){return this.mutationCache.findAll(Ke({},n,{fetching:!0})).length},e.getQueryData=function(n,i){var s;return(s=this.queryCache.find(n,i))==null?void 0:s.state.data},e.getQueriesData=function(n){return this.getQueryCache().findAll(n).map(function(i){var s=i.queryKey,o=i.state,a=o.data;return[s,a]})},e.setQueryData=function(n,i,s){var o=Bm(n),a=this.defaultQueryOptions(o);return this.queryCache.build(this,a).setData(i,s)},e.setQueriesData=function(n,i,s){var o=this;return Pt.batch(function(){return o.getQueryCache().findAll(n).map(function(a){var l=a.queryKey;return[l,o.setQueryData(l,i,s)]})})},e.getQueryState=function(n,i){var s;return(s=this.queryCache.find(n,i))==null?void 0:s.state},e.removeQueries=function(n,i){var s=Uo(n,i),o=s[0],a=this.queryCache;Pt.batch(function(){a.findAll(o).forEach(function(l){a.remove(l)})})},e.resetQueries=function(n,i,s){var o=this,a=Uo(n,i,s),l=a[0],u=a[1],d=this.queryCache,f=Ke({},l,{active:!0});return Pt.batch(function(){return d.findAll(l).forEach(function(p){p.reset()}),o.refetchQueries(f,u)})},e.cancelQueries=function(n,i,s){var o=this,a=Uo(n,i,s),l=a[0],u=a[1],d=u===void 0?{}:u;typeof d.revert>"u"&&(d.revert=!0);var f=Pt.batch(function(){return o.queryCache.findAll(l).map(function(p){return p.cancel(d)})});return Promise.all(f).then(Cr).catch(Cr)},e.invalidateQueries=function(n,i,s){var o,a,l,u=this,d=Uo(n,i,s),f=d[0],p=d[1],g=Ke({},f,{active:(o=(a=f.refetchActive)!=null?a:f.active)!=null?o:!0,inactive:(l=f.refetchInactive)!=null?l:!1});return Pt.batch(function(){return u.queryCache.findAll(f).forEach(function(v){v.invalidate()}),u.refetchQueries(g,p)})},e.refetchQueries=function(n,i,s){var o=this,a=Uo(n,i,s),l=a[0],u=a[1],d=Pt.batch(function(){return o.queryCache.findAll(l).map(function(p){return p.fetch(void 0,Ke({},u,{meta:{refetchPage:l==null?void 0:l.refetchPage}}))})}),f=Promise.all(d).then(Cr);return u!=null&&u.throwOnError||(f=f.catch(Cr)),f},e.fetchQuery=function(n,i,s){var o=Bm(n,i,s),a=this.defaultQueryOptions(o);typeof a.retry>"u"&&(a.retry=!1);var l=this.queryCache.build(this,a);return l.isStaleByTime(a.staleTime)?l.fetch(a):Promise.resolve(l.state.data)},e.prefetchQuery=function(n,i,s){return this.fetchQuery(n,i,s).then(Cr).catch(Cr)},e.fetchInfiniteQuery=function(n,i,s){var o=Bm(n,i,s);return o.behavior=dz(),this.fetchQuery(o)},e.prefetchInfiniteQuery=function(n,i,s){return this.fetchInfiniteQuery(n,i,s).then(Cr).catch(Cr)},e.cancelMutations=function(){var n=this,i=Pt.batch(function(){return n.mutationCache.getAll().map(function(s){return s.cancel()})});return Promise.all(i).then(Cr).catch(Cr)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(n){return this.mutationCache.build(this,n).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(n){this.defaultOptions=n},e.setQueryDefaults=function(n,i){var s=this.queryDefaults.find(function(o){return sl(n)===sl(o.queryKey)});s?s.defaultOptions=i:this.queryDefaults.push({queryKey:n,defaultOptions:i})},e.getQueryDefaults=function(n){var i;return n?(i=this.queryDefaults.find(function(s){return Bg(n,s.queryKey)}))==null?void 0:i.defaultOptions:void 0},e.setMutationDefaults=function(n,i){var s=this.mutationDefaults.find(function(o){return sl(n)===sl(o.mutationKey)});s?s.defaultOptions=i:this.mutationDefaults.push({mutationKey:n,defaultOptions:i})},e.getMutationDefaults=function(n){var i;return n?(i=this.mutationDefaults.find(function(s){return Bg(n,s.mutationKey)}))==null?void 0:i.defaultOptions:void 0},e.defaultQueryOptions=function(n){if(n!=null&&n._defaulted)return n;var i=Ke({},this.defaultOptions.queries,this.getQueryDefaults(n==null?void 0:n.queryKey),n,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=DS(i.queryKey,i)),i},e.defaultQueryObserverOptions=function(n){return this.defaultQueryOptions(n)},e.defaultMutationOptions=function(n){return n!=null&&n._defaulted?n:Ke({},this.defaultOptions.mutations,this.getMutationDefaults(n==null?void 0:n.mutationKey),n,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),mz=function(t){Pc(e,t);function e(n,i){var s;return s=t.call(this)||this,s.client=n,s.options=i,s.trackedProps=[],s.selectError=null,s.bindMethods(),s.setOptions(i),s}var r=e.prototype;return r.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},r.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),cC(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},r.onUnsubscribe=function(){this.listeners.length||this.destroy()},r.shouldFetchOnReconnect=function(){return Wx(this.currentQuery,this.options,this.options.refetchOnReconnect)},r.shouldFetchOnWindowFocus=function(){return Wx(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},r.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},r.setOptions=function(i,s){var o=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(i),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var l=this.hasListeners();l&&hC(this.currentQuery,a,this.options,o)&&this.executeFetch(),this.updateResult(s),l&&(this.currentQuery!==a||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var u=this.computeRefetchInterval();l&&(this.currentQuery!==a||this.options.enabled!==o.enabled||u!==this.currentRefetchInterval)&&this.updateRefetchInterval(u)},r.getOptimisticResult=function(i){var s=this.client.defaultQueryObserverOptions(i),o=this.client.getQueryCache().build(this.client,s);return this.createResult(o,s)},r.getCurrentResult=function(){return this.currentResult},r.trackResult=function(i,s){var o=this,a={},l=function(d){o.trackedProps.includes(d)||o.trackedProps.push(d)};return Object.keys(i).forEach(function(u){Object.defineProperty(a,u,{configurable:!1,enumerable:!0,get:function(){return l(u),i[u]}})}),(s.useErrorBoundary||s.suspense)&&l("error"),a},r.getNextResult=function(i){var s=this;return new Promise(function(o,a){var l=s.subscribe(function(u){u.isFetching||(l(),u.isError&&(i!=null&&i.throwOnError)?a(u.error):o(u))})})},r.getCurrentQuery=function(){return this.currentQuery},r.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},r.refetch=function(i){return this.fetch(Ke({},i,{meta:{refetchPage:i==null?void 0:i.refetchPage}}))},r.fetchOptimistic=function(i){var s=this,o=this.client.defaultQueryObserverOptions(i),a=this.client.getQueryCache().build(this.client,o);return a.fetch().then(function(){return s.createResult(a,o)})},r.fetch=function(i){var s=this;return this.executeFetch(i).then(function(){return s.updateResult(),s.currentResult})},r.executeFetch=function(i){this.updateQuery();var s=this.currentQuery.fetch(this.options,i);return i!=null&&i.throwOnError||(s=s.catch(Cr)),s},r.updateStaleTimeout=function(){var i=this;if(this.clearStaleTimeout(),!(Fg||this.currentResult.isStale||!Hx(this.options.staleTime))){var s=HR(this.currentResult.dataUpdatedAt,this.options.staleTime),o=s+1;this.staleTimeoutId=setTimeout(function(){i.currentResult.isStale||i.updateResult()},o)}},r.computeRefetchInterval=function(){var i;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(i=this.options.refetchInterval)!=null?i:!1},r.updateRefetchInterval=function(i){var s=this;this.clearRefetchInterval(),this.currentRefetchInterval=i,!(Fg||this.options.enabled===!1||!Hx(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(s.options.refetchIntervalInBackground||Kh.isFocused())&&s.executeFetch()},this.currentRefetchInterval))},r.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},r.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},r.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},r.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},r.createResult=function(i,s){var o=this.currentQuery,a=this.options,l=this.currentResult,u=this.currentResultState,d=this.currentResultOptions,f=i!==o,p=f?i.state:this.currentQueryInitialState,g=f?this.currentResult:this.previousQueryResult,v=i.state,b=v.dataUpdatedAt,E=v.error,w=v.errorUpdatedAt,S=v.isFetching,_=v.status,A=!1,P=!1,N;if(s.optimisticResults){var L=this.hasListeners(),k=!L&&cC(i,s),q=L&&hC(i,o,s,a);(k||q)&&(S=!0,b||(_="loading"))}if(s.keepPreviousData&&!v.dataUpdateCount&&(g!=null&&g.isSuccess)&&_!=="error")N=g.data,b=g.dataUpdatedAt,_=g.status,A=!0;else if(s.select&&typeof v.data<"u")if(l&&v.data===(u==null?void 0:u.data)&&s.select===this.selectFn)N=this.selectResult;else try{this.selectFn=s.select,N=s.select(v.data),s.structuralSharing!==!1&&(N=zg(l==null?void 0:l.data,N)),this.selectResult=N,this.selectError=null}catch(G){$g().error(G),this.selectError=G}else N=v.data;if(typeof s.placeholderData<"u"&&typeof N>"u"&&(_==="loading"||_==="idle")){var H;if(l!=null&&l.isPlaceholderData&&s.placeholderData===(d==null?void 0:d.placeholderData))H=l.data;else if(H=typeof s.placeholderData=="function"?s.placeholderData():s.placeholderData,s.select&&typeof H<"u")try{H=s.select(H),s.structuralSharing!==!1&&(H=zg(l==null?void 0:l.data,H)),this.selectError=null}catch(G){$g().error(G),this.selectError=G}typeof H<"u"&&(_="success",N=H,P=!0)}this.selectError&&(E=this.selectError,N=this.selectResult,w=Date.now(),_="error");var Q={status:_,isLoading:_==="loading",isSuccess:_==="success",isError:_==="error",isIdle:_==="idle",data:N,dataUpdatedAt:b,error:E,errorUpdatedAt:w,failureCount:v.fetchFailureCount,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>p.dataUpdateCount||v.errorUpdateCount>p.errorUpdateCount,isFetching:S,isRefetching:S&&_!=="loading",isLoadingError:_==="error"&&v.dataUpdatedAt===0,isPlaceholderData:P,isPreviousData:A,isRefetchError:_==="error"&&v.dataUpdatedAt!==0,isStale:LS(i,s),refetch:this.refetch,remove:this.remove};return Q},r.shouldNotifyListeners=function(i,s){if(!s)return!0;var o=this.options,a=o.notifyOnChangeProps,l=o.notifyOnChangePropsExclusions;if(!a&&!l||a==="tracked"&&!this.trackedProps.length)return!0;var u=a==="tracked"?this.trackedProps:a;return Object.keys(i).some(function(d){var f=d,p=i[f]!==s[f],g=u==null?void 0:u.some(function(b){return b===d}),v=l==null?void 0:l.some(function(b){return b===d});return p&&!v&&(!u||g)})},r.updateResult=function(i){var s=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!ez(this.currentResult,s)){var o={cache:!0};(i==null?void 0:i.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,s)&&(o.listeners=!0),this.notify(Ke({},o,i))}},r.updateQuery=function(){var i=this.client.getQueryCache().build(this.client,this.options);if(i!==this.currentQuery){var s=this.currentQuery;this.currentQuery=i,this.currentQueryInitialState=i.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(s==null||s.removeObserver(this),i.addObserver(this))}},r.onQueryUpdate=function(i){var s={};i.type==="success"?s.onSuccess=!0:i.type==="error"&&!jm(i.error)&&(s.onError=!0),this.updateResult(s),this.hasListeners()&&this.updateTimers()},r.notify=function(i){var s=this;Pt.batch(function(){i.onSuccess?(s.options.onSuccess==null||s.options.onSuccess(s.currentResult.data),s.options.onSettled==null||s.options.onSettled(s.currentResult.data,null)):i.onError&&(s.options.onError==null||s.options.onError(s.currentResult.error),s.options.onSettled==null||s.options.onSettled(void 0,s.currentResult.error)),i.listeners&&s.listeners.forEach(function(o){o(s.currentResult)}),i.cache&&s.client.getQueryCache().notify({query:s.currentQuery,type:"observerResultsUpdated"})})},e}(Mc);function gz(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function cC(t,e){return gz(t,e)||t.state.dataUpdatedAt>0&&Wx(t,e,e.refetchOnMount)}function Wx(t,e,r){if(e.enabled!==!1){var n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&LS(t,e)}return!1}function hC(t,e,r,n){return r.enabled!==!1&&(t!==e||n.enabled===!1)&&(!r.suspense||t.state.status!=="error")&&LS(t,r)}function LS(t,e){return t.isStaleByTime(e.staleTime)}var vz=function(t){Pc(e,t);function e(n,i){var s;return s=t.call(this)||this,s.client=n,s.setOptions(i),s.bindMethods(),s.updateResult(),s}var r=e.prototype;return r.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},r.setOptions=function(i){this.options=this.client.defaultMutationOptions(i)},r.onUnsubscribe=function(){if(!this.listeners.length){var i;(i=this.currentMutation)==null||i.removeObserver(this)}},r.onMutationUpdate=function(i){this.updateResult();var s={listeners:!0};i.type==="success"?s.onSuccess=!0:i.type==="error"&&(s.onError=!0),this.notify(s)},r.getCurrentResult=function(){return this.currentResult},r.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},r.mutate=function(i,s){return this.mutateOptions=s,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,Ke({},this.options,{variables:typeof i<"u"?i:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},r.updateResult=function(){var i=this.currentMutation?this.currentMutation.state:QR(),s=Ke({},i,{isLoading:i.status==="loading",isSuccess:i.status==="success",isError:i.status==="error",isIdle:i.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=s},r.notify=function(i){var s=this;Pt.batch(function(){s.mutateOptions&&(i.onSuccess?(s.mutateOptions.onSuccess==null||s.mutateOptions.onSuccess(s.currentResult.data,s.currentResult.variables,s.currentResult.context),s.mutateOptions.onSettled==null||s.mutateOptions.onSettled(s.currentResult.data,null,s.currentResult.variables,s.currentResult.context)):i.onError&&(s.mutateOptions.onError==null||s.mutateOptions.onError(s.currentResult.error,s.currentResult.variables,s.currentResult.context),s.mutateOptions.onSettled==null||s.mutateOptions.onSettled(void 0,s.currentResult.error,s.currentResult.variables,s.currentResult.context))),i.listeners&&s.listeners.forEach(function(o){o(s.currentResult)})})},e}(Mc),yz=sB.unstable_batchedUpdates;Pt.setBatchNotifyFunction(yz);var bz=console;oz(bz);var dC=de.createContext(void 0),KR=de.createContext(!1);function ZR(t){return t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=dC),window.ReactQueryClientContext):dC}var JR=function(){var e=de.useContext(ZR(de.useContext(KR)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},xz=function(e){var r=e.client,n=e.contextSharing,i=n===void 0?!1:n,s=e.children;de.useEffect(function(){return r.mount(),function(){r.unmount()}},[r]);var o=ZR(i);return de.createElement(KR.Provider,{value:i},de.createElement(o.Provider,{value:r},s))};function _z(){var t=!1;return{clearReset:function(){t=!1},reset:function(){t=!0},isReset:function(){return t}}}var wz=de.createContext(_z()),Sz=function(){return de.useContext(wz)};function e3(t,e,r){return typeof e=="function"?e.apply(void 0,r):typeof e=="boolean"?e:!!t}function t3(t,e,r){var n=de.useRef(!1),i=de.useState(0),s=i[1],o=K8(t,e,r),a=JR(),l=de.useRef();l.current?l.current.setOptions(o):l.current=new vz(a,o);var u=l.current.getCurrentResult();de.useEffect(function(){n.current=!0;var f=l.current.subscribe(Pt.batchCalls(function(){n.current&&s(function(p){return p+1})}));return function(){n.current=!1,f()}},[]);var d=de.useCallback(function(f,p){l.current.mutate(f,p).catch(Cr)},[]);if(u.error&&e3(void 0,l.current.options.useErrorBoundary,[u.error]))throw u.error;return Ke({},u,{mutate:d,mutateAsync:u.mutate})}function Ez(t,e){var r=de.useRef(!1),n=de.useState(0),i=n[1],s=JR(),o=Sz(),a=s.defaultQueryObserverOptions(t);a.optimisticResults=!0,a.onError&&(a.onError=Pt.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=Pt.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=Pt.batchCalls(a.onSettled)),a.suspense&&(typeof a.staleTime!="number"&&(a.staleTime=1e3),a.cacheTime===0&&(a.cacheTime=1)),(a.suspense||a.useErrorBoundary)&&(o.isReset()||(a.retryOnMount=!1));var l=de.useState(function(){return new e(s,a)}),u=l[0],d=u.getOptimisticResult(a);if(de.useEffect(function(){r.current=!0,o.clearReset();var f=u.subscribe(Pt.batchCalls(function(){r.current&&i(function(p){return p+1})}));return u.updateResult(),function(){r.current=!1,f()}},[o,u]),de.useEffect(function(){u.setOptions(a,{listeners:!1})},[a,u]),a.suspense&&d.isLoading)throw u.fetchOptimistic(a).then(function(f){var p=f.data;a.onSuccess==null||a.onSuccess(p),a.onSettled==null||a.onSettled(p,null)}).catch(function(f){o.clearReset(),a.onError==null||a.onError(f),a.onSettled==null||a.onSettled(void 0,f)});if(d.isError&&!o.isReset()&&!d.isFetching&&e3(a.suspense,a.useErrorBoundary,[d.error,u.getCurrentQuery()]))throw d.error;return a.notifyOnChangeProps==="tracked"&&(d=u.trackResult(d,a)),d}function sf(t,e,r){var n=Bm(t,e,r);return Ez(n,mz)}function fC(t){var n;const r=(n=sf(["profile",t.id],()=>Ic.getProfile(t.id)).data)==null?void 0:n.data;return J("div",{className:"flex w-full h-5 items-center gap-5",children:[C("div",{className:kt("rounded-full w-3 h-3 border",{"bg-white border-slate-600":t.isWhite,"bg-slate-600 border-white":!t.isWhite})}),r?J("div",{className:"flex gap-5",children:[C(Pr,{to:`/profile/${r.id}`,className:"avatar w-5 h-5",children:C("div",{className:"w-5 rounded-full",children:C("img",{src:r.avatarUrl,alt:"",className:"mr-2 w-1/3"})})}),J("span",{className:kt("text-base-content",{"font-bold":t.isUser}),children:[r.displayName,t.isUser?" (You)":""]})]}):J("div",{className:"flex gap-5 items-center",children:[C("div",{className:"bg-base-200 w-5 h-5 rounded-full skeleton"}),C("div",{className:"bg-base-200 h-2 w-20 skeleton"})]})]})}function r3(t){const{id:e}=Ac(),r=e??t.id??"",[n,i]=O.useState(1),[s,o]=O.useState(1),[a,l]=O.useState(null);return O.useEffect(()=>{Ic.getGameHistory(r,n).then(u=>{l(u.data.games),o(u.data.totalPages)})},[n,r]),r?a==null?C("div",{className:"w-full flex justify-center bg-base-300 rounded-lg p-5",children:C("span",{className:"loading loading-spinner loading-lg"})}):a.length==0?C("div",{className:"w-full flex justify-center bg-base-300 rounded-lg p-5",children:C("span",{className:"font-bold text-xl",children:"You haven't play any game yet"})}):J(st,{children:[J("div",{className:"join flex w-full justify-center mb-3",children:[C("button",{className:"join-item btn",onClick:()=>i(Math.max(1,n-1)),children:""}),J("button",{className:"join-item flex-1 btn",children:["Page ",n]}),C("button",{className:"join-item btn",onClick:()=>i(Math.min(s,n+1)),children:""})]}),C("table",{className:"table table-lg bg-base",children:J("thead",{children:[J("tr",{children:[C("th",{}),C("th",{children:"Players"}),C("th",{children:"Result"}),C("th",{children:"Date"})]}),a.map(u=>J("tr",{className:"hover",children:[C("td",{}),J("td",{className:"flex flex-col gap-2 justify-center",children:[C(fC,{id:u.player1Id,isWhite:!0,isUser:r==u.player1Id}),C(fC,{id:u.player2Id,isWhite:!1,isUser:r==u.player2Id})]}),C("td",{className:kt("text-lg",{"text-success":r==u.player1Id&&u.status=="PLAYER1_WIN"||r==u.player2Id&&u.status=="PLAYER2_WIN","text-error":!(r==u.player1Id&&u.status=="PLAYER1_WIN"||r==u.player2Id&&u.status=="PLAYER2_WIN")}),children:r==u.player1Id&&u.status=="PLAYER1_WIN"||r==u.player2Id&&u.status=="PLAYER2_WIN"?"WIN":"LOSE"}),C("td",{children:new Date(u.createdAt+" UTC").toUTCString()})]},u.id))]})})]}):C("div",{className:"w-full flex justify-center bg-base-300 rounded-lg p-5",children:C("span",{className:"font-bold text-xl",children:"hey no"})})}function Tz(){const{user:t,isAuthenticated:e}=O.useContext(Di);return J("div",{className:"flex flex-col w-full h-full items-center py-10 px-16 gap-20",children:[e===jr.AUTHENTICATED&&J("div",{className:"flex flex-col gap-5 w-full",children:[J("div",{className:"w-full flex gap-5",children:[C(Pr,{to:`${$e.profile}/${t==null?void 0:t.id}`,className:"avatar btn btn-circle btn-ghost",children:C("div",{className:"w-20 rounded-full",children:C("img",{alt:"Tailwind CSS Navbar component",src:(t==null?void 0:t.avatarUrl)??"https://daisyui.com/images/stock/photo-1534528741775-53994a69daeb.jpg"})})}),C("span",{className:"text-base-content text-3xl font-bold",children:t==null?void 0:t.displayName})]}),J("div",{className:"w-full flex gap-5",children:[C("span",{className:"text-base-content text-3xl font-bold",children:"ELO: "}),C("span",{className:"text-info text-3xl font-bold",children:t==null?void 0:t.elo})]})]}),J("div",{className:"flex w-full gap-10 h-96 px-16",children:[J("div",{className:"flex flex-col w-1/3 h-full justify-evenly gap-10",children:[C(Pr,{className:"btn bg-base-200 w-full h-1/4 border-b-8 border-base-300",to:$e.quickMatch,children:J("span",{className:"text-base-content font-bold text-xl flex gap-2 items-center",children:[C(B8,{}),"Quick Match"]})}),C(Pr,{to:$e.playWithBot,className:"btn bg-base-200 w-full h-1/4 border-b-8 border-base-300",children:J("span",{className:"text-base-content font-bold text-xl flex gap-2 items-center",children:[C(G8,{}),"Play with bot"]})}),C("div",{className:"tooltip h-1/4","data-tip":"Currently not available",children:C("div",{className:"btn bg-base-200 w-full h-full border-b-8 border-base-300",children:J("span",{className:"text-base-content font-bold text-xl flex gap-2 items-center",children:[C(W8,{}),"Play with friends"]})})})]}),J("div",{className:"card bg-base-200 h-full w-1/3 border-b-8 border-base-300",children:[C("figure",{children:C("img",{src:"/puzzle.jpeg",alt:"Shoes"})}),J("div",{className:"card-body",children:[C("h2",{className:"card-title",children:"Puzzle"}),C("p",{children:"Solve many chess puzzles"}),C("div",{className:"card-actions justify-end",children:C("div",{className:"tooltip","data-tip":"Currently not available",children:C("button",{className:"btn btn-primary btn-disabled",children:"Play"})})})]})]}),J("div",{className:"card bg-base-200 h-full w-1/3 border-b-8 border-base-300",children:[C("figure",{children:C("img",{src:"/robot.jpg",alt:"Shoes"})}),J("div",{className:"card-body",children:[C("h2",{className:"card-title",children:"Play with AI"}),C("p",{children:"Challenge yourself with smart Artifical Intelligent"}),C("div",{className:"card-actions justify-end",children:C(Pr,{to:$e.playWithBot,className:"btn btn-primary",children:"Play"})})]})]})]}),e===jr.AUTHENTICATED&&J("div",{className:"w-full flex flex-col gap-5",children:[C("span",{className:"w-full text-base-content font-bold text-2xl",children:"Your games"}),C("div",{className:"px-16",children:C(r3,{id:t==null?void 0:t.id})})]})]})}var of=t=>t.type==="checkbox",Ru=t=>t instanceof Date,Qr=t=>t==null;const n3=t=>typeof t=="object";var lr=t=>!Qr(t)&&!Array.isArray(t)&&n3(t)&&!Ru(t),Az=t=>lr(t)&&t.target?of(t.target)?t.target.checked:t.target.value:t,Cz=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Iz=(t,e)=>t.has(Cz(e)),Pz=t=>{const e=t.constructor&&t.constructor.prototype;return lr(e)&&e.hasOwnProperty("isPrototypeOf")},FS=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Gn(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(FS&&(t instanceof Blob||t instanceof FileList))&&(r||lr(t)))if(e=r?[]:{},!r&&!Pz(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=Gn(t[n]));else return t;return e}var af=t=>Array.isArray(t)?t.filter(Boolean):[],Vt=t=>t===void 0,Te=(t,e,r)=>{if(!e||!lr(t))return r;const n=af(e.split(/[,[\].]+?/)).reduce((i,s)=>Qr(i)?i:i[s],t);return Vt(n)||n===t?Vt(t[e])?r:t[e]:n},Bs=t=>typeof t=="boolean";const pC={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},xi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ms={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};de.createContext(null);var Mz=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==xi.all&&(e._proxyFormState[o]=!n||xi.all),r&&(r[o]=!0),t[o]}});return i},Vn=t=>lr(t)&&!Object.keys(t).length,kz=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Vn(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!n||xi.all))},I1=t=>Array.isArray(t)?t:[t];function Nz(t){const e=de.useRef(t);e.current=t,de.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}var ds=t=>typeof t=="string",Rz=(t,e,r,n,i)=>ds(t)?(n&&e.watch.add(t),Te(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),Te(r,s))):(n&&(e.watchAll=!0),r),US=t=>/^\w*$/.test(t),i3=t=>af(t.replace(/["|']|\]/g,"").split(/\.|\[/)),mt=(t,e,r)=>{let n=-1;const i=US(e)?[e]:i3(e),s=i.length,o=s-1;for(;++n<s;){const a=i[n];let l=r;if(n!==o){const u=t[a];l=lr(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}t[a]=l,t=t[a]}return t},s3=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},mC=t=>({isOnSubmit:!t||t===xi.onSubmit,isOnBlur:t===xi.onBlur,isOnChange:t===xi.onChange,isOnAll:t===xi.all,isOnTouch:t===xi.onTouched}),gC=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Zh=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=Te(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!n)break;if(o.ref&&e(o.ref,o.name)&&!n)break;Zh(a,e)}else lr(a)&&Zh(a,e)}}};var Oz=(t,e,r)=>{const n=af(Te(t,r));return mt(n,"root",e[r]),mt(t,r,n),t},BS=t=>t.type==="file",Qo=t=>typeof t=="function",Gg=t=>{if(!FS)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},$m=t=>ds(t),zS=t=>t.type==="radio",Hg=t=>t instanceof RegExp;const vC={value:!1,isValid:!1},yC={value:!0,isValid:!0};var o3=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Vt(t[0].attributes.value)?Vt(t[0].value)||t[0].value===""?yC:{value:t[0].value,isValid:!0}:yC:vC}return vC};const bC={isValid:!1,value:null};var a3=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,bC):bC;function xC(t,e,r="validate"){if($m(t)||Array.isArray(t)&&t.every($m)||Bs(t)&&!t)return{type:r,message:$m(t)?t:"",ref:e}}var nu=t=>lr(t)&&!Hg(t)?t:{value:t,message:""},_C=async(t,e,r,n,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:d,max:f,pattern:p,validate:g,name:v,valueAsNumber:b,mount:E,disabled:w}=t._f,S=Te(e,v);if(!E||w)return{};const _=o?o[0]:s,A=G=>{n&&_.reportValidity&&(_.setCustomValidity(Bs(G)?"":G||""),_.reportValidity())},P={},N=zS(s),L=of(s),k=N||L,q=(b||BS(s))&&Vt(s.value)&&Vt(S)||Gg(s)&&s.value===""||S===""||Array.isArray(S)&&!S.length,H=s3.bind(null,v,r,P),Q=(G,F,D,V=Ms.maxLength,W=Ms.minLength)=>{const B=G?F:D;P[v]={type:G?V:W,message:B,ref:s,...H(G?V:W,B)}};if(i?!Array.isArray(S)||!S.length:a&&(!k&&(q||Qr(S))||Bs(S)&&!S||L&&!o3(o).isValid||N&&!a3(o).isValid)){const{value:G,message:F}=$m(a)?{value:!!a,message:a}:nu(a);if(G&&(P[v]={type:Ms.required,message:F,ref:_,...H(Ms.required,F)},!r))return A(F),P}if(!q&&(!Qr(d)||!Qr(f))){let G,F;const D=nu(f),V=nu(d);if(!Qr(S)&&!isNaN(S)){const W=s.valueAsNumber||S&&+S;Qr(D.value)||(G=W>D.value),Qr(V.value)||(F=W<V.value)}else{const W=s.valueAsDate||new Date(S),B=R=>new Date(new Date().toDateString()+" "+R),I=s.type=="time",z=s.type=="week";ds(D.value)&&S&&(G=I?B(S)>B(D.value):z?S>D.value:W>new Date(D.value)),ds(V.value)&&S&&(F=I?B(S)<B(V.value):z?S<V.value:W<new Date(V.value))}if((G||F)&&(Q(!!G,D.message,V.message,Ms.max,Ms.min),!r))return A(P[v].message),P}if((l||u)&&!q&&(ds(S)||i&&Array.isArray(S))){const G=nu(l),F=nu(u),D=!Qr(G.value)&&S.length>+G.value,V=!Qr(F.value)&&S.length<+F.value;if((D||V)&&(Q(D,G.message,F.message),!r))return A(P[v].message),P}if(p&&!q&&ds(S)){const{value:G,message:F}=nu(p);if(Hg(G)&&!S.match(G)&&(P[v]={type:Ms.pattern,message:F,ref:s,...H(Ms.pattern,F)},!r))return A(F),P}if(g){if(Qo(g)){const G=await g(S,e),F=xC(G,_);if(F&&(P[v]={...F,...H(Ms.validate,F.message)},!r))return A(F.message),P}else if(lr(g)){let G={};for(const F in g){if(!Vn(G)&&!r)break;const D=xC(await g[F](S,e),_,F);D&&(G={...D,...H(F,D.message)},A(D.message),r&&(P[v]=G))}if(!Vn(G)&&(P[v]={ref:_,...G},!r))return P}}return A(!0),P};function Dz(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Vt(t)?n++:t[e[n++]];return t}function Lz(t){for(const e in t)if(t.hasOwnProperty(e)&&!Vt(t[e]))return!1;return!0}function pr(t,e){const r=Array.isArray(e)?e:US(e)?[e]:i3(e),n=r.length===1?t:Dz(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(lr(n)&&Vn(n)||Array.isArray(n)&&Lz(n))&&pr(t,r.slice(0,-1)),t}var P1=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},Vg=t=>Qr(t)||!n3(t);function ol(t,e){if(Vg(t)||Vg(e))return t===e;if(Ru(t)&&Ru(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const s=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Ru(s)&&Ru(o)||lr(s)&&lr(o)||Array.isArray(s)&&Array.isArray(o)?!ol(s,o):s!==o)return!1}}return!0}var l3=t=>t.type==="select-multiple",Fz=t=>zS(t)||of(t),M1=t=>Gg(t)&&t.isConnected,u3=t=>{for(const e in t)if(Qo(t[e]))return!0;return!1};function Wg(t,e={}){const r=Array.isArray(t);if(lr(t)||r)for(const n in t)Array.isArray(t[n])||lr(t[n])&&!u3(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Wg(t[n],e[n])):Qr(t[n])||(e[n]=!0);return e}function c3(t,e,r){const n=Array.isArray(t);if(lr(t)||n)for(const i in t)Array.isArray(t[i])||lr(t[i])&&!u3(t[i])?Vt(e)||Vg(r[i])?r[i]=Array.isArray(t[i])?Wg(t[i],[]):{...Wg(t[i])}:c3(t[i],Qr(e)?{}:e[i],r[i]):r[i]=!ol(t[i],e[i]);return r}var Ip=(t,e)=>c3(t,e,Wg(e)),h3=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Vt(t)?t:e?t===""?NaN:t&&+t:r&&ds(t)?new Date(t):n?n(t):t;function k1(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return BS(e)?e.files:zS(e)?a3(t.refs).value:l3(e)?[...e.selectedOptions].map(({value:r})=>r):of(e)?o3(t.refs).value:h3(Vt(e.value)?t.ref.value:e.value,t)}var Uz=(t,e,r,n)=>{const i={};for(const s of t){const o=Te(e,s);o&&mt(i,s,o._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},fh=t=>Vt(t)?t:Hg(t)?t.source:lr(t)?Hg(t.value)?t.value.source:t.value:t,Bz=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function wC(t,e,r){const n=Te(t,r);if(n||US(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),o=Te(e,s),a=Te(t,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:r}}var zz=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,jz=(t,e)=>!af(Te(t,e)).length&&pr(t,e);const $z={mode:xi.onSubmit,reValidateMode:xi.onChange,shouldFocusError:!0};function Gz(t={}){let e={...$z,...t},r={submitCount:0,isDirty:!1,isLoading:Qo(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=lr(e.defaultValues)||lr(e.values)?Gn(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Gn(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:P1(),array:P1(),state:P1()},p=mC(e.mode),g=mC(e.reValidateMode),v=e.criteriaMode===xi.all,b=U=>K=>{clearTimeout(u),u=setTimeout(U,K)},E=async U=>{if(d.isValid||U){const K=e.resolver?Vn((await k()).errors):await H(n,!0);K!==r.isValid&&f.state.next({isValid:K})}},w=(U,K)=>{(d.isValidating||d.validatingFields)&&((U||Array.from(a.mount)).forEach(ee=>ee&&mt(r.validatingFields,ee,!!K)),r.isValidating=Object.values(r.validatingFields).some(ee=>ee),f.state.next({validatingFields:r.validatingFields,isValidating:r.isValidating}))},S=(U,K=[],ee,xe,me=!0,he=!0)=>{if(xe&&ee){if(o.action=!0,he&&Array.isArray(Te(n,U))){const Pe=ee(Te(n,U),xe.argA,xe.argB);me&&mt(n,U,Pe)}if(he&&Array.isArray(Te(r.errors,U))){const Pe=ee(Te(r.errors,U),xe.argA,xe.argB);me&&mt(r.errors,U,Pe),jz(r.errors,U)}if(d.touchedFields&&he&&Array.isArray(Te(r.touchedFields,U))){const Pe=ee(Te(r.touchedFields,U),xe.argA,xe.argB);me&&mt(r.touchedFields,U,Pe)}d.dirtyFields&&(r.dirtyFields=Ip(i,s)),f.state.next({name:U,isDirty:G(U,K),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else mt(s,U,K)},_=(U,K)=>{mt(r.errors,U,K),f.state.next({errors:r.errors})},A=U=>{r.errors=U,f.state.next({errors:r.errors,isValid:!1})},P=(U,K,ee,xe)=>{const me=Te(n,U);if(me){const he=Te(s,U,Vt(ee)?Te(i,U):ee);Vt(he)||xe&&xe.defaultChecked||K?mt(s,U,K?he:k1(me._f)):V(U,he),o.mount&&E()}},N=(U,K,ee,xe,me)=>{let he=!1,Pe=!1;const lt={name:U},Yt=!!(Te(n,U)&&Te(n,U)._f.disabled);if(!ee||xe){d.isDirty&&(Pe=r.isDirty,r.isDirty=lt.isDirty=G(),he=Pe!==lt.isDirty);const Vr=Yt||ol(Te(i,U),K);Pe=!!(!Yt&&Te(r.dirtyFields,U)),Vr||Yt?pr(r.dirtyFields,U):mt(r.dirtyFields,U,!0),lt.dirtyFields=r.dirtyFields,he=he||d.dirtyFields&&Pe!==!Vr}if(ee){const Vr=Te(r.touchedFields,U);Vr||(mt(r.touchedFields,U,ee),lt.touchedFields=r.touchedFields,he=he||d.touchedFields&&Vr!==ee)}return he&&me&&f.state.next(lt),he?lt:{}},L=(U,K,ee,xe)=>{const me=Te(r.errors,U),he=d.isValid&&Bs(K)&&r.isValid!==K;if(t.delayError&&ee?(l=b(()=>_(U,ee)),l(t.delayError)):(clearTimeout(u),l=null,ee?mt(r.errors,U,ee):pr(r.errors,U)),(ee?!ol(me,ee):me)||!Vn(xe)||he){const Pe={...xe,...he&&Bs(K)?{isValid:K}:{},errors:r.errors,name:U};r={...r,...Pe},f.state.next(Pe)}},k=async U=>{w(U,!0);const K=await e.resolver(s,e.context,Uz(U||a.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return w(U),K},q=async U=>{const{errors:K}=await k(U);if(U)for(const ee of U){const xe=Te(K,ee);xe?mt(r.errors,ee,xe):pr(r.errors,ee)}else r.errors=K;return K},H=async(U,K,ee={valid:!0})=>{for(const xe in U){const me=U[xe];if(me){const{_f:he,...Pe}=me;if(he){const lt=a.array.has(he.name);w([xe],!0);const Yt=await _C(me,s,v,e.shouldUseNativeValidation&&!K,lt);if(w([xe]),Yt[he.name]&&(ee.valid=!1,K))break;!K&&(Te(Yt,he.name)?lt?Oz(r.errors,Yt,he.name):mt(r.errors,he.name,Yt[he.name]):pr(r.errors,he.name))}Pe&&await H(Pe,K,ee)}}return ee.valid},Q=()=>{for(const U of a.unMount){const K=Te(n,U);K&&(K._f.refs?K._f.refs.every(ee=>!M1(ee)):!M1(K._f.ref))&&Le(U)}a.unMount=new Set},G=(U,K)=>(U&&K&&mt(s,U,K),!ol($(),i)),F=(U,K,ee)=>Rz(U,a,{...o.mount?s:Vt(K)?i:ds(U)?{[U]:K}:K},ee,K),D=U=>af(Te(o.mount?s:i,U,t.shouldUnregister?Te(i,U,[]):[])),V=(U,K,ee={})=>{const xe=Te(n,U);let me=K;if(xe){const he=xe._f;he&&(!he.disabled&&mt(s,U,h3(K,he)),me=Gg(he.ref)&&Qr(K)?"":K,l3(he.ref)?[...he.ref.options].forEach(Pe=>Pe.selected=me.includes(Pe.value)):he.refs?of(he.ref)?he.refs.length>1?he.refs.forEach(Pe=>(!Pe.defaultChecked||!Pe.disabled)&&(Pe.checked=Array.isArray(me)?!!me.find(lt=>lt===Pe.value):me===Pe.value)):he.refs[0]&&(he.refs[0].checked=!!me):he.refs.forEach(Pe=>Pe.checked=Pe.value===me):BS(he.ref)?he.ref.value="":(he.ref.value=me,he.ref.type||f.values.next({name:U,values:{...s}})))}(ee.shouldDirty||ee.shouldTouch)&&N(U,me,ee.shouldTouch,ee.shouldDirty,!0),ee.shouldValidate&&R(U)},W=(U,K,ee)=>{for(const xe in K){const me=K[xe],he=`${U}.${xe}`,Pe=Te(n,he);(a.array.has(U)||!Vg(me)||Pe&&!Pe._f)&&!Ru(me)?W(he,me,ee):V(he,me,ee)}},B=(U,K,ee={})=>{const xe=Te(n,U),me=a.array.has(U),he=Gn(K);mt(s,U,he),me?(f.array.next({name:U,values:{...s}}),(d.isDirty||d.dirtyFields)&&ee.shouldDirty&&f.state.next({name:U,dirtyFields:Ip(i,s),isDirty:G(U,he)})):xe&&!xe._f&&!Qr(he)?W(U,he,ee):V(U,he,ee),gC(U,a)&&f.state.next({...r}),f.values.next({name:o.mount?U:void 0,values:{...s}})},I=async U=>{const K=U.target;let ee=K.name,xe=!0;const me=Te(n,ee),he=()=>K.type?k1(me._f):Az(U),Pe=lt=>{xe=Number.isNaN(lt)||lt===Te(s,ee,lt)};if(me){let lt,Yt;const Vr=he(),ho=U.type===pC.BLUR||U.type===pC.FOCUS_OUT,Ov=!Bz(me._f)&&!e.resolver&&!Te(r.errors,ee)&&!me._f.deps||zz(ho,Te(r.touchedFields,ee),r.isSubmitted,g,p),Fc=gC(ee,a,ho);mt(s,ee,Vr),ho?(me._f.onBlur&&me._f.onBlur(U),l&&l(0)):me._f.onChange&&me._f.onChange(U);const Uc=N(ee,Vr,ho,!1),Dv=!Vn(Uc)||Fc;if(!ho&&f.values.next({name:ee,type:U.type,values:{...s}}),Ov)return d.isValid&&E(),Dv&&f.state.next({name:ee,...Fc?{}:Uc});if(!ho&&Fc&&f.state.next({...r}),e.resolver){const{errors:xf}=await k([ee]);if(Pe(Vr),xe){const Lv=wC(r.errors,n,ee),_f=wC(xf,n,Lv.name||ee);lt=_f.error,ee=_f.name,Yt=Vn(xf)}}else w([ee],!0),lt=(await _C(me,s,v,e.shouldUseNativeValidation))[ee],w([ee]),Pe(Vr),xe&&(lt?Yt=!1:d.isValid&&(Yt=await H(n,!0)));xe&&(me._f.deps&&R(me._f.deps),L(ee,Yt,lt,Uc))}},z=(U,K)=>{if(Te(r.errors,K)&&U.focus)return U.focus(),1},R=async(U,K={})=>{let ee,xe;const me=I1(U);if(e.resolver){const he=await q(Vt(U)?U:me);ee=Vn(he),xe=U?!me.some(Pe=>Te(he,Pe)):ee}else U?(xe=(await Promise.all(me.map(async he=>{const Pe=Te(n,he);return await H(Pe&&Pe._f?{[he]:Pe}:Pe)}))).every(Boolean),!(!xe&&!r.isValid)&&E()):xe=ee=await H(n);return f.state.next({...!ds(U)||d.isValid&&ee!==r.isValid?{}:{name:U},...e.resolver||!U?{isValid:ee}:{},errors:r.errors}),K.shouldFocus&&!xe&&Zh(n,z,U?me:a.mount),xe},$=U=>{const K={...i,...o.mount?s:{}};return Vt(U)?K:ds(U)?Te(K,U):U.map(ee=>Te(K,ee))},Z=(U,K)=>({invalid:!!Te((K||r).errors,U),isDirty:!!Te((K||r).dirtyFields,U),isTouched:!!Te((K||r).touchedFields,U),isValidating:!!Te((K||r).validatingFields,U),error:Te((K||r).errors,U)}),pe=U=>{U&&I1(U).forEach(K=>pr(r.errors,K)),f.state.next({errors:U?r.errors:{}})},fe=(U,K,ee)=>{const xe=(Te(n,U,{_f:{}})._f||{}).ref;mt(r.errors,U,{...K,ref:xe}),f.state.next({name:U,errors:r.errors,isValid:!1}),ee&&ee.shouldFocus&&xe&&xe.focus&&xe.focus()},Ue=(U,K)=>Qo(U)?f.values.subscribe({next:ee=>U(F(void 0,K),ee)}):F(U,K,!0),Le=(U,K={})=>{for(const ee of U?I1(U):a.mount)a.mount.delete(ee),a.array.delete(ee),K.keepValue||(pr(n,ee),pr(s,ee)),!K.keepError&&pr(r.errors,ee),!K.keepDirty&&pr(r.dirtyFields,ee),!K.keepTouched&&pr(r.touchedFields,ee),!K.keepIsValidating&&pr(r.validatingFields,ee),!e.shouldUnregister&&!K.keepDefaultValue&&pr(i,ee);f.values.next({values:{...s}}),f.state.next({...r,...K.keepDirty?{isDirty:G()}:{}}),!K.keepIsValid&&E()},He=({disabled:U,name:K,field:ee,fields:xe,value:me})=>{if(Bs(U)){const he=U?void 0:Vt(me)?k1(ee?ee._f:Te(xe,K)._f):me;mt(s,K,he),N(K,he,!1,!1,!0)}},dt=(U,K={})=>{let ee=Te(n,U);const xe=Bs(K.disabled);return mt(n,U,{...ee||{},_f:{...ee&&ee._f?ee._f:{ref:{name:U}},name:U,mount:!0,...K}}),a.mount.add(U),ee?He({field:ee,disabled:K.disabled,name:U,value:K.value}):P(U,!0,K.value),{...xe?{disabled:K.disabled}:{},...e.progressive?{required:!!K.required,min:fh(K.min),max:fh(K.max),minLength:fh(K.minLength),maxLength:fh(K.maxLength),pattern:fh(K.pattern)}:{},name:U,onChange:I,onBlur:I,ref:me=>{if(me){dt(U,K),ee=Te(n,U);const he=Vt(me.value)&&me.querySelectorAll&&me.querySelectorAll("input,select,textarea")[0]||me,Pe=Fz(he),lt=ee._f.refs||[];if(Pe?lt.find(Yt=>Yt===he):he===ee._f.ref)return;mt(n,U,{_f:{...ee._f,...Pe?{refs:[...lt.filter(M1),he,...Array.isArray(Te(i,U))?[{}]:[]],ref:{type:he.type,name:U}}:{ref:he}}}),P(U,!1,void 0,he)}else ee=Te(n,U,{}),ee._f&&(ee._f.mount=!1),(e.shouldUnregister||K.shouldUnregister)&&!(Iz(a.array,U)&&o.action)&&a.unMount.add(U)}}},ft=()=>e.shouldFocusError&&Zh(n,z,a.mount),Qe=U=>{Bs(U)&&(f.state.next({disabled:U}),Zh(n,(K,ee)=>{let xe=U;const me=Te(n,ee);me&&Bs(me._f.disabled)&&(xe||(xe=me._f.disabled)),K.disabled=xe},0,!1))},Fe=(U,K)=>async ee=>{let xe;ee&&(ee.preventDefault&&ee.preventDefault(),ee.persist&&ee.persist());let me=Gn(s);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:he,values:Pe}=await k();r.errors=he,me=Pe}else await H(n);if(pr(r.errors,"root"),Vn(r.errors)){f.state.next({errors:{}});try{await U(me,ee)}catch(he){xe=he}}else K&&await K({...r.errors},ee),ft(),setTimeout(ft);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Vn(r.errors)&&!xe,submitCount:r.submitCount+1,errors:r.errors}),xe)throw xe},nt=(U,K={})=>{Te(n,U)&&(Vt(K.defaultValue)?B(U,Gn(Te(i,U))):(B(U,K.defaultValue),mt(i,U,Gn(K.defaultValue))),K.keepTouched||pr(r.touchedFields,U),K.keepDirty||(pr(r.dirtyFields,U),r.isDirty=K.defaultValue?G(U,Gn(Te(i,U))):G()),K.keepError||(pr(r.errors,U),d.isValid&&E()),f.state.next({...r}))},qe=(U,K={})=>{const ee=U?Gn(U):i,xe=Gn(ee),me=Vn(U),he=me?i:xe;if(K.keepDefaultValues||(i=ee),!K.keepValues){if(K.keepDirtyValues)for(const Pe of a.mount)Te(r.dirtyFields,Pe)?mt(he,Pe,Te(s,Pe)):B(Pe,Te(he,Pe));else{if(FS&&Vt(U))for(const Pe of a.mount){const lt=Te(n,Pe);if(lt&&lt._f){const Yt=Array.isArray(lt._f.refs)?lt._f.refs[0]:lt._f.ref;if(Gg(Yt)){const Vr=Yt.closest("form");if(Vr){Vr.reset();break}}}}n={}}s=t.shouldUnregister?K.keepDefaultValues?Gn(i):{}:Gn(he),f.array.next({values:{...he}}),f.values.next({values:{...he}})}a={mount:K.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!K.keepIsValid||!!K.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:K.keepSubmitCount?r.submitCount:0,isDirty:me?!1:K.keepDirty?r.isDirty:!!(K.keepDefaultValues&&!ol(U,i)),isSubmitted:K.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:me?[]:K.keepDirtyValues?K.keepDefaultValues&&s?Ip(i,s):r.dirtyFields:K.keepDefaultValues&&U?Ip(i,U):{},touchedFields:K.keepTouched?r.touchedFields:{},errors:K.keepErrors?r.errors:{},isSubmitSuccessful:K.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Hr=(U,K)=>qe(Qo(U)?U(s):U,K);return{control:{register:dt,unregister:Le,getFieldState:Z,handleSubmit:Fe,setError:fe,_executeSchema:k,_getWatch:F,_getDirty:G,_updateValid:E,_removeUnmounted:Q,_updateFieldArray:S,_updateDisabledField:He,_getFieldArray:D,_reset:qe,_resetDefaultValues:()=>Qo(e.defaultValues)&&e.defaultValues().then(U=>{Hr(U,e.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:U=>{r={...r,...U}},_disableForm:Qe,_subjects:f,_proxyFormState:d,_setErrors:A,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(U){o=U},get _defaultValues(){return i},get _names(){return a},set _names(U){a=U},get _formState(){return r},set _formState(U){r=U},get _options(){return e},set _options(U){e={...e,...U}}},trigger:R,register:dt,handleSubmit:Fe,watch:Ue,setValue:B,getValues:$,reset:Hr,resetField:nt,clearErrors:pe,unregister:Le,setError:fe,setFocus:(U,K={})=>{const ee=Te(n,U),xe=ee&&ee._f;if(xe){const me=xe.refs?xe.refs[0]:xe.ref;me.focus&&(me.focus(),K.shouldSelect&&me.select())}},getFieldState:Z}}function d3(t={}){const e=de.useRef(),r=de.useRef(),[n,i]=de.useState({isDirty:!1,isValidating:!1,isLoading:Qo(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Qo(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Gz(t),formState:n});const s=e.current.control;return s._options=t,Nz({subject:s._subjects.state,next:o=>{kz(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),de.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),de.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),de.useEffect(()=>{t.values&&!ol(t.values,r.current)?(s._reset(t.values,s._options.resetOptions),r.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),de.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),de.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),de.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=Mz(n,s),e.current}const SC={required:"Email is required.",isEmail:"Email is invalid."},Hz={required:"Password is required.",minLength:"Password must have at least 8 characters.",maxLength:"Password has maximum 8 characters."},EC={required:"Confirm password is required.",isMatch:"Confirm password must be match."},ph={MEDICINE_NAME:{required:"Medicine name is required."},MEDICINE_TYPE:{required:"Medicine form is required."},QUANTITY:{required:"Quantity is required."},AMOUNT:{required:"Amount is required."},USAGE:{required:"Usage is required."},DATE:{required:"Date is required."}};function Ol(t){this._maxSize=t,this.clear()}Ol.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Ol.prototype.get=function(t){return this._values[t]};Ol.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var Vz=/[^.^\]^[]+|(?=\[\]|\.\.)/g,f3=/^\d+$/,Wz=/^\d/,Xz=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,qz=/^\s*(['"]?)(.*?)(\1)\s*$/,jS=512,TC=new Ol(jS),AC=new Ol(jS),CC=new Ol(jS),fl={Cache:Ol,split:Xx,normalizePath:N1,setter:function(t){var e=N1(t);return AC.get(t)||AC.set(t,function(n,i){for(var s=0,o=e.length,a=n;s<o-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return n;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var r=N1(t);return CC.get(t)||CC.set(t,function(i){for(var s=0,o=r.length;s<o;)if(i!=null||!e)i=i[r[s++]];else return;return i})},join:function(t){return t.reduce(function(e,r){return e+($S(r)||f3.test(r)?"["+r+"]":(e?".":"")+r)},"")},forEach:function(t,e,r){Yz(Array.isArray(t)?t:Xx(t),e,r)}};function N1(t){return TC.get(t)||TC.set(t,Xx(t).map(function(e){return e.replace(qz,"$2")}))}function Xx(t){return t.match(Vz)||[""]}function Yz(t,e,r){var n=t.length,i,s,o,a;for(s=0;s<n;s++)i=t[s],i&&(Zz(i)&&(i='"'+i+'"'),a=$S(i),o=!a&&/^\d+$/.test(i),e.call(r,i,a,o,s,t))}function $S(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function Qz(t){return t.match(Wz)&&!t.match(f3)}function Kz(t){return Xz.test(t)}function Zz(t){return!$S(t)&&(Qz(t)||Kz(t))}const Jz=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,ev=t=>t.match(Jz)||[],tv=t=>t[0].toUpperCase()+t.slice(1),GS=(t,e)=>ev(t).join(e).toLowerCase(),p3=t=>ev(t).reduce((e,r)=>`${e}${e?r[0].toUpperCase()+r.slice(1).toLowerCase():r.toLowerCase()}`,""),ej=t=>tv(p3(t)),tj=t=>GS(t,"_"),rj=t=>GS(t,"-"),nj=t=>tv(GS(t," ")),ij=t=>ev(t).map(tv).join(" ");var R1={words:ev,upperFirst:tv,camelCase:p3,pascalCase:ej,snakeCase:tj,kebabCase:rj,sentenceCase:nj,titleCase:ij},HS={exports:{}};HS.exports=function(t){return m3(sj(t),t)};HS.exports.array=m3;function m3(t,e){var r=t.length,n=new Array(r),i={},s=r,o=oj(e),a=aj(t);for(e.forEach(function(u){if(!a.has(u[0])||!a.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(t[s],s,new Set);return n;function l(u,d,f){if(f.has(u)){var p;try{p=", node was:"+JSON.stringify(u)}catch{p=""}throw new Error("Cyclic dependency"+p)}if(!a.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!i[d]){i[d]=!0;var g=o.get(u)||new Set;if(g=Array.from(g),d=g.length){f.add(u);do{var v=g[--d];l(v,a.get(v),f)}while(d);f.delete(u)}n[--r]=u}}}function sj(t){for(var e=new Set,r=0,n=t.length;r<n;r++){var i=t[r];e.add(i[0]),e.add(i[1])}return Array.from(e)}function oj(t){for(var e=new Map,r=0,n=t.length;r<n;r++){var i=t[r];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function aj(t){for(var e=new Map,r=0,n=t.length;r<n;r++)e.set(t[r],r);return e}var lj=HS.exports;const uj=wa(lj),cj=Object.prototype.toString,hj=Error.prototype.toString,dj=RegExp.prototype.toString,fj=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",pj=/^Symbol\((.*)\)(.*)$/;function mj(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function IC(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const r=typeof t;if(r==="number")return mj(t);if(r==="string")return e?`"${t}"`:t;if(r==="function")return"[Function "+(t.name||"anonymous")+"]";if(r==="symbol")return fj.call(t).replace(pj,"Symbol($1)");const n=cj.call(t).slice(8,-1);return n==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):n==="Error"||t instanceof Error?"["+hj.call(t)+"]":n==="RegExp"?dj.call(t):null}function Xs(t,e){let r=IC(t,e);return r!==null?r:JSON.stringify(t,function(n,i){let s=IC(this[n],e);return s!==null?s:i},2)}function g3(t){return t==null?[]:[].concat(t)}let v3,y3,b3,gj=/\$\{\s*(\w+)\s*\}/g;v3=Symbol.toStringTag;class PC{constructor(e,r,n,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[v3]="Error",this.name="ValidationError",this.value=r,this.path=n,this.type=i,this.errors=[],this.inner=[],g3(e).forEach(s=>{if(cn.isError(s)){this.errors.push(...s.errors);const o=s.inner.length?s.inner:[s];this.inner.push(...o)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}y3=Symbol.hasInstance;b3=Symbol.toStringTag;class cn extends Error{static formatError(e,r){const n=r.label||r.path||"this";return n!==r.path&&(r=Object.assign({},r,{path:n})),typeof e=="string"?e.replace(gj,(i,s)=>Xs(r[s])):typeof e=="function"?e(r):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,r,n,i,s){const o=new PC(e,r,n,i);if(s)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[b3]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,cn)}static[y3](e){return PC[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let ss={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:r,originalValue:n})=>{const i=n!=null&&n!==r?` (cast from the value \`${Xs(n,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Xs(r,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${Xs(r,!0)}\``+i}},ln={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},vj={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},qx={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},yj={isValue:"${path} field must be ${value}"},Yx={noUnknown:"${path} field has unspecified keys: ${unknown}"},Gm={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},bj={notType:t=>{const{path:e,value:r,spec:n}=t,i=n.types.length;if(Array.isArray(r)){if(r.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${r.length} for value: \`${Xs(r,!0)}\``;if(r.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${r.length} for value: \`${Xs(r,!0)}\``}return cn.formatError(ss.notType,t)}};Object.assign(Object.create(null),{mixed:ss,string:ln,number:vj,date:qx,object:Yx,array:Gm,boolean:yj,tuple:bj});const rv=t=>t&&t.__isYupSchema__;class Xg{static fromOptions(e,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:i,otherwise:s}=r,o=typeof n=="function"?n:(...a)=>a.every(l=>l===n);return new Xg(e,(a,l)=>{var u;let d=o(...a)?i:s;return(u=d==null?void 0:d(l))!=null?u:l})}constructor(e,r){this.fn=void 0,this.refs=e,this.refs=e,this.fn=r}resolve(e,r){let n=this.refs.map(s=>s.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),i=this.fn(n,e,r);if(i===void 0||i===e)return e;if(!rv(i))throw new TypeError("conditions must return a schema object");return i.resolve(r)}}const Pp={context:"$",value:"."};function xj(t,e){return new Aa(t,e)}class Aa{constructor(e,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Pp.context,this.isValue=this.key[0]===Pp.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?Pp.context:this.isValue?Pp.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&fl.getter(this.path,!0),this.map=r.map}getValue(e,r,n){let i=this.isContext?n:this.isValue?e:r;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,r){return this.getValue(e,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Aa.prototype.__isYupRef=!0;const al=t=>t==null;function iu(t){function e({value:r,path:n="",options:i,originalValue:s,schema:o},a,l){const{name:u,test:d,params:f,message:p,skipAbsent:g}=t;let{parent:v,context:b,abortEarly:E=o.spec.abortEarly,disableStackTrace:w=o.spec.disableStackTrace}=i;function S(Q){return Aa.isRef(Q)?Q.getValue(r,v,b):Q}function _(Q={}){const G=Object.assign({value:r,originalValue:s,label:o.spec.label,path:Q.path||n,spec:o.spec,disableStackTrace:Q.disableStackTrace||w},f,Q.params);for(const D of Object.keys(G))G[D]=S(G[D]);const F=new cn(cn.formatError(Q.message||p,G),r,G.path,Q.type||u,G.disableStackTrace);return F.params=G,F}const A=E?a:l;let P={path:n,parent:v,type:u,from:i.from,createError:_,resolve:S,options:i,originalValue:s,schema:o};const N=Q=>{cn.isError(Q)?A(Q):Q?l(null):A(_())},L=Q=>{cn.isError(Q)?A(Q):a(Q)};if(g&&al(r))return N(!0);let q;try{var H;if(q=d.call(P,r,P),typeof((H=q)==null?void 0:H.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${P.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(q).then(N,L)}}catch(Q){L(Q);return}N(q)}return e.OPTIONS=t,e}function _j(t,e,r,n=r){let i,s,o;return e?(fl.forEach(e,(a,l,u)=>{let d=l?a.slice(1,a.length-1):a;t=t.resolve({context:n,parent:i,value:r});let f=t.type==="tuple",p=u?parseInt(d,10):0;if(t.innerType||f){if(f&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(r&&p>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=r,r=r&&r[p],t=f?t.spec.types[p]:t.innerType}if(!u){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=r,r=r&&r[d],t=t.fields[d]}s=d,o=l?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class qg extends Set{describe(){const e=[];for(const r of this.values())e.push(Aa.isRef(r)?r.describe():r);return e}resolveAll(e){let r=[];for(const n of this.values())r.push(e(n));return r}clone(){return new qg(this.values())}merge(e,r){const n=this.clone();return e.forEach(i=>n.add(i)),r.forEach(i=>n.delete(i)),n}}function Ou(t,e=new Map){if(rv(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let r;if(t instanceof Date)r=new Date(t.getTime()),e.set(t,r);else if(t instanceof RegExp)r=new RegExp(t),e.set(t,r);else if(Array.isArray(t)){r=new Array(t.length),e.set(t,r);for(let n=0;n<t.length;n++)r[n]=Ou(t[n],e)}else if(t instanceof Map){r=new Map,e.set(t,r);for(const[n,i]of t.entries())r.set(n,Ou(i,e))}else if(t instanceof Set){r=new Set,e.set(t,r);for(const n of t)r.add(Ou(n,e))}else if(t instanceof Object){r={},e.set(t,r);for(const[n,i]of Object.entries(t))r[n]=Ou(i,e)}else throw Error(`Unable to clone ${t}`);return r}class Li{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new qg,this._blacklist=new qg,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(ss.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=Ou(Object.assign({},this.spec,e)),r}label(e){let r=this.clone();return r.spec.label=e,r}meta(...e){if(e.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},e[0]),r}withMutation(e){let r=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=r,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let r=this,n=e.clone();const i=Object.assign({},r.spec,n.spec);return n.spec=i,n.internalTests=Object.assign({},r.internalTests,n.internalTests),n._whitelist=r._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=r._blacklist.merge(e._blacklist,e._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((i,s)=>s.resolve(i,e),r),r=r.resolve(e)}return r}resolveOptions(e){var r,n,i,s;return Object.assign({},e,{from:e.from||[],strict:(r=e.strict)!=null?r:this.spec.strict,abortEarly:(n=e.abortEarly)!=null?n:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,r={}){let n=this.resolve(Object.assign({value:e},r)),i=r.assert==="ignore-optionality",s=n._cast(e,r);if(r.assert!==!1&&!n.isType(s)){if(i&&al(s))return s;let o=Xs(e),a=Xs(s);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,r){let n=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return n===void 0&&(n=this.getDefault(r)),n}_validate(e,r={},n,i){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=r,l=e;a||(l=this._cast(l,Object.assign({assert:!1},r)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:s,value:l,originalValue:o,options:r,tests:u},n,d=>{if(d.length)return i(d,l);this.runTests({path:s,value:l,originalValue:o,options:r,tests:this.tests},n,i)})}runTests(e,r,n){let i=!1,{tests:s,value:o,originalValue:a,path:l,options:u}=e,d=b=>{i||(i=!0,r(b,o))},f=b=>{i||(i=!0,n(b,o))},p=s.length,g=[];if(!p)return f([]);let v={value:o,originalValue:a,path:l,options:u,schema:this};for(let b=0;b<s.length;b++){const E=s[b];E(v,d,function(S){S&&(Array.isArray(S)?g.push(...S):g.push(S)),--p<=0&&f(g)})}}asNestedTest({key:e,index:r,parent:n,parentPath:i,originalParent:s,options:o}){const a=e??r;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let u=n[a];const d=Object.assign({},o,{strict:!0,parent:n,value:u,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${l?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(f,p,g)=>this.resolve(d)._validate(u,d,p,g)}validate(e,r){var n;let i=this.resolve(Object.assign({},r,{value:e})),s=(n=r==null?void 0:r.disableStackTrace)!=null?n:i.spec.disableStackTrace;return new Promise((o,a)=>i._validate(e,r,(l,u)=>{cn.isError(l)&&(l.value=u),a(l)},(l,u)=>{l.length?a(new cn(l,u,void 0,void 0,s)):o(u)}))}validateSync(e,r){var n;let i=this.resolve(Object.assign({},r,{value:e})),s,o=(n=r==null?void 0:r.disableStackTrace)!=null?n:i.spec.disableStackTrace;return i._validate(e,Object.assign({},r,{sync:!0}),(a,l)=>{throw cn.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new cn(a,e,void 0,void 0,o);s=l}),s}isValid(e,r){return this.validate(e,r).then(()=>!0,n=>{if(cn.isError(n))return!1;throw n})}isValidSync(e,r){try{return this.validateSync(e,r),!0}catch(n){if(cn.isError(n))return!1;throw n}}_getDefault(e){let r=this.spec.default;return r==null?r:typeof r=="function"?r.call(this,e):Ou(r)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,r){const n=this.clone({nullable:e});return n.internalTests.nullable=iu({message:r,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),n}optionality(e,r){const n=this.clone({optional:e});return n.internalTests.optionality=iu({message:r,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(e=ss.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=ss.notNull){return this.nullability(!1,e)}required(e=ss.required){return this.clone().withMutation(r=>r.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let r=this.clone();return r.transforms.push(e),r}test(...e){let r;if(e.length===1?typeof e[0]=="function"?r={test:e[0]}:r=e[0]:e.length===2?r={name:e[0],test:e[1]}:r={name:e[0],message:e[1],test:e[2]},r.message===void 0&&(r.message=ss.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),i=iu(r),s=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(o=>!(o.OPTIONS.name===r.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),n.tests.push(i),n}when(e,r){!Array.isArray(e)&&typeof e!="string"&&(r=e,e=".");let n=this.clone(),i=g3(e).map(s=>new Aa(s));return i.forEach(s=>{s.isSibling&&n.deps.push(s.key)}),n.conditions.push(typeof r=="function"?new Xg(i,r):Xg.fromOptions(i,r)),n}typeError(e){let r=this.clone();return r.internalTests.typeError=iu({message:e,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),r}oneOf(e,r=ss.oneOf){let n=this.clone();return e.forEach(i=>{n._whitelist.add(i),n._blacklist.delete(i)}),n.internalTests.whiteList=iu({message:r,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),n}notOneOf(e,r=ss.notOneOf){let n=this.clone();return e.forEach(i=>{n._blacklist.add(i),n._whitelist.delete(i)}),n.internalTests.blacklist=iu({message:r,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),n}strip(e=!0){let r=this.clone();return r.spec.strip=e,r}describe(e){const r=(e?this.resolve(e):this).clone(),{label:n,meta:i,optional:s,nullable:o}=r.spec;return{meta:i,label:n,optional:s,nullable:o,default:r.getDefault(e),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,d)=>d.findIndex(f=>f.name===l.name)===u)}}}Li.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Li.prototype[`${t}At`]=function(e,r,n={}){const{parent:i,parentPath:s,schema:o}=_j(this,e,r,n.context);return o[t](i&&i[s],Object.assign({},n,{parent:i,path:e}))};for(const t of["equals","is"])Li.prototype[t]=Li.prototype.oneOf;for(const t of["not","nope"])Li.prototype[t]=Li.prototype.notOneOf;const wj=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Sj(t){const e=Qx(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let r=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(r=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(r=0-r)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+r,e.second,e.millisecond)}function Qx(t){var e,r;const n=wj.exec(t);return n?{year:ks(n[1]),month:ks(n[2],1)-1,day:ks(n[3],1),hour:ks(n[4]),minute:ks(n[5]),second:ks(n[6]),millisecond:n[7]?ks(n[7].substring(0,3)):0,precision:(e=(r=n[7])==null?void 0:r.length)!=null?e:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:ks(n[10]),minuteOffset:ks(n[11])}:null}function ks(t,e=0){return Number(t)||e}let Ej=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Tj=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Aj=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Cj="^\\d{4}-\\d{2}-\\d{2}",Ij="\\d{2}:\\d{2}:\\d{2}",Pj="(([+-]\\d{2}(:?\\d{2})?)|Z)",Mj=new RegExp(`${Cj}T${Ij}(\\.\\d+)?${Pj}$`),kj=t=>al(t)||t===t.trim(),Nj={}.toString();function yi(){return new x3}class x3 extends Li{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce||n.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===Nj?e:i})})}required(e){return super.required(e).withMutation(r=>r.test({message:e||ss.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(r=>r.OPTIONS.name!=="required"),e))}length(e,r=ln.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r=ln.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r=ln.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}matches(e,r){let n=!1,i,s;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:i,name:s}=r:i=r),this.test({name:s||"matches",message:i||ln.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&n||o.search(e)!==-1})}email(e=ln.email){return this.matches(Ej,{name:"email",message:e,excludeEmptyString:!0})}url(e=ln.url){return this.matches(Tj,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=ln.uuid){return this.matches(Aj,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let r="",n,i;return e&&(typeof e=="object"?{message:r="",allowOffset:n=!1,precision:i=void 0}=e:r=e),this.matches(Mj,{name:"datetime",message:r||ln.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||ln.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:s=>{if(!s||n)return!0;const o=Qx(s);return o?!!o.z:!1}}).test({name:"datetime_precision",message:r||ln.datetime_precision,params:{precision:i},skipAbsent:!0,test:s=>{if(!s||i==null)return!0;const o=Qx(s);return o?o.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=ln.trim){return this.transform(r=>r!=null?r.trim():r).test({message:e,name:"trim",test:kj})}lowercase(e=ln.lowercase){return this.transform(r=>al(r)?r:r.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>al(r)||r===r.toLowerCase()})}uppercase(e=ln.uppercase){return this.transform(r=>al(r)?r:r.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>al(r)||r===r.toUpperCase()})}}yi.prototype=x3.prototype;let Rj=new Date(""),Oj=t=>Object.prototype.toString.call(t)==="[object Date]";class nv extends Li{constructor(){super({type:"date",check(e){return Oj(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,r,n)=>!n.spec.coerce||n.isType(e)||e===null?e:(e=Sj(e),isNaN(e)?nv.INVALID_DATE:new Date(e)))})}prepareParam(e,r){let n;if(Aa.isRef(e))n=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=i}return n}min(e,r=qx.min){let n=this.prepareParam(e,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(n)}})}max(e,r=qx.max){let n=this.prepareParam(e,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(n)}})}}nv.INVALID_DATE=Rj;nv.prototype;function Dj(t,e=[]){let r=[],n=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let l=fl.split(o)[0];n.add(l),i.has(`${a}-${l}`)||r.push([a,l])}for(const o of Object.keys(t)){let a=t[o];n.add(o),Aa.isRef(a)&&a.isSibling?s(a.path,o):rv(a)&&"deps"in a&&a.deps.forEach(l=>s(l,o))}return uj.array(Array.from(n),r).reverse()}function MC(t,e){let r=1/0;return t.some((n,i)=>{var s;if((s=e.path)!=null&&s.includes(n))return r=i,!0}),r}function _3(t){return(e,r)=>MC(t,e)-MC(t,r)}const w3=(t,e,r)=>{if(typeof t!="string")return t;let n=t;try{n=JSON.parse(t)}catch{}return r.isType(n)?n:t};function Hm(t){if("fields"in t){const e={};for(const[r,n]of Object.entries(t.fields))e[r]=Hm(n);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Hm(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Hm)}):"optional"in t?t.optional():t}const Lj=(t,e)=>{const r=[...fl.normalizePath(e)];if(r.length===1)return r[0]in t;let n=r.pop(),i=fl.getter(fl.join(r),!0)(t);return!!(i&&n in i)};let kC=t=>Object.prototype.toString.call(t)==="[object Object]";function Fj(t,e){let r=Object.keys(t.fields);return Object.keys(e).filter(n=>r.indexOf(n)===-1)}const Uj=_3([]);function Jh(t){return new S3(t)}class S3 extends Li{constructor(e){super({type:"object",check(r){return kC(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=Uj,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,r={}){var n;let i=super._cast(e,r);if(i===void 0)return this.getDefault(r);if(!this._typeCheck(i))return i;let s=this.fields,o=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(f=>!this._nodes.includes(f))),l={},u=Object.assign({},r,{parent:l,__validating:r.__validating||!1}),d=!1;for(const f of a){let p=s[f],g=f in i;if(p){let v,b=i[f];u.path=(r.path?`${r.path}.`:"")+f,p=p.resolve({value:b,context:r.context,parent:l});let E=p instanceof Li?p.spec:void 0,w=E==null?void 0:E.strict;if(E!=null&&E.strip){d=d||f in i;continue}v=!r.__validating||!w?p.cast(i[f],u):i[f],v!==void 0&&(l[f]=v)}else g&&!o&&(l[f]=i[f]);(g!==f in l||l[f]!==i[f])&&(d=!0)}return d?l:i}_validate(e,r={},n,i){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=r;r.from=[{schema:this,value:o},...s],r.__validating=!0,r.originalValue=o,super._validate(e,r,n,(l,u)=>{if(!a||!kC(u)){i(l,u);return}o=o||u;let d=[];for(let f of this._nodes){let p=this.fields[f];!p||Aa.isRef(p)||d.push(p.asNestedTest({options:r,key:f,parent:u,parentPath:r.path,originalParent:o}))}this.runTests({tests:d,value:u,originalValue:o,options:r},n,f=>{i(f.sort(this._sortErrors).concat(l),u)})})}clone(e){const r=super.clone(e);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(e){let r=super.concat(e),n=r.fields;for(let[i,s]of Object.entries(this.fields)){const o=n[i];n[i]=o===void 0?s:o}return r.withMutation(i=>i.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let r={};return this._nodes.forEach(n=>{var i;const s=this.fields[n];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[n]})),r[n]=s&&"getDefault"in s?s.getDefault(o):void 0}),r}setFields(e,r){let n=this.clone();return n.fields=e,n._nodes=Dj(e,r),n._sortErrors=_3(Object.keys(e)),r&&(n._excludedEdges=r),n}shape(e,r=[]){return this.clone().withMutation(n=>{let i=n._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),i=[...n._excludedEdges,...r]),n.setFields(Object.assign(n.fields,e),i)})}partial(){const e={};for(const[r,n]of Object.entries(this.fields))e[r]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return Hm(this)}pick(e){const r={};for(const n of e)this.fields[n]&&(r[n]=this.fields[n]);return this.setFields(r,this._excludedEdges.filter(([n,i])=>e.includes(n)&&e.includes(i)))}omit(e){const r=[];for(const n of Object.keys(this.fields))e.includes(n)||r.push(n);return this.pick(r)}from(e,r,n){let i=fl.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return Lj(s,e)&&(o=Object.assign({},s),n||delete o[e],o[r]=i(s)),o})}json(){return this.transform(w3)}noUnknown(e=!0,r=Yx.noUnknown){typeof e!="boolean"&&(r=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(i){if(i==null)return!0;const s=Fj(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,r=Yx.noUnknown){return this.noUnknown(!e,r)}transformKeys(e){return this.transform(r=>{if(!r)return r;const n={};for(const i of Object.keys(r))n[e(i)]=r[i];return n})}camelCase(){return this.transformKeys(R1.camelCase)}snakeCase(){return this.transformKeys(R1.snakeCase)}constantCase(){return this.transformKeys(e=>R1.snakeCase(e).toUpperCase())}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[s,o]of Object.entries(r.fields)){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),n.fields[s]=o.describe(a)}return n}}Jh.prototype=S3.prototype;function E3(t){return new T3(t)}class T3 extends Li{constructor(e){super({type:"array",spec:{types:e},check(r){return Array.isArray(r)}}),this.innerType=void 0,this.innerType=e}_cast(e,r){const n=super._cast(e,r);if(!this._typeCheck(n)||!this.innerType)return n;let i=!1;const s=n.map((o,a)=>{const l=this.innerType.cast(o,Object.assign({},r,{path:`${r.path||""}[${a}]`}));return l!==o&&(i=!0),l});return i?s:n}_validate(e,r={},n,i){var s;let o=this.innerType,a=(s=r.recursive)!=null?s:this.spec.recursive;r.originalValue!=null&&r.originalValue,super._validate(e,r,n,(l,u)=>{var d;if(!a||!o||!this._typeCheck(u)){i(l,u);return}let f=new Array(u.length);for(let g=0;g<u.length;g++){var p;f[g]=o.asNestedTest({options:r,index:g,parent:u,parentPath:r.path,originalParent:(p=r.originalValue)!=null?p:e})}this.runTests({value:u,tests:f,originalValue:(d=r.originalValue)!=null?d:e,options:r},n,g=>i(g.concat(l),u))})}clone(e){const r=super.clone(e);return r.innerType=this.innerType,r}json(){return this.transform(w3)}concat(e){let r=super.concat(e);return r.innerType=this.innerType,e.innerType&&(r.innerType=r.innerType?r.innerType.concat(e.innerType):e.innerType),r}of(e){let r=this.clone();if(!rv(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Xs(e));return r.innerType=e,r.spec=Object.assign({},r.spec,{types:e}),r}length(e,r=Gm.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r){return r=r||Gm.min,this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r){return r=r||Gm.max,this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,r)=>this._typeCheck(e)?e:r==null?[]:[].concat(r))}compact(e){let r=e?(n,i,s)=>!e(n,i,s):n=>!!n;return this.transform(n=>n!=null?n.filter(r):n)}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);if(r.innerType){var i;let s=e;(i=s)!=null&&i.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[0]})),n.innerType=r.innerType.describe(s)}return n}}E3.prototype=T3.prototype;const A3=Jh({email:yi().required(SC.required).email(SC.isEmail),password:yi().required(Hz.required),confirmPassword:yi().required(EC.required).oneOf([xj("password")],EC.isMatch)});Jh().shape({[T8]:E3().of(Jh().shape({medicineName:yi().required(ph.MEDICINE_NAME.required),medicineType:yi().required(ph.MEDICINE_TYPE.required),quantity:yi().required(ph.QUANTITY.required),amount:yi().required(ph.AMOUNT.required),usage:yi().required(ph.USAGE.required)})).required(),date:Jh({startDate:yi(),endDate:yi()})});var NC=function(t,e,r){if(t&&"reportValidity"in t){var n=Te(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},C3=function(t,e){var r=function(i){var s=e.fields[i];s&&s.ref&&"reportValidity"in s.ref?NC(s.ref,i,t):s.refs&&s.refs.forEach(function(o){return NC(o,i,t)})};for(var n in e.fields)r(n)},Bj=function(t,e){e.shouldUseNativeValidation&&C3(t,e);var r={};for(var n in t){var i=Te(e.fields,n),s=Object.assign(t[n]||{},{ref:i&&i.ref});if(zj(e.names||Object.keys(t),n)){var o=Object.assign({},Te(r,n));mt(o,"root",s),mt(r,n,o)}else mt(r,n,s)}return r},zj=function(t,e){return t.some(function(r){return r.startsWith(e+".")})};function I3(t,e,r){return e===void 0&&(e={}),r===void 0&&(r={}),function(n,i,s){try{return Promise.resolve(function(o,a){try{var l=(e.context,Promise.resolve(t[r.mode==="sync"?"validateSync":"validate"](n,Object.assign({abortEarly:!1},e,{context:i}))).then(function(u){return s.shouldUseNativeValidation&&C3({},s),{values:r.raw?n:u,errors:{}}}))}catch(u){return a(u)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(!o.inner)throw o;return{values:{},errors:Bj((a=o,l=!s.shouldUseNativeValidation&&s.criteriaMode==="all",(a.inner||[]).reduce(function(u,d){if(u[d.path]||(u[d.path]={message:d.message,type:d.type}),l){var f=u[d.path].types,p=f&&f[d.type];u[d.path]=s3(d.path,l,u,d.type,p?[].concat(p,d.message):d.message)}return u},{})),s)};var a,l}))}catch(o){return Promise.reject(o)}}}const VS="-";function jj(t){const e=Gj(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;function i(o){const a=o.split(VS);return a[0]===""&&a.length!==1&&a.shift(),P3(a,e)||$j(o)}function s(o,a){const l=r[o]||[];return a&&n[o]?[...l,...n[o]]:l}return{getClassGroupId:i,getConflictingClassGroupIds:s}}function P3(t,e){var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?P3(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(VS);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId}const RC=/^\[(.+)\]$/;function $j(t){if(RC.test(t)){const e=RC.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}}function Gj(t){const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Vj(Object.entries(t.classGroups),r).forEach(([s,o])=>{Kx(o,n,s,e)}),n}function Kx(t,e,r,n){t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:OC(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(Hj(i)){Kx(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{Kx(o,OC(e,s),r,n)})})}function OC(t,e){let r=t;return e.split(VS).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function Hj(t){return t.isThemeGetter}function Vj(t,e){return e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[r,i]}):t}function Wj(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;function i(s,o){r.set(s,o),e++,e>t&&(e=0,n=r,r=new Map)}return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}}const M3="!";function Xj(t){const e=t.separator,r=e.length===1,n=e[0],i=e.length;return function(o){const a=[];let l=0,u=0,d;for(let b=0;b<o.length;b++){let E=o[b];if(l===0){if(E===n&&(r||o.slice(b,b+i)===e)){a.push(o.slice(u,b)),u=b+i;continue}if(E==="/"){d=b;continue}}E==="["?l++:E==="]"&&l--}const f=a.length===0?o:o.substring(u),p=f.startsWith(M3),g=p?f.substring(1):f,v=d&&d>u?d-u:void 0;return{modifiers:a,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:v}}}function qj(t){if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e}function Yj(t){return{cache:Wj(t.cacheSize),splitModifiers:Xj(t),...jj(t)}}const Qj=/\s+/;function Kj(t,e){const{splitModifiers:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=new Set;return t.trim().split(Qj).map(o=>{const{modifiers:a,hasImportantModifier:l,baseClassName:u,maybePostfixModifierPosition:d}=r(o);let f=n(d?u.substring(0,d):u),p=!!d;if(!f){if(!d)return{isTailwindClass:!1,originalClassName:o};if(f=n(u),!f)return{isTailwindClass:!1,originalClassName:o};p=!1}const g=qj(a).join(":");return{isTailwindClass:!0,modifierId:l?g+M3:g,classGroupId:f,originalClassName:o,hasPostfixModifier:p}}).reverse().filter(o=>{if(!o.isTailwindClass)return!0;const{modifierId:a,classGroupId:l,hasPostfixModifier:u}=o,d=a+l;return s.has(d)?!1:(s.add(d),i(l,u).forEach(f=>s.add(a+f)),!0)}).reverse().map(o=>o.originalClassName).join(" ")}function Zj(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=k3(e))&&(n&&(n+=" "),n+=r);return n}function k3(t){if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=k3(t[n]))&&(r&&(r+=" "),r+=e);return r}function Jj(t,...e){let r,n,i,s=o;function o(l){const u=e.reduce((d,f)=>f(d),t());return r=Yj(u),n=r.cache.get,i=r.cache.set,s=a,a(l)}function a(l){const u=n(l);if(u)return u;const d=Kj(l,r);return i(l,d),d}return function(){return s(Zj.apply(null,arguments))}}function xt(t){const e=r=>r[t]||[];return e.isThemeGetter=!0,e}const N3=/^\[(?:([a-z-]+):)?(.+)\]$/i,e$=/^\d+\/\d+$/,t$=new Set(["px","full","screen"]),r$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,n$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,i$=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,s$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,o$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Ns(t){return ll(t)||t$.has(t)||e$.test(t)}function Ao(t){return kc(t,"length",p$)}function ll(t){return!!t&&!Number.isNaN(Number(t))}function Mp(t){return kc(t,"number",ll)}function mh(t){return!!t&&Number.isInteger(Number(t))}function a$(t){return t.endsWith("%")&&ll(t.slice(0,-1))}function We(t){return N3.test(t)}function Co(t){return r$.test(t)}const l$=new Set(["length","size","percentage"]);function u$(t){return kc(t,l$,R3)}function c$(t){return kc(t,"position",R3)}const h$=new Set(["image","url"]);function d$(t){return kc(t,h$,g$)}function f$(t){return kc(t,"",m$)}function gh(){return!0}function kc(t,e,r){const n=N3.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1}function p$(t){return n$.test(t)&&!i$.test(t)}function R3(){return!1}function m$(t){return s$.test(t)}function g$(t){return o$.test(t)}function v$(){const t=xt("colors"),e=xt("spacing"),r=xt("blur"),n=xt("brightness"),i=xt("borderColor"),s=xt("borderRadius"),o=xt("borderSpacing"),a=xt("borderWidth"),l=xt("contrast"),u=xt("grayscale"),d=xt("hueRotate"),f=xt("invert"),p=xt("gap"),g=xt("gradientColorStops"),v=xt("gradientColorStopPositions"),b=xt("inset"),E=xt("margin"),w=xt("opacity"),S=xt("padding"),_=xt("saturate"),A=xt("scale"),P=xt("sepia"),N=xt("skew"),L=xt("space"),k=xt("translate"),q=()=>["auto","contain","none"],H=()=>["auto","hidden","clip","visible","scroll"],Q=()=>["auto",We,e],G=()=>[We,e],F=()=>["",Ns,Ao],D=()=>["auto",ll,We],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],I=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",We],R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[ll,Mp],Z=()=>[ll,We];return{cacheSize:500,separator:":",theme:{colors:[gh],spacing:[Ns,Ao],blur:["none","",Co,We],brightness:$(),borderColor:[t],borderRadius:["none","","full",Co,We],borderSpacing:G(),borderWidth:F(),contrast:$(),grayscale:z(),hueRotate:Z(),invert:z(),gap:G(),gradientColorStops:[t],gradientColorStopPositions:[a$,Ao],inset:Q(),margin:Q(),opacity:$(),padding:G(),saturate:$(),scale:$(),sepia:z(),skew:Z(),space:G(),translate:G()},classGroups:{aspect:[{aspect:["auto","square","video",We]}],container:["container"],columns:[{columns:[Co]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),We]}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",mh,We]}],basis:[{basis:Q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",We]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",mh,We]}],"grid-cols":[{"grid-cols":[gh]}],"col-start-end":[{col:["auto",{span:["full",mh,We]},We]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[gh]}],"row-start-end":[{row:["auto",{span:[mh,We]},We]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",We]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",We]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[L]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[L]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",We,e]}],"min-w":[{"min-w":[We,e,"min","max","fit"]}],"max-w":[{"max-w":[We,e,"none","full","min","max","fit","prose",{screen:[Co]},Co]}],h:[{h:[We,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[We,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[We,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[We,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Co,Ao]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mp]}],"font-family":[{font:[gh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",We]}],"line-clamp":[{"line-clamp":["none",ll,Mp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ns,We]}],"list-image":[{"list-image":["none",We]}],"list-style-type":[{list:["none","disc","decimal",We]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ns,Ao]}],"underline-offset":[{"underline-offset":["auto",Ns,We]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",We]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",We]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),c$]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",u$]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},d$]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:W()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[Ns,We]}],"outline-w":[{outline:[Ns,Ao]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Ns,Ao]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Co,f$]}],"shadow-color":[{shadow:[gh]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":B()}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Co,We]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",We]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",We]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",We]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[mh,We]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",We]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",We]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",We]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ns,Ao,Mp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const Du=Jj(v$);function ed({register:t,name:e,errorMessage:r,errorMessageClass:n,inputClass:i,containerClass:s,...o}){return J("div",{className:s,children:[C("input",{type:"text",placeholder:"Type here",className:Du("input input-bordered w-full disabled:!input-bordered hover:border-primary focus:border-primary focus:outline-none",i),...t(e),...o}),r&&C("div",{className:Du("mt-1 min-h-[1.25rem] text-sm text-red-600",n),children:r})]})}function O3(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=O3(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function Ko(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=O3(t))&&(n&&(n+=" "),n+=e);return n}const td=t=>typeof t=="number"&&!isNaN(t),Al=t=>typeof t=="string",dn=t=>typeof t=="function",Vm=t=>Al(t)||dn(t)?t:null,O1=t=>O.isValidElement(t)||Al(t)||dn(t)||td(t);function y$(t,e,r){r===void 0&&(r=300);const{scrollHeight:n,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=n+"px",i.transition=`all ${r}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,r)})})}function iv(t){let{enter:e,exit:r,appendPosition:n=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:l,preventExitTransition:u,done:d,nodeRef:f,isIn:p}=o;const g=n?`${e}--${l}`:e,v=n?`${r}--${l}`:r,b=O.useRef(0);return O.useLayoutEffect(()=>{const E=f.current,w=g.split(" "),S=_=>{_.target===f.current&&(E.dispatchEvent(new Event("d")),E.removeEventListener("animationend",S),E.removeEventListener("animationcancel",S),b.current===0&&_.type!=="animationcancel"&&E.classList.remove(...w))};E.classList.add(...w),E.addEventListener("animationend",S),E.addEventListener("animationcancel",S)},[]),O.useEffect(()=>{const E=f.current,w=()=>{E.removeEventListener("animationend",w),i?y$(E,d,s):d()};p||(u?w():(b.current=1,E.className+=` ${v}`,E.addEventListener("animationend",w)))},[p]),de.createElement(de.Fragment,null,a)}}function DC(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const Xn={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const r=this.list.get(t).filter(n=>n!==e);return this.list.set(t,r),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const r=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(r)})}},kp=t=>{let{theme:e,type:r,...n}=t;return de.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${r})`,...n})},D1={info:function(t){return de.createElement(kp,{...t},de.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return de.createElement(kp,{...t},de.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return de.createElement(kp,{...t},de.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return de.createElement(kp,{...t},de.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return de.createElement("div",{className:"Toastify__spinner"})}};function b$(t){const[,e]=O.useReducer(g=>g+1,0),[r,n]=O.useState([]),i=O.useRef(null),s=O.useRef(new Map).current,o=g=>r.indexOf(g)!==-1,a=O.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:o,getToast:g=>s.get(g)}).current;function l(g){let{containerId:v}=g;const{limit:b}=a.props;!b||v&&a.containerId!==v||(a.count-=a.queue.length,a.queue=[])}function u(g){n(v=>g==null?[]:v.filter(b=>b!==g))}function d(){const{toastContent:g,toastProps:v,staleId:b}=a.queue.shift();p(g,v,b)}function f(g,v){let{delay:b,staleId:E,...w}=v;if(!O1(g)||function(G){return!i.current||a.props.enableMultiContainer&&G.containerId!==a.props.containerId||s.has(G.toastId)&&G.updateId==null}(w))return;const{toastId:S,updateId:_,data:A}=w,{props:P}=a,N=()=>u(S),L=_==null;L&&a.count++;const k={...P,style:P.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(w).filter(G=>{let[F,D]=G;return D!=null})),toastId:S,updateId:_,data:A,closeToast:N,isIn:!1,className:Vm(w.className||P.toastClassName),bodyClassName:Vm(w.bodyClassName||P.bodyClassName),progressClassName:Vm(w.progressClassName||P.progressClassName),autoClose:!w.isLoading&&(q=w.autoClose,H=P.autoClose,q===!1||td(q)&&q>0?q:H),deleteToast(){const G=DC(s.get(S),"removed");s.delete(S),Xn.emit(4,G);const F=a.queue.length;if(a.count=S==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),F>0){const D=S==null?a.props.limit:1;if(F===1||D===1)a.displayedToast++,d();else{const V=D>F?F:D;a.displayedToast=V;for(let W=0;W<V;W++)d()}}else e()}};var q,H;k.iconOut=function(G){let{theme:F,type:D,isLoading:V,icon:W}=G,B=null;const I={theme:F,type:D};return W===!1||(dn(W)?B=W(I):O.isValidElement(W)?B=O.cloneElement(W,I):Al(W)||td(W)?B=W:V?B=D1.spinner():(z=>z in D1)(D)&&(B=D1[D](I))),B}(k),dn(w.onOpen)&&(k.onOpen=w.onOpen),dn(w.onClose)&&(k.onClose=w.onClose),k.closeButton=P.closeButton,w.closeButton===!1||O1(w.closeButton)?k.closeButton=w.closeButton:w.closeButton===!0&&(k.closeButton=!O1(P.closeButton)||P.closeButton);let Q=g;O.isValidElement(g)&&!Al(g.type)?Q=O.cloneElement(g,{closeToast:N,toastProps:k,data:A}):dn(g)&&(Q=g({closeToast:N,toastProps:k,data:A})),P.limit&&P.limit>0&&a.count>P.limit&&L?a.queue.push({toastContent:Q,toastProps:k,staleId:E}):td(b)?setTimeout(()=>{p(Q,k,E)},b):p(Q,k,E)}function p(g,v,b){const{toastId:E}=v;b&&s.delete(b);const w={content:g,props:v};s.set(E,w),n(S=>[...S,E].filter(_=>_!==b)),Xn.emit(4,DC(w,w.props.updateId==null?"added":"updated"))}return O.useEffect(()=>(a.containerId=t.containerId,Xn.cancelEmit(3).on(0,f).on(1,g=>i.current&&u(g)).on(5,l).emit(2,a),()=>{s.clear(),Xn.emit(3,a)}),[]),O.useEffect(()=>{a.props=t,a.isToastActive=o,a.displayedToast=r.length}),{getToastToRender:function(g){const v=new Map,b=Array.from(s.values());return t.newestOnTop&&b.reverse(),b.forEach(E=>{const{position:w}=E.props;v.has(w)||v.set(w,[]),v.get(w).push(E)}),Array.from(v,E=>g(E[0],E[1]))},containerRef:i,isToastActive:o}}function LC(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function FC(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function x$(t){const[e,r]=O.useState(!1),[n,i]=O.useState(!1),s=O.useRef(null),o=O.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=O.useRef(t),{autoClose:l,pauseOnHover:u,closeToast:d,onClick:f,closeOnClick:p}=t;function g(A){if(t.draggable){A.nativeEvent.type==="touchstart"&&A.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",w),document.addEventListener("mouseup",S),document.addEventListener("touchmove",w),document.addEventListener("touchend",S);const P=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=P.getBoundingClientRect(),P.style.transition="",o.x=LC(A.nativeEvent),o.y=FC(A.nativeEvent),t.draggableDirection==="x"?(o.start=o.x,o.removalDistance=P.offsetWidth*(t.draggablePercent/100)):(o.start=o.y,o.removalDistance=P.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function v(A){if(o.boundingRect){const{top:P,bottom:N,left:L,right:k}=o.boundingRect;A.nativeEvent.type!=="touchend"&&t.pauseOnHover&&o.x>=L&&o.x<=k&&o.y>=P&&o.y<=N?E():b()}}function b(){r(!0)}function E(){r(!1)}function w(A){const P=s.current;o.canDrag&&P&&(o.didMove=!0,e&&E(),o.x=LC(A),o.y=FC(A),o.delta=t.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),P.style.transform=`translate${t.draggableDirection}(${o.delta}px)`,P.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function S(){document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",S),document.removeEventListener("touchmove",w),document.removeEventListener("touchend",S);const A=s.current;if(o.canDrag&&o.didMove&&A){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void t.closeToast();A.style.transition="transform 0.2s, opacity 0.2s",A.style.transform=`translate${t.draggableDirection}(0)`,A.style.opacity="1"}}O.useEffect(()=>{a.current=t}),O.useEffect(()=>(s.current&&s.current.addEventListener("d",b,{once:!0}),dn(t.onOpen)&&t.onOpen(O.isValidElement(t.children)&&t.children.props),()=>{const A=a.current;dn(A.onClose)&&A.onClose(O.isValidElement(A.children)&&A.children.props)}),[]),O.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||E(),window.addEventListener("focus",b),window.addEventListener("blur",E)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",b),window.removeEventListener("blur",E))}),[t.pauseOnFocusLoss]);const _={onMouseDown:g,onTouchStart:g,onMouseUp:v,onTouchEnd:v};return l&&u&&(_.onMouseEnter=E,_.onMouseLeave=b),p&&(_.onClick=A=>{f&&f(A),o.canCloseOnClick&&d()}),{playToast:b,pauseToast:E,isRunning:e,preventExitTransition:n,toastRef:s,eventHandlers:_}}function D3(t){let{closeToast:e,theme:r,ariaLabel:n="close"}=t;return de.createElement("button",{className:`Toastify__close-button Toastify__close-button--${r}`,type:"button",onClick:i=>{i.stopPropagation(),e(i)},"aria-label":n},de.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},de.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function _$(t){let{delay:e,isRunning:r,closeToast:n,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:u,rtl:d,isIn:f,theme:p}=t;const g=s||l&&u===0,v={...a,animationDuration:`${e}ms`,animationPlayState:r?"running":"paused",opacity:g?0:1};l&&(v.transform=`scaleX(${u})`);const b=Ko("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),E=dn(o)?o({rtl:d,type:i,defaultClassName:b}):Ko(b,o);return de.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:E,style:v,[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{f&&n()}})}const w$=t=>{const{isRunning:e,preventExitTransition:r,toastRef:n,eventHandlers:i}=x$(t),{closeButton:s,children:o,autoClose:a,onClick:l,type:u,hideProgressBar:d,closeToast:f,transition:p,position:g,className:v,style:b,bodyClassName:E,bodyStyle:w,progressClassName:S,progressStyle:_,updateId:A,role:P,progress:N,rtl:L,toastId:k,deleteToast:q,isIn:H,isLoading:Q,iconOut:G,closeOnClick:F,theme:D}=t,V=Ko("Toastify__toast",`Toastify__toast-theme--${D}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":L},{"Toastify__toast--close-on-click":F}),W=dn(v)?v({rtl:L,position:g,type:u,defaultClassName:V}):Ko(V,v),B=!!N||!a,I={closeToast:f,type:u,theme:D};let z=null;return s===!1||(z=dn(s)?s(I):O.isValidElement(s)?O.cloneElement(s,I):D3(I)),de.createElement(p,{isIn:H,done:q,position:g,preventExitTransition:r,nodeRef:n},de.createElement("div",{id:k,onClick:l,className:W,...i,style:b,ref:n},de.createElement("div",{...H&&{role:P},className:dn(E)?E({type:u}):Ko("Toastify__toast-body",E),style:w},G!=null&&de.createElement("div",{className:Ko("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!Q})},G),de.createElement("div",null,o)),z,de.createElement(_$,{...A&&!B?{key:`pb-${A}`}:{},rtl:L,theme:D,delay:a,isRunning:e,isIn:H,closeToast:f,hide:d,type:u,style:_,className:S,controlledProgress:B,progress:N||0})))},sv=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},S$=iv(sv("bounce",!0));iv(sv("slide",!0));iv(sv("zoom"));iv(sv("flip"));const Zx=O.forwardRef((t,e)=>{const{getToastToRender:r,containerRef:n,isToastActive:i}=b$(t),{className:s,style:o,rtl:a,containerId:l}=t;function u(d){const f=Ko("Toastify__toast-container",`Toastify__toast-container--${d}`,{"Toastify__toast-container--rtl":a});return dn(s)?s({position:d,rtl:a,defaultClassName:f}):Ko(f,Vm(s))}return O.useEffect(()=>{e&&(e.current=n.current)},[]),de.createElement("div",{ref:n,className:"Toastify",id:l},r((d,f)=>{const p=f.length?{...o}:{...o,pointerEvents:"none"};return de.createElement("div",{className:u(d),style:p,key:`container-${d}`},f.map((g,v)=>{let{content:b,props:E}=g;return de.createElement(w$,{...E,isIn:i(E.toastId),style:{...E.style,"--nth":v+1,"--len":f.length},key:`toast-${E.key}`},b)}))}))});Zx.displayName="ToastContainer",Zx.defaultProps={position:"top-right",transition:S$,autoClose:5e3,closeButton:D3,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let L1,Wa=new Map,Mh=[],E$=1;function L3(){return""+E$++}function T$(t){return t&&(Al(t.toastId)||td(t.toastId))?t.toastId:L3()}function rd(t,e){return Wa.size>0?Xn.emit(0,t,e):Mh.push({content:t,options:e}),e.toastId}function Yg(t,e){return{...e,type:e&&e.type||t,toastId:T$(e)}}function Np(t){return(e,r)=>rd(e,Yg(t,r))}function pt(t,e){return rd(t,Yg("default",e))}pt.loading=(t,e)=>rd(t,Yg("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),pt.promise=function(t,e,r){let n,{pending:i,error:s,success:o}=e;i&&(n=Al(i)?pt.loading(i,r):pt.loading(i.render,{...r,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,f,p)=>{if(f==null)return void pt.dismiss(n);const g={type:d,...a,...r,data:p},v=Al(f)?{render:f}:f;return n?pt.update(n,{...g,...v}):pt(v.render,{...g,...v}),p},u=dn(t)?t():t;return u.then(d=>l("success",o,d)).catch(d=>l("error",s,d)),u},pt.success=Np("success"),pt.info=Np("info"),pt.error=Np("error"),pt.warning=Np("warning"),pt.warn=pt.warning,pt.dark=(t,e)=>rd(t,Yg("default",{theme:"dark",...e})),pt.dismiss=t=>{Wa.size>0?Xn.emit(1,t):Mh=Mh.filter(e=>t!=null&&e.options.toastId!==t)},pt.clearWaitingQueue=function(t){return t===void 0&&(t={}),Xn.emit(5,t)},pt.isActive=t=>{let e=!1;return Wa.forEach(r=>{r.isToastActive&&r.isToastActive(t)&&(e=!0)}),e},pt.update=function(t,e){e===void 0&&(e={}),setTimeout(()=>{const r=function(n,i){let{containerId:s}=i;const o=Wa.get(s||L1);return o&&o.getToast(n)}(t,e);if(r){const{props:n,content:i}=r,s={delay:100,...n,...e,toastId:e.toastId||t,updateId:L3()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,rd(o,s)}},0)},pt.done=t=>{pt.update(t,{progress:1})},pt.onChange=t=>(Xn.on(4,t),()=>{Xn.off(4,t)}),pt.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},pt.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Xn.on(2,t=>{L1=t.containerId||t,Wa.set(L1,t),Mh.forEach(e=>{Xn.emit(0,e.content,e.options)}),Mh=[]}).on(3,t=>{Wa.delete(t.containerId||t),Wa.size===0&&Xn.off(0).off(1).off(5)});const F3={LOGIN_SUCCESS:"Login successfully.",AGREE_PRIVACY:"Please, Agree with Terms and Privacy."};function WS({loading:t=!1,loadingClass:e,title:r,className:n,Icon:i,iconClass:s,...o}){return t?J("button",{className:Du("btn",n),...o,children:[C("span",{className:Du("loading loading-spinner",e)}),r]}):J("button",{className:Du("btn",n),...o,children:[i&&C(i,{className:Du("h-6 w-6",s)}),r]})}const A$=A3.omit([E8.confirmPassword]);function C$(t){var u,d;const{register:e,handleSubmit:r,formState:{errors:n}}=d3({defaultValues:{email:"",password:""},resolver:I3(A$)}),{setIsAuthenticated:i,setUser:s}=O.useContext(Di),o=t3({mutationFn:f=>OS.login(f),onSuccess:f=>{pt.success(F3.LOGIN_SUCCESS,{progressClassName:"bg-primary"}),i(jr.AUTHENTICATED),s(f.data.user),a($e.home)},onError:f=>{var p;RS(f)&&pt.error((p=f.response)==null?void 0:p.data.message)}}),a=Fi();return J("article",{className:"mt-20 mx-auto flex h-full w-full max-w-[450px] flex-col items-center gap-8",children:[J("h1",{className:"text-4xl font-bold",children:["Sign in to ",C("span",{className:"text-primary",children:"CHESS"})]}),C("div",{className:"w-full",children:J("form",{className:"flex flex-col gap-1",onSubmit:r(f=>{o.mutate(f)}),children:[C(ed,{register:e,name:"email",placeholder:"Email",errorMessage:((u=n.email)==null?void 0:u.message)||" "}),C(ed,{register:e,name:"password",placeholder:"Password",type:"password",errorMessage:((d=n.password)==null?void 0:d.message)||" "}),C("div",{className:"text-right",children:C(Pr,{to:$e.home,className:"font-semibold text-primary underline",children:"Forgot password?"})}),C(WS,{title:"Sign In",className:"btn-primary mt-8 w-full text-white",loading:o.isLoading})]})}),C("div",{className:"divider mt-4",children:"or"}),J("p",{children:["Don't have an account?"," ",C(Pr,{to:$e.register,className:"font-semibold underline",children:"Sign up"})]})]})}function I$(t){return C("div",{children:"Personal"})}const P$=A3;function M$(t){var l,u,d;const{register:e,handleSubmit:r,formState:{errors:n}}=d3({defaultValues:{email:"",password:"",confirmPassword:""},resolver:I3(P$)}),i=O.useRef(null),s=t3({mutationFn:f=>OS.register(f),onSuccess:f=>{pt.success(f.data.message,{progressClassName:"bg-primary"}),o($e.login)},onError:f=>{var p;RS(f)&&pt.error((p=f.response)==null?void 0:p.data.message)}}),o=Fi();return J("article",{className:"mt-20 mx-auto flex h-full w-full max-w-[450px] flex-col items-center gap-8",children:[J("h1",{className:"text-4xl font-bold",children:["Sign up to ",C("span",{className:"text-primary",children:"Chess"})]}),C("div",{className:"w-full",children:J("form",{className:"flex flex-col gap-1",onSubmit:r(f=>{var g;if(!((g=i.current)!=null&&g.checked))return pt.error(F3.AGREE_PRIVACY);const p={email:f.email,password:f.password};s.mutate(p)}),children:[C(ed,{register:e,name:"email",placeholder:"Email",errorMessage:((l=n.email)==null?void 0:l.message)||" "}),C(ed,{register:e,name:"password",placeholder:"Password",type:"password",errorMessage:((u=n.password)==null?void 0:u.message)||" "}),C(ed,{register:e,name:"confirmPassword",placeholder:"Confirm Password",type:"password",errorMessage:((d=n.confirmPassword)==null?void 0:d.message)||" "}),C("div",{className:"flex items-center justify-center",children:J("label",{className:"label cursor-pointer gap-2",children:[C("input",{ref:i,type:"checkbox",className:"checkbox-primary checkbox checkbox-sm border-base-content"}),J("span",{className:"label-text",children:["I agree with ",C("span",{className:"font-semibold text-primary underline",children:"Terms"})," and"," ",C("span",{className:"font-semibold text-primary underline",children:"Privacy"})]})]})}),C(WS,{title:"Sign Up",className:"btn-primary mt-8 w-full text-white",loading:s.isLoading})]})}),C("div",{className:"divider mt-4",children:"or"}),J("p",{children:["Already have an account?"," ",C(Pr,{to:$e.login,className:"font-semibold underline",children:"Sign in"})]})]})}const su="ws://18.142.178.45:8080/chess-backend/",pc={findOpponent:t=>t?su+`/find-opponent?sid=${t}`:null,findBot:t=>t?su+`/find-bot?sid=${t}`:null,game:t=>t?su+`/game-player/${t}`:null,pvpgamev2:(t,e)=>t&&e?su+`/v2/game-player/${t}?sid=${e}`:null,botgamev2:(t,e)=>t&&e?su+`/v2/game-bot/${t}?sid=${e}`:null,chat:t=>t?su+`/chat?sid=${t}`:null};var si={},Nc={},Ui={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isEventSourceSupported=t.isReactNative=t.ReadyState=t.DEFAULT_HEARTBEAT=t.UNPARSABLE_JSON_OBJECT=t.DEFAULT_RECONNECT_INTERVAL_MS=t.DEFAULT_RECONNECT_LIMIT=t.SOCKET_IO_PING_CODE=t.SOCKET_IO_PATH=t.SOCKET_IO_PING_INTERVAL=t.DEFAULT_EVENT_SOURCE_OPTIONS=t.EMPTY_EVENT_HANDLERS=t.DEFAULT_OPTIONS=void 0;var e=1,r=1e3*e;t.DEFAULT_OPTIONS={},t.EMPTY_EVENT_HANDLERS={},t.DEFAULT_EVENT_SOURCE_OPTIONS={withCredentials:!1,events:t.EMPTY_EVENT_HANDLERS},t.SOCKET_IO_PING_INTERVAL=25*r,t.SOCKET_IO_PATH="/socket.io/?EIO=3&transport=websocket",t.SOCKET_IO_PING_CODE="2",t.DEFAULT_RECONNECT_LIMIT=20,t.DEFAULT_RECONNECT_INTERVAL_MS=5e3,t.UNPARSABLE_JSON_OBJECT={},t.DEFAULT_HEARTBEAT={message:"ping",timeout:6e4,interval:25e3},function(i){i[i.UNINSTANTIATED=-1]="UNINSTANTIATED",i[i.CONNECTING=0]="CONNECTING",i[i.OPEN=1]="OPEN",i[i.CLOSING=2]="CLOSING",i[i.CLOSED=3]="CLOSED"}(t.ReadyState||(t.ReadyState={}));var n=function(){try{return"EventSource"in globalThis}catch{return!1}};t.isReactNative=typeof navigator<"u"&&navigator.product==="ReactNative",t.isEventSourceSupported=!t.isReactNative&&n()})(Ui);var ov={},av={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.resetWebSockets=t.sharedWebSockets=void 0,t.sharedWebSockets={};var e=function(r){if(r&&t.sharedWebSockets.hasOwnProperty(r))delete t.sharedWebSockets[r];else for(var n in t.sharedWebSockets)t.sharedWebSockets.hasOwnProperty(n)&&delete t.sharedWebSockets[n]};t.resetWebSockets=e})(av);var lv={},vs={};Object.defineProperty(vs,"__esModule",{value:!0});vs.setUpSocketIOPing=vs.appendQueryParams=vs.parseSocketIOUrl=void 0;var Qg=Ui,k$=function(t){if(t){var e=/^https|wss/.test(t),r=t.replace(/^(https?|wss?)(:\/\/)?/,""),n=r.replace(/\/$/,""),i=e?"wss":"ws";return"".concat(i,"://").concat(n).concat(Qg.SOCKET_IO_PATH)}else if(t===""){var e=/^https/.test(window.location.protocol),i=e?"wss":"ws",s=window.location.port?":".concat(window.location.port):"";return"".concat(i,"://").concat(window.location.hostname).concat(s).concat(Qg.SOCKET_IO_PATH)}return t};vs.parseSocketIOUrl=k$;var N$=function(t,e){e===void 0&&(e={});var r=/\?([\w]+=[\w]+)/,n=r.test(t),i="".concat(Object.entries(e).reduce(function(s,o){var a=o[0],l=o[1];return s+"".concat(a,"=").concat(l,"&")},"").slice(0,-1));return"".concat(t).concat(n?"&":"?").concat(i)};vs.appendQueryParams=N$;var R$=function(t,e){e===void 0&&(e=Qg.SOCKET_IO_PING_INTERVAL);var r=function(){return t(Qg.SOCKET_IO_PING_CODE)};return window.setInterval(r,e)};vs.setUpSocketIOPing=R$;var lf={};Object.defineProperty(lf,"__esModule",{value:!0});lf.heartbeat=void 0;var F1=Ui;function O$(t,e){var r=e||{},n=r.interval,i=n===void 0?F1.DEFAULT_HEARTBEAT.interval:n,s=r.timeout,o=s===void 0?F1.DEFAULT_HEARTBEAT.timeout:s,a=r.message,l=a===void 0?F1.DEFAULT_HEARTBEAT.message:a,u=!1,d=setInterval(function(){try{typeof l=="function"?t.send(l()):t.send(l)}catch{}},i),f=setInterval(function(){u?u=!1:t.close()},o);return t.addEventListener("close",function(){clearInterval(d),clearInterval(f)}),function(){u=!0}}lf.heartbeat=O$;var pa={},uv={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.resetSubscribers=t.removeSubscriber=t.addSubscriber=t.hasSubscribers=t.getSubscribers=void 0;var e={},r=[],n=function(l){return(0,t.hasSubscribers)(l)?Array.from(e[l]):r};t.getSubscribers=n;var i=function(l){var u;return((u=e[l])===null||u===void 0?void 0:u.size)>0};t.hasSubscribers=i;var s=function(l,u){e[l]=e[l]||new Set,e[l].add(u)};t.addSubscriber=s;var o=function(l,u){e[l].delete(u)};t.removeSubscriber=o;var a=function(l){if(l&&e.hasOwnProperty(l))delete e[l];else for(var u in e)e.hasOwnProperty(u)&&delete e[u]};t.resetSubscribers=a})(uv);Object.defineProperty(pa,"__esModule",{value:!0});pa.resetGlobalState=pa.assertIsWebSocket=void 0;var D$=av,L$=uv;function F$(t,e){if(!e&&!(t instanceof WebSocket))throw new Error("")}pa.assertIsWebSocket=F$;function U$(t){(0,L$.resetSubscribers)(t),(0,D$.resetWebSockets)(t)}pa.resetGlobalState=U$;var Kg=vt&&vt.__assign||function(){return Kg=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Kg.apply(this,arguments)};Object.defineProperty(lv,"__esModule",{value:!0});lv.attachListeners=void 0;var B$=vs,z$=lf,fs=Ui,j$=pa,$$=function(t,e,r){var n;if(e.current.heartbeat&&t instanceof WebSocket){var i=typeof e.current.heartbeat=="boolean"?void 0:e.current.heartbeat;n=(0,z$.heartbeat)(t,i)}t.onmessage=function(s){var o;n==null||n(),e.current.onMessage&&e.current.onMessage(s),!(typeof e.current.filter=="function"&&e.current.filter(s)!==!0)&&(e.current.heartbeat&&typeof e.current.heartbeat!="boolean"&&((o=e.current.heartbeat)===null||o===void 0?void 0:o.returnMessage)===s.data||r(s))}},G$=function(t,e,r,n){t.onopen=function(i){e.current.onOpen&&e.current.onOpen(i),n.current=0,r(fs.ReadyState.OPEN)}},H$=function(t,e,r,n,i){if(fs.isEventSourceSupported&&t instanceof EventSource)return function(){};(0,j$.assertIsWebSocket)(t,e.current.skipAssert);var s;return t.onclose=function(o){var a;if(e.current.onClose&&e.current.onClose(o),r(fs.ReadyState.CLOSED),e.current.shouldReconnect&&e.current.shouldReconnect(o)){var l=(a=e.current.reconnectAttempts)!==null&&a!==void 0?a:fs.DEFAULT_RECONNECT_LIMIT;if(i.current<l){var u=typeof e.current.reconnectInterval=="function"?e.current.reconnectInterval(i.current):e.current.reconnectInterval;s=window.setTimeout(function(){i.current++,n()},u??fs.DEFAULT_RECONNECT_INTERVAL_MS)}else e.current.onReconnectStop&&e.current.onReconnectStop(l),console.warn("Max reconnect attempts of ".concat(l," exceeded"))}},function(){return s&&window.clearTimeout(s)}},V$=function(t,e,r,n,i){var s;return t.onerror=function(o){var a;if(e.current.onError&&e.current.onError(o),fs.isEventSourceSupported&&t instanceof EventSource&&(e.current.onClose&&e.current.onClose(Kg(Kg({},o),{code:1006,reason:"An error occurred with the EventSource: ".concat(o),wasClean:!1})),r(fs.ReadyState.CLOSED),t.close()),e.current.retryOnError)if(i.current<((a=e.current.reconnectAttempts)!==null&&a!==void 0?a:fs.DEFAULT_RECONNECT_LIMIT)){var l=typeof e.current.reconnectInterval=="function"?e.current.reconnectInterval(i.current):e.current.reconnectInterval;s=window.setTimeout(function(){i.current++,n()},l??fs.DEFAULT_RECONNECT_INTERVAL_MS)}else e.current.onReconnectStop&&e.current.onReconnectStop(e.current.reconnectAttempts),console.warn("Max reconnect attempts of ".concat(e.current.reconnectAttempts," exceeded"))},function(){return s&&window.clearTimeout(s)}},W$=function(t,e,r,n,i,s){var o=e.setLastMessage,a=e.setReadyState,l,u,d;return r.current.fromSocketIO&&(l=(0,B$.setUpSocketIOPing)(s)),$$(t,r,o),G$(t,r,a,i),u=H$(t,r,a,n,i),d=V$(t,r,a,n,i),function(){a(fs.ReadyState.CLOSING),u(),d(),t.close(),l&&clearInterval(l)}};lv.attachListeners=W$;var cv={},Zg=vt&&vt.__assign||function(){return Zg=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Zg.apply(this,arguments)};Object.defineProperty(cv,"__esModule",{value:!0});cv.attachSharedListeners=void 0;var X$=av,pl=Ui,Md=uv,q$=vs,Y$=lf,Q$=function(t,e,r){var n;r&&t instanceof WebSocket&&(n=(0,Y$.heartbeat)(t,typeof r=="boolean"?void 0:r)),t.onmessage=function(i){n==null||n(),(0,Md.getSubscribers)(e).forEach(function(s){s.optionsRef.current.onMessage&&s.optionsRef.current.onMessage(i),!(typeof s.optionsRef.current.filter=="function"&&s.optionsRef.current.filter(i)!==!0)&&(r&&typeof r!="boolean"&&(r==null?void 0:r.returnMessage)===i.data||s.setLastMessage(i))})}},K$=function(t,e){t.onopen=function(r){(0,Md.getSubscribers)(e).forEach(function(n){n.reconnectCount.current=0,n.optionsRef.current.onOpen&&n.optionsRef.current.onOpen(r),n.setReadyState(pl.ReadyState.OPEN)})}},Z$=function(t,e){t instanceof WebSocket&&(t.onclose=function(r){(0,Md.getSubscribers)(e).forEach(function(n){n.optionsRef.current.onClose&&n.optionsRef.current.onClose(r),n.setReadyState(pl.ReadyState.CLOSED)}),delete X$.sharedWebSockets[e],(0,Md.getSubscribers)(e).forEach(function(n){var i;if(n.optionsRef.current.shouldReconnect&&n.optionsRef.current.shouldReconnect(r)){var s=(i=n.optionsRef.current.reconnectAttempts)!==null&&i!==void 0?i:pl.DEFAULT_RECONNECT_LIMIT;if(n.reconnectCount.current<s){var o=typeof n.optionsRef.current.reconnectInterval=="function"?n.optionsRef.current.reconnectInterval(n.reconnectCount.current):n.optionsRef.current.reconnectInterval;setTimeout(function(){n.reconnectCount.current++,n.reconnect.current()},o??pl.DEFAULT_RECONNECT_INTERVAL_MS)}else n.optionsRef.current.onReconnectStop&&n.optionsRef.current.onReconnectStop(n.optionsRef.current.reconnectAttempts),console.warn("Max reconnect attempts of ".concat(s," exceeded"))}})})},J$=function(t,e){t.onerror=function(r){(0,Md.getSubscribers)(e).forEach(function(n){n.optionsRef.current.onError&&n.optionsRef.current.onError(r),pl.isEventSourceSupported&&t instanceof EventSource&&(n.optionsRef.current.onClose&&n.optionsRef.current.onClose(Zg(Zg({},r),{code:1006,reason:"An error occurred with the EventSource: ".concat(r),wasClean:!1})),n.setReadyState(pl.ReadyState.CLOSED))}),pl.isEventSourceSupported&&t instanceof EventSource&&t.close()}},e7=function(t,e,r,n){var i;return r.current.fromSocketIO&&(i=(0,q$.setUpSocketIOPing)(n)),Q$(t,e,r.current.heartbeat),Z$(t,e),K$(t,e),J$(t,e),function(){i&&clearInterval(i)}};cv.attachSharedListeners=e7;Object.defineProperty(ov,"__esModule",{value:!0});ov.createOrJoinSocket=void 0;var Bo=av,kh=Ui,t7=lv,r7=cv,Jx=uv,n7=function(t,e,r,n,i){return function(){if((0,Jx.removeSubscriber)(t,e),!(0,Jx.hasSubscribers)(t)){try{var s=Bo.sharedWebSockets[t];s instanceof WebSocket&&(s.onclose=function(o){r.current.onClose&&r.current.onClose(o),n(kh.ReadyState.CLOSED)}),s.close()}catch{}i&&i(),delete Bo.sharedWebSockets[t]}}},i7=function(t,e,r,n,i,s,o,a){if(!kh.isEventSourceSupported&&n.current.eventSourceOptions)throw kh.isReactNative?new Error("EventSource is not supported in ReactNative"):new Error("EventSource is not supported");if(n.current.share){var l=null;Bo.sharedWebSockets[e]===void 0?(Bo.sharedWebSockets[e]=n.current.eventSourceOptions?new EventSource(e,n.current.eventSourceOptions):new WebSocket(e,n.current.protocols),t.current=Bo.sharedWebSockets[e],r(kh.ReadyState.CONNECTING),l=(0,r7.attachSharedListeners)(Bo.sharedWebSockets[e],e,n,a)):(t.current=Bo.sharedWebSockets[e],r(Bo.sharedWebSockets[e].readyState));var u={setLastMessage:i,setReadyState:r,optionsRef:n,reconnectCount:o,reconnect:s};return(0,Jx.addSubscriber)(e,u),n7(e,u,n,r,l)}else{if(t.current=n.current.eventSourceOptions?new EventSource(e,n.current.eventSourceOptions):new WebSocket(e,n.current.protocols),r(kh.ReadyState.CONNECTING),!t.current)throw new Error("WebSocket failed to be created");return(0,t7.attachListeners)(t.current,{setLastMessage:i,setReadyState:r},n,s.current,o,a)}};ov.createOrJoinSocket=i7;var U3={};(function(t){var e=vt&&vt.__awaiter||function(a,l,u,d){function f(p){return p instanceof u?p:new u(function(g){g(p)})}return new(u||(u=Promise))(function(p,g){function v(w){try{E(d.next(w))}catch(S){g(S)}}function b(w){try{E(d.throw(w))}catch(S){g(S)}}function E(w){w.done?p(w.value):f(w.value).then(v,b)}E((d=d.apply(a,l||[])).next())})},r=vt&&vt.__generator||function(a,l){var u={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},d,f,p,g;return g={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function v(E){return function(w){return b([E,w])}}function b(E){if(d)throw new TypeError("Generator is already executing.");for(;u;)try{if(d=1,f&&(p=E[0]&2?f.return:E[0]?f.throw||((p=f.return)&&p.call(f),0):f.next)&&!(p=p.call(f,E[1])).done)return p;switch(f=0,p&&(E=[E[0]&2,p.value]),E[0]){case 0:case 1:p=E;break;case 4:return u.label++,{value:E[1],done:!1};case 5:u.label++,f=E[1],E=[0];continue;case 7:E=u.ops.pop(),u.trys.pop();continue;default:if(p=u.trys,!(p=p.length>0&&p[p.length-1])&&(E[0]===6||E[0]===2)){u=0;continue}if(E[0]===3&&(!p||E[1]>p[0]&&E[1]<p[3])){u.label=E[1];break}if(E[0]===6&&u.label<p[1]){u.label=p[1],p=E;break}if(p&&u.label<p[2]){u.label=p[2],u.ops.push(E);break}p[2]&&u.ops.pop(),u.trys.pop();continue}E=l.call(a,u)}catch(w){E=[6,w],f=0}finally{d=p=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getUrl=void 0;var n=vs,i=Ui,s=function(a){return new Promise(function(l){return window.setTimeout(l,a)})},o=function(a,l,u){return u===void 0&&(u=0),e(void 0,void 0,void 0,function(){var d,f,p,g,v,b,E,w;return r(this,function(S){switch(S.label){case 0:if(typeof a!="function")return[3,10];S.label=1;case 1:return S.trys.push([1,3,,9]),[4,a()];case 2:return d=S.sent(),[3,9];case 3:return S.sent(),l.current.retryOnError?(f=(b=l.current.reconnectAttempts)!==null&&b!==void 0?b:i.DEFAULT_RECONNECT_LIMIT,u<f?(p=typeof l.current.reconnectInterval=="function"?l.current.reconnectInterval(u):l.current.reconnectInterval,[4,s(p??i.DEFAULT_RECONNECT_INTERVAL_MS)]):[3,5]):[3,7];case 4:return S.sent(),[2,(0,t.getUrl)(a,l,u+1)];case 5:return(w=(E=l.current).onReconnectStop)===null||w===void 0||w.call(E,u),[2,null];case 6:return[3,8];case 7:return[2,null];case 8:return[3,9];case 9:return[3,11];case 10:d=a,S.label=11;case 11:return g=l.current.fromSocketIO?(0,n.parseSocketIOUrl)(d):d,v=l.current.queryParams?(0,n.appendQueryParams)(g,l.current.queryParams):g,[2,v]}})})};t.getUrl=o})(U3);var B3={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.websocketWrapper=void 0;var e=function(r,n){return new Proxy(r,{get:function(i,s){var o=i[s];return s==="reconnect"?n:typeof o=="function"?(console.error("Calling methods directly on the websocket is not supported at this moment. You must use the methods returned by useWebSocket."),function(){}):o},set:function(i,s,o){return/^on/.test(s)?(console.warn("The websocket's event handlers should be defined through the options object passed into useWebSocket."),!1):(i[s]=o,!0)}})};t.websocketWrapper=e,t.default=t.websocketWrapper})(B3);var zo=vt&&vt.__assign||function(){return zo=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},zo.apply(this,arguments)},s7=vt&&vt.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})},o7=vt&&vt.__generator||function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},a7=vt&&vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nc,"__esModule",{value:!0});Nc.useWebSocket=void 0;var qr=O,U1=wS,Ki=Ui,l7=ov,u7=U3,c7=a7(B3),UC=pa,h7=function(t,e,r){e===void 0&&(e=Ki.DEFAULT_OPTIONS),r===void 0&&(r=!0);var n=(0,qr.useState)(null),i=n[0],s=n[1],o=(0,qr.useState)({}),a=o[0],l=o[1],u=(0,qr.useMemo)(function(){if(i)try{return JSON.parse(i.data)}catch{return Ki.UNPARSABLE_JSON_OBJECT}return null},[i]),d=(0,qr.useRef)(null),f=(0,qr.useRef)(null),p=(0,qr.useRef)(function(){}),g=(0,qr.useRef)(0),v=(0,qr.useRef)([]),b=(0,qr.useRef)(null),E=(0,qr.useRef)(e);E.current=e;var w=d.current&&a[d.current]!==void 0?a[d.current]:t!==null&&r===!0?Ki.ReadyState.CONNECTING:Ki.ReadyState.UNINSTANTIATED,S=e.queryParams?JSON.stringify(e.queryParams):null,_=(0,qr.useCallback)(function(N,L){var k;if(L===void 0&&(L=!0),Ki.isEventSourceSupported&&f.current instanceof EventSource){console.warn("Unable to send a message from an eventSource");return}((k=f.current)===null||k===void 0?void 0:k.readyState)===Ki.ReadyState.OPEN?((0,UC.assertIsWebSocket)(f.current,E.current.skipAssert),f.current.send(N)):L&&v.current.push(N)},[]),A=(0,qr.useCallback)(function(N,L){L===void 0&&(L=!0),_(JSON.stringify(N),L)},[_]),P=(0,qr.useCallback)(function(){return E.current.share!==!0||Ki.isEventSourceSupported&&f.current instanceof EventSource?f.current:(b.current===null&&f.current&&((0,UC.assertIsWebSocket)(f.current,E.current.skipAssert),b.current=(0,c7.default)(f.current,p)),b.current)},[]);return(0,qr.useEffect)(function(){if(t!==null&&r===!0){var N,L=!1,k=!0,q=function(){return s7(void 0,void 0,void 0,function(){var H,Q,G;return o7(this,function(F){switch(F.label){case 0:return H=d,[4,(0,u7.getUrl)(t,E)];case 1:return H.current=F.sent(),d.current===null?(console.error("Failed to get a valid URL. WebSocket connection aborted."),d.current="ABORTED",(0,U1.flushSync)(function(){return l(function(D){return zo(zo({},D),{ABORTED:Ki.ReadyState.CLOSED})})}),[2]):(Q=function(D){L||(0,U1.flushSync)(function(){return s(D)})},G=function(D){L||(0,U1.flushSync)(function(){return l(function(V){var W;return zo(zo({},V),d.current&&(W={},W[d.current]=D,W))})})},k&&(N=(0,l7.createOrJoinSocket)(f,d.current,G,E,Q,p,g,_)),[2])}})})};return p.current=function(){L||(b.current&&(b.current=null),N==null||N(),q())},q(),function(){L=!0,k=!1,b.current&&(b.current=null),N==null||N(),s(null)}}else(t===null||r===!1)&&(g.current=0,l(function(H){var Q;return zo(zo({},H),d.current&&(Q={},Q[d.current]=Ki.ReadyState.CLOSED,Q))}))},[t,r,S,_]),(0,qr.useEffect)(function(){w===Ki.ReadyState.OPEN&&v.current.splice(0).forEach(function(N){_(N)})},[w]),{sendMessage:_,sendJsonMessage:A,lastMessage:i,lastJsonMessage:u,readyState:w,getWebSocket:P}};Nc.useWebSocket=h7;var hv={},Jg=vt&&vt.__assign||function(){return Jg=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Jg.apply(this,arguments)};Object.defineProperty(hv,"__esModule",{value:!0});hv.useSocketIO=void 0;var BC=O,d7=Nc,f7=Ui,B1={type:"empty",payload:null},p7=function(t){if(!t||!t.data)return B1;var e=t.data.match(/\[.*]/);if(!e)return B1;var r=JSON.parse(e);return!Array.isArray(r)||!r[1]?B1:{type:r[0],payload:r[1]}},m7=function(t,e,r){e===void 0&&(e=f7.DEFAULT_OPTIONS),r===void 0&&(r=!0);var n=(0,BC.useMemo)(function(){return Jg(Jg({},e),{fromSocketIO:!0})},[]),i=(0,d7.useWebSocket)(t,n,r),s=i.sendMessage,o=i.sendJsonMessage,a=i.lastMessage,l=i.readyState,u=i.getWebSocket,d=(0,BC.useMemo)(function(){return p7(a)},[a]);return{sendMessage:s,sendJsonMessage:o,lastMessage:d,lastJsonMessage:d,readyState:l,getWebSocket:u}};hv.useSocketIO=m7;var dv={},e0=vt&&vt.__assign||function(){return e0=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},e0.apply(this,arguments)},g7=vt&&vt.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};Object.defineProperty(dv,"__esModule",{value:!0});dv.useEventSource=void 0;var zC=O,v7=Nc,jC=Ui,y7=function(t,e,r){e===void 0&&(e=jC.DEFAULT_EVENT_SOURCE_OPTIONS);var n=e.withCredentials,i=e.events,s=g7(e,["withCredentials","events"]);r===void 0&&(r=!0);var o=e0(e0({},s),{eventSourceOptions:{withCredentials:n}}),a=(0,zC.useRef)(jC.EMPTY_EVENT_HANDLERS);i&&(a.current=i);var l=(0,v7.useWebSocket)(t,o,r),u=l.lastMessage,d=l.readyState,f=l.getWebSocket;return(0,zC.useEffect)(function(){u!=null&&u.type&&Object.entries(a.current).forEach(function(p){var g=p[0],v=p[1];g===u.type&&v(u)})},[u]),{lastEvent:u,readyState:d,getEventSource:f}};dv.useEventSource=y7;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.resetGlobalState=t.useEventSource=t.ReadyState=t.useSocketIO=t.default=void 0;var e=Nc;Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.useWebSocket}});var r=hv;Object.defineProperty(t,"useSocketIO",{enumerable:!0,get:function(){return r.useSocketIO}});var n=Ui;Object.defineProperty(t,"ReadyState",{enumerable:!0,get:function(){return n.ReadyState}});var i=dv;Object.defineProperty(t,"useEventSource",{enumerable:!0,get:function(){return i.useEventSource}});var s=pa;Object.defineProperty(t,"resetGlobalState",{enumerable:!0,get:function(){return s.resetGlobalState}})})(si);const uf=wa(si),b7="/assets/board-d79f1942.png";function x7(){const[t,e]=O.useState(0);O.useState(!1);const[r,n]=O.useState(pc.findOpponent(eo())),{sendMessage:i,lastMessage:s,readyState:o}=uf(r),a=Fi();return O.useEffect(()=>{if(console.log(si.ReadyState[o]),o!=si.ReadyState.OPEN)return;const l=eo();l&&i(JSON.stringify({message:"JSESSIONID",data:l}))},[o]),O.useEffect(()=>{if(!s)return;const l=s.data,u=JSON.parse(l);if(u.message=="Finding"&&e(1),u.message=="Error"&&e(3),u.message=="Game created"){e(2);const d=u.data;a(`/game/v2/${d}`)}console.log(s)},[s]),t==0?C(st,{children:"Connecting to server..."}):t==1?C("div",{className:"flex flex-col items-center justify-center relative",children:J("div",{children:[C("img",{className:"brightness-50 shadow-2xl",src:b7,alt:"Chess Board"}),C("div",{className:"text-3xl text-base-content whitespace-nowrap",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:"3"},children:"Finding opponent..."})]})}):t==2?C(st,{children:"Game found"}):C(st,{})}var fv={exports:{}},Dl=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(Dl||{}),z3=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(z3||{}),e_=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(e_||{}),De=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(De||{}),Ei=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(Ei||{}),ce=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(ce||{}),Yu=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(Yu||{}),Re=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(Re||{}),_e=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(_e||{}),Ti=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(Ti||{}),qs=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(qs||{}),xs=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(xs||{}),fn=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(fn||{}),ls=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(ls||{}),XS=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(XS||{}),Zn=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Zn||{}),ir=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(ir||{}),Kt=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(Kt||{}),ys=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(ys||{});const _7={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},be={ADAPTER:_7,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var z1=/iPhone/i,$C=/iPod/i,GC=/iPad/i,HC=/\biOS-universal(?:.+)Mac\b/i,j1=/\bAndroid(?:.+)Mobile\b/i,VC=/Android/i,ou=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Rp=/Silk/i,Rs=/Windows Phone/i,WC=/\bWindows(?:.+)ARM\b/i,XC=/BlackBerry/i,qC=/BB10/i,YC=/Opera Mini/i,QC=/\b(CriOS|Chrome)(?:.+)Mobile/i,KC=/Mobile(?:.+)Firefox\b/i,ZC=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function w7(t){return function(e){return e.test(t)}}function JC(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=w7(r),s={apple:{phone:i(z1)&&!i(Rs),ipod:i($C),tablet:!i(z1)&&(i(GC)||ZC(e))&&!i(Rs),universal:i(HC),device:(i(z1)||i($C)||i(GC)||i(HC)||ZC(e))&&!i(Rs)},amazon:{phone:i(ou),tablet:!i(ou)&&i(Rp),device:i(ou)||i(Rp)},android:{phone:!i(Rs)&&i(ou)||!i(Rs)&&i(j1),tablet:!i(Rs)&&!i(ou)&&!i(j1)&&(i(Rp)||i(VC)),device:!i(Rs)&&(i(ou)||i(Rp)||i(j1)||i(VC))||i(/\bokhttp\b/i)},windows:{phone:i(Rs),tablet:i(WC),device:i(Rs)||i(WC)},other:{blackberry:i(XC),blackberry10:i(qC),opera:i(YC),firefox:i(KC),chrome:i(QC),device:i(XC)||i(qC)||i(YC)||i(KC)||i(QC)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const S7=JC.default??JC,$s=S7(globalThis.navigator);be.RETINA_PREFIX=/@([0-9\.]+)x/;be.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var j3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,f||l,p),v=r?r+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],g]:l._events[v].push(g):(l._events[v]=g,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},a.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,g=f.length,v=new Array(g);p<g;p++)v[p]=f[p].fn;return v},a.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,d,f,p,g,v){var b=r?r+u:u;if(!this._events[b])return!1;var E=this._events[b],w=arguments.length,S,_;if(E.fn){switch(E.once&&this.removeListener(u,E.fn,void 0,!0),w){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,d),!0;case 3:return E.fn.call(E.context,d,f),!0;case 4:return E.fn.call(E.context,d,f,p),!0;case 5:return E.fn.call(E.context,d,f,p,g),!0;case 6:return E.fn.call(E.context,d,f,p,g,v),!0}for(_=1,S=new Array(w-1);_<w;_++)S[_-1]=arguments[_];E.fn.apply(E.context,S)}else{var A=E.length,P;for(_=0;_<A;_++)switch(E[_].once&&this.removeListener(u,E[_].fn,void 0,!0),w){case 1:E[_].fn.call(E[_].context);break;case 2:E[_].fn.call(E[_].context,d);break;case 3:E[_].fn.call(E[_].context,d,f);break;case 4:E[_].fn.call(E[_].context,d,f,p);break;default:if(!S)for(P=1,S=new Array(w-1);P<w;P++)S[P-1]=arguments[P];E[_].fn.apply(E[_].context,S)}}return!0},a.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},a.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},a.prototype.removeListener=function(u,d,f,p){var g=r?r+u:u;if(!this._events[g])return this;if(!d)return o(this,g),this;var v=this._events[g];if(v.fn)v.fn===d&&(!p||v.once)&&(!f||v.context===f)&&o(this,g);else{for(var b=0,E=[],w=v.length;b<w;b++)(v[b].fn!==d||p&&!v[b].once||f&&v[b].context!==f)&&E.push(v[b]);E.length?this._events[g]=E.length===1?E[0]:E:o(this,g)}return this},a.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(j3);var E7=j3.exports;const cf=wa(E7);var qS={exports:{}};qS.exports=pv;qS.exports.default=pv;function pv(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=$3(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,l,u,d,f,p,g;if(n&&(s=P7(t,e,s,r)),t.length>80*r){a=u=t[0],l=d=t[1];for(var v=r;v<i;v+=r)f=t[v],p=t[v+1],f<a&&(a=f),p<l&&(l=p),f>u&&(u=f),p>d&&(d=p);g=Math.max(u-a,d-l),g=g!==0?32767/g:0}return kd(s,o,r,a,l,g,0),o}function $3(t,e,r,n,i){var s,o;if(i===n_(t,e,r,n)>0)for(s=e;s<r;s+=n)o=eI(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=eI(s,t[s],t[s+1],o);return o&&mv(o,o.next)&&(Rd(o),o=o.next),o}function Cl(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(mv(r,r.next)||Lt(r.prev,r,r.next)===0)){if(Rd(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function kd(t,e,r,n,i,s,o){if(t){!o&&s&&O7(t,n,i,s);for(var a=t,l,u;t.prev!==t.next;){if(l=t.prev,u=t.next,s?A7(t,n,i,s):T7(t)){e.push(l.i/r|0),e.push(t.i/r|0),e.push(u.i/r|0),Rd(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=C7(Cl(t),e,r),kd(t,e,r,n,i,s,2)):o===2&&I7(t,e,r,n,i,s):kd(Cl(t),e,r,n,i,s,1);break}}}}function T7(t){var e=t.prev,r=t,n=t.next;if(Lt(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,a=e.y,l=r.y,u=n.y,d=i<s?i<o?i:o:s<o?s:o,f=a<l?a<u?a:u:l<u?l:u,p=i>s?i>o?i:o:s>o?s:o,g=a>l?a>u?a:u:l>u?l:u,v=n.next;v!==e;){if(v.x>=d&&v.x<=p&&v.y>=f&&v.y<=g&&Lu(i,a,s,l,o,u,v.x,v.y)&&Lt(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function A7(t,e,r,n){var i=t.prev,s=t,o=t.next;if(Lt(i,s,o)>=0)return!1;for(var a=i.x,l=s.x,u=o.x,d=i.y,f=s.y,p=o.y,g=a<l?a<u?a:u:l<u?l:u,v=d<f?d<p?d:p:f<p?f:p,b=a>l?a>u?a:u:l>u?l:u,E=d>f?d>p?d:p:f>p?f:p,w=t_(g,v,e,r,n),S=t_(b,E,e,r,n),_=t.prevZ,A=t.nextZ;_&&_.z>=w&&A&&A.z<=S;){if(_.x>=g&&_.x<=b&&_.y>=v&&_.y<=E&&_!==i&&_!==o&&Lu(a,d,l,f,u,p,_.x,_.y)&&Lt(_.prev,_,_.next)>=0||(_=_.prevZ,A.x>=g&&A.x<=b&&A.y>=v&&A.y<=E&&A!==i&&A!==o&&Lu(a,d,l,f,u,p,A.x,A.y)&&Lt(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;_&&_.z>=w;){if(_.x>=g&&_.x<=b&&_.y>=v&&_.y<=E&&_!==i&&_!==o&&Lu(a,d,l,f,u,p,_.x,_.y)&&Lt(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;A&&A.z<=S;){if(A.x>=g&&A.x<=b&&A.y>=v&&A.y<=E&&A!==i&&A!==o&&Lu(a,d,l,f,u,p,A.x,A.y)&&Lt(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function C7(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!mv(i,s)&&G3(i,n,n.next,s)&&Nd(i,s)&&Nd(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),Rd(n),Rd(n.next),n=t=s),n=n.next}while(n!==t);return Cl(n)}function I7(t,e,r,n,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&F7(o,a)){var l=H3(o,a);o=Cl(o,o.next),l=Cl(l,l.next),kd(o,e,r,n,i,s,0),kd(l,e,r,n,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function P7(t,e,r,n){var i=[],s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*n,l=s<o-1?e[s+1]*n:t.length,u=$3(t,a,l,n,!1),u===u.next&&(u.steiner=!0),i.push(L7(u));for(i.sort(M7),s=0;s<i.length;s++)r=k7(i[s],r);return r}function M7(t,e){return t.x-e.x}function k7(t,e){var r=N7(t,e);if(!r)return e;var n=H3(r,t);return Cl(n,n.next),Cl(r,r.next)}function N7(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===n))return o}r=r.next}while(r!==e);if(!o)return null;var l=o,u=o.x,d=o.y,f=1/0,p;r=o;do n>=r.x&&r.x>=u&&n!==r.x&&Lu(i<d?n:s,i,u,d,i<d?s:n,i,r.x,r.y)&&(p=Math.abs(i-r.y)/(n-r.x),Nd(r,t)&&(p<f||p===f&&(r.x>o.x||r.x===o.x&&R7(o,r)))&&(o=r,f=p)),r=r.next;while(r!==l);return o}function R7(t,e){return Lt(t.prev,t,e.prev)<0&&Lt(e.next,t,t.next)<0}function O7(t,e,r,n){var i=t;do i.z===0&&(i.z=t_(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,D7(i)}function D7(t){var e,r,n,i,s,o,a,l,u=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,a=0,e=0;e<u&&(a++,n=n.nextZ,!!n);e++);for(l=u;a>0||l>0&&n;)a!==0&&(l===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,u*=2}while(o>1);return t}function t_(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function L7(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function Lu(t,e,r,n,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function F7(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!U7(t,e)&&(Nd(t,e)&&Nd(e,t)&&B7(t,e)&&(Lt(t.prev,t,e.prev)||Lt(t,e.prev,e))||mv(t,e)&&Lt(t.prev,t,t.next)>0&&Lt(e.prev,e,e.next)>0)}function Lt(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function mv(t,e){return t.x===e.x&&t.y===e.y}function G3(t,e,r,n){var i=Dp(Lt(t,e,r)),s=Dp(Lt(t,e,n)),o=Dp(Lt(r,n,t)),a=Dp(Lt(r,n,e));return!!(i!==s&&o!==a||i===0&&Op(t,r,e)||s===0&&Op(t,n,e)||o===0&&Op(r,t,n)||a===0&&Op(r,e,n))}function Op(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Dp(t){return t>0?1:t<0?-1:0}function U7(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&G3(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Nd(t,e){return Lt(t.prev,t,t.next)<0?Lt(t,e,t.next)>=0&&Lt(t,t.prev,e)>=0:Lt(t,e,t.prev)<0||Lt(t,t.next,e)<0}function B7(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function H3(t,e){var r=new r_(t.i,t.x,t.y),n=new r_(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function eI(t,e,r,n){var i=new r_(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Rd(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function r_(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}pv.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(n_(t,0,s,r));if(i)for(var a=0,l=e.length;a<l;a++){var u=e[a]*r,d=a<l-1?e[a+1]*r:t.length;o-=Math.abs(n_(t,u,d,r))}var f=0;for(a=0;a<n.length;a+=3){var p=n[a]*r,g=n[a+1]*r,v=n[a+2]*r;f+=Math.abs((t[p]-t[v])*(t[g+1]-t[p+1])-(t[p]-t[g])*(t[v+1]-t[p+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function n_(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}pv.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var z7=qS.exports;const j7=wa(z7);var t0={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */t0.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof vt=="object"&&vt;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,l=36,u=1,d=26,f=38,p=700,g=72,v=128,b="-",E=/^xn--/,w=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=l-u,P=Math.floor,N=String.fromCharCode,L;function k(R){throw new RangeError(_[R])}function q(R,$){for(var Z=R.length,pe=[];Z--;)pe[Z]=$(R[Z]);return pe}function H(R,$){var Z=R.split("@"),pe="";Z.length>1&&(pe=Z[0]+"@",R=Z[1]),R=R.replace(S,".");var fe=R.split("."),Ue=q(fe,$).join(".");return pe+Ue}function Q(R){for(var $=[],Z=0,pe=R.length,fe,Ue;Z<pe;)fe=R.charCodeAt(Z++),fe>=55296&&fe<=56319&&Z<pe?(Ue=R.charCodeAt(Z++),(Ue&64512)==56320?$.push(((fe&1023)<<10)+(Ue&1023)+65536):($.push(fe),Z--)):$.push(fe);return $}function G(R){return q(R,function($){var Z="";return $>65535&&($-=65536,Z+=N($>>>10&1023|55296),$=56320|$&1023),Z+=N($),Z}).join("")}function F(R){return R-48<10?R-22:R-65<26?R-65:R-97<26?R-97:l}function D(R,$){return R+22+75*(R<26)-(($!=0)<<5)}function V(R,$,Z){var pe=0;for(R=Z?P(R/p):R>>1,R+=P(R/$);R>A*d>>1;pe+=l)R=P(R/A);return P(pe+(A+1)*R/(R+f))}function W(R){var $=[],Z=R.length,pe,fe=0,Ue=v,Le=g,He,dt,ft,Qe,Fe,nt,qe,Hr,xn;for(He=R.lastIndexOf(b),He<0&&(He=0),dt=0;dt<He;++dt)R.charCodeAt(dt)>=128&&k("not-basic"),$.push(R.charCodeAt(dt));for(ft=He>0?He+1:0;ft<Z;){for(Qe=fe,Fe=1,nt=l;ft>=Z&&k("invalid-input"),qe=F(R.charCodeAt(ft++)),(qe>=l||qe>P((a-fe)/Fe))&&k("overflow"),fe+=qe*Fe,Hr=nt<=Le?u:nt>=Le+d?d:nt-Le,!(qe<Hr);nt+=l)xn=l-Hr,Fe>P(a/xn)&&k("overflow"),Fe*=xn;pe=$.length+1,Le=V(fe-Qe,pe,Qe==0),P(fe/pe)>a-Ue&&k("overflow"),Ue+=P(fe/pe),fe%=pe,$.splice(fe++,0,Ue)}return G($)}function B(R){var $,Z,pe,fe,Ue,Le,He,dt,ft,Qe,Fe,nt=[],qe,Hr,xn,co;for(R=Q(R),qe=R.length,$=v,Z=0,Ue=g,Le=0;Le<qe;++Le)Fe=R[Le],Fe<128&&nt.push(N(Fe));for(pe=fe=nt.length,fe&&nt.push(b);pe<qe;){for(He=a,Le=0;Le<qe;++Le)Fe=R[Le],Fe>=$&&Fe<He&&(He=Fe);for(Hr=pe+1,He-$>P((a-Z)/Hr)&&k("overflow"),Z+=(He-$)*Hr,$=He,Le=0;Le<qe;++Le)if(Fe=R[Le],Fe<$&&++Z>a&&k("overflow"),Fe==$){for(dt=Z,ft=l;Qe=ft<=Ue?u:ft>=Ue+d?d:ft-Ue,!(dt<Qe);ft+=l)co=dt-Qe,xn=l-Qe,nt.push(N(D(Qe+co%xn,0))),dt=P(co/xn);nt.push(N(D(dt,0))),Ue=V(Z,Hr,pe==fe),Z=0,++pe}++Z,++$}return nt.join("")}function I(R){return H(R,function($){return E.test($)?W($.slice(4).toLowerCase()):$})}function z(R){return H(R,function($){return w.test($)?"xn--"+B($):$})}if(o={version:"1.4.1",ucs2:{decode:Q,encode:G},decode:W,encode:B,toASCII:z,toUnicode:I},n&&i)if(t.exports==n)i.exports=o;else for(L in o)o.hasOwnProperty(L)&&(n[L]=o[L]);else r.punycode=o})(vt)})(t0,t0.exports);var $7=t0.exports,G7=Error,H7=EvalError,V7=RangeError,W7=ReferenceError,V3=SyntaxError,hf=TypeError,X7=URIError,q7=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},tI=typeof Symbol<"u"&&Symbol,Y7=q7,Q7=function(){return typeof tI!="function"||typeof Symbol!="function"||typeof tI("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Y7()},rI={foo:{}},K7=Object,Z7=function(){return{__proto__:rI}.foo===rI.foo&&!({__proto__:null}instanceof K7)},J7="Function.prototype.bind called on incompatible ",e9=Object.prototype.toString,t9=Math.max,r9="[object Function]",nI=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},n9=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},i9=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},s9=function(e){var r=this;if(typeof r!="function"||e9.apply(r)!==r9)throw new TypeError(J7+r);for(var n=n9(arguments,1),i,s=function(){if(this instanceof i){var d=r.apply(this,nI(n,arguments));return Object(d)===d?d:this}return r.apply(e,nI(n,arguments))},o=t9(0,r.length-n.length),a=[],l=0;l<o;l++)a[l]="$"+l;if(i=Function("binder","return function ("+i9(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i},o9=s9,YS=Function.prototype.bind||o9,a9=Function.prototype.call,l9=Object.prototype.hasOwnProperty,u9=YS,c9=u9.call(a9,l9),Ze,h9=G7,d9=H7,f9=V7,p9=W7,mc=V3,Qu=hf,m9=X7,W3=Function,$1=function(t){try{return W3('"use strict"; return ('+t+").constructor;")()}catch{}},ml=Object.getOwnPropertyDescriptor;if(ml)try{ml({},"")}catch{ml=null}var G1=function(){throw new Qu},g9=ml?function(){try{return arguments.callee,G1}catch{try{return ml(arguments,"callee").get}catch{return G1}}}():G1,au=Q7(),v9=Z7(),gr=Object.getPrototypeOf||(v9?function(t){return t.__proto__}:null),fu={},y9=typeof Uint8Array>"u"||!gr?Ze:gr(Uint8Array),gl={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Ze:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ze:ArrayBuffer,"%ArrayIteratorPrototype%":au&&gr?gr([][Symbol.iterator]()):Ze,"%AsyncFromSyncIteratorPrototype%":Ze,"%AsyncFunction%":fu,"%AsyncGenerator%":fu,"%AsyncGeneratorFunction%":fu,"%AsyncIteratorPrototype%":fu,"%Atomics%":typeof Atomics>"u"?Ze:Atomics,"%BigInt%":typeof BigInt>"u"?Ze:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Ze:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Ze:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ze:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":h9,"%eval%":eval,"%EvalError%":d9,"%Float32Array%":typeof Float32Array>"u"?Ze:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ze:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ze:FinalizationRegistry,"%Function%":W3,"%GeneratorFunction%":fu,"%Int8Array%":typeof Int8Array>"u"?Ze:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ze:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ze:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":au&&gr?gr(gr([][Symbol.iterator]())):Ze,"%JSON%":typeof JSON=="object"?JSON:Ze,"%Map%":typeof Map>"u"?Ze:Map,"%MapIteratorPrototype%":typeof Map>"u"||!au||!gr?Ze:gr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ze:Promise,"%Proxy%":typeof Proxy>"u"?Ze:Proxy,"%RangeError%":f9,"%ReferenceError%":p9,"%Reflect%":typeof Reflect>"u"?Ze:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ze:Set,"%SetIteratorPrototype%":typeof Set>"u"||!au||!gr?Ze:gr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ze:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":au&&gr?gr(""[Symbol.iterator]()):Ze,"%Symbol%":au?Symbol:Ze,"%SyntaxError%":mc,"%ThrowTypeError%":g9,"%TypedArray%":y9,"%TypeError%":Qu,"%Uint8Array%":typeof Uint8Array>"u"?Ze:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ze:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ze:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ze:Uint32Array,"%URIError%":m9,"%WeakMap%":typeof WeakMap>"u"?Ze:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ze:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ze:WeakSet};if(gr)try{null.error}catch(t){var b9=gr(gr(t));gl["%Error.prototype%"]=b9}var x9=function t(e){var r;if(e==="%AsyncFunction%")r=$1("async function () {}");else if(e==="%GeneratorFunction%")r=$1("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=$1("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&gr&&(r=gr(i.prototype))}return gl[e]=r,r},iI={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},df=YS,r0=c9,_9=df.call(Function.call,Array.prototype.concat),w9=df.call(Function.apply,Array.prototype.splice),sI=df.call(Function.call,String.prototype.replace),n0=df.call(Function.call,String.prototype.slice),S9=df.call(Function.call,RegExp.prototype.exec),E9=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T9=/\\(\\)?/g,A9=function(e){var r=n0(e,0,1),n=n0(e,-1);if(r==="%"&&n!=="%")throw new mc("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new mc("invalid intrinsic syntax, expected opening `%`");var i=[];return sI(e,E9,function(s,o,a,l){i[i.length]=a?sI(l,T9,"$1"):o||s}),i},C9=function(e,r){var n=e,i;if(r0(iI,n)&&(i=iI[n],n="%"+i[0]+"%"),r0(gl,n)){var s=gl[n];if(s===fu&&(s=x9(n)),typeof s>"u"&&!r)throw new Qu("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new mc("intrinsic "+e+" does not exist!")},Rc=function(e,r){if(typeof e!="string"||e.length===0)throw new Qu("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Qu('"allowMissing" argument must be a boolean');if(S9(/^%?[^%]*%?$/,e)===null)throw new mc("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=A9(e),i=n.length>0?n[0]:"",s=C9("%"+i+"%",r),o=s.name,a=s.value,l=!1,u=s.alias;u&&(i=u[0],w9(n,_9([0,1],u)));for(var d=1,f=!0;d<n.length;d+=1){var p=n[d],g=n0(p,0,1),v=n0(p,-1);if((g==='"'||g==="'"||g==="`"||v==='"'||v==="'"||v==="`")&&g!==v)throw new mc("property names with quotes must have matching quotes");if((p==="constructor"||!f)&&(l=!0),i+="."+p,o="%"+i+"%",r0(gl,o))a=gl[o];else if(a!=null){if(!(p in a)){if(!r)throw new Qu("base intrinsic for "+e+" exists, but the property is not available.");return}if(ml&&d+1>=n.length){var b=ml(a,p);f=!!b,f&&"get"in b&&!("originalValue"in b.get)?a=b.get:a=a[p]}else f=r0(a,p),a=a[p];f&&!l&&(gl[o]=a)}}return a},X3={exports:{}},H1,oI;function QS(){if(oI)return H1;oI=1;var t=Rc,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return H1=e,H1}var I9=Rc,Wm=I9("%Object.getOwnPropertyDescriptor%",!0);if(Wm)try{Wm([],"length")}catch{Wm=null}var q3=Wm,aI=QS(),P9=V3,lu=hf,lI=q3,M9=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new lu("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new lu("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new lu("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new lu("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new lu("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new lu("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,l=!!lI&&lI(e,r);if(aI)aI(e,r,{configurable:o===null&&l?l.configurable:!o,enumerable:i===null&&l?l.enumerable:!i,value:n,writable:s===null&&l?l.writable:!s});else if(a||!i&&!s&&!o)e[r]=n;else throw new P9("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},i_=QS(),Y3=function(){return!!i_};Y3.hasArrayLengthDefineBug=function(){if(!i_)return null;try{return i_([],"length",{value:1}).length!==1}catch{return!0}};var k9=Y3,N9=Rc,uI=M9,R9=k9(),cI=q3,hI=hf,O9=N9("%Math.floor%"),D9=function(e,r){if(typeof e!="function")throw new hI("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||O9(r)!==r)throw new hI("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&cI){var o=cI(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(R9?uI(e,"length",r,!0,!0):uI(e,"length",r)),e};(function(t){var e=YS,r=Rc,n=D9,i=hf,s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(o,s),l=QS(),u=r("%Math.max%");t.exports=function(p){if(typeof p!="function")throw new i("a function is required");var g=a(e,o,arguments);return n(g,1+u(0,p.length-(arguments.length-1)),!0)};var d=function(){return a(e,s,arguments)};l?l(t.exports,"apply",{value:d}):t.exports.apply=d})(X3);var L9=X3.exports,Q3=Rc,K3=L9,F9=K3(Q3("String.prototype.indexOf")),U9=function(e,r){var n=Q3(e,!!r);return typeof n=="function"&&F9(e,".prototype.")>-1?K3(n):n};const B9={},z9=Object.freeze(Object.defineProperty({__proto__:null,default:B9},Symbol.toStringTag,{value:"Module"})),j9=HM(z9);var KS=typeof Map=="function"&&Map.prototype,V1=Object.getOwnPropertyDescriptor&&KS?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i0=KS&&V1&&typeof V1.get=="function"?V1.get:null,dI=KS&&Map.prototype.forEach,ZS=typeof Set=="function"&&Set.prototype,W1=Object.getOwnPropertyDescriptor&&ZS?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,s0=ZS&&W1&&typeof W1.get=="function"?W1.get:null,fI=ZS&&Set.prototype.forEach,$9=typeof WeakMap=="function"&&WeakMap.prototype,nd=$9?WeakMap.prototype.has:null,G9=typeof WeakSet=="function"&&WeakSet.prototype,id=G9?WeakSet.prototype.has:null,H9=typeof WeakRef=="function"&&WeakRef.prototype,pI=H9?WeakRef.prototype.deref:null,V9=Boolean.prototype.valueOf,W9=Object.prototype.toString,X9=Function.prototype.toString,q9=String.prototype.match,JS=String.prototype.slice,Zo=String.prototype.replace,Y9=String.prototype.toUpperCase,mI=String.prototype.toLowerCase,Z3=RegExp.prototype.test,gI=Array.prototype.concat,us=Array.prototype.join,Q9=Array.prototype.slice,vI=Math.floor,s_=typeof BigInt=="function"?BigInt.prototype.valueOf:null,X1=Object.getOwnPropertySymbols,o_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,gc=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Gr=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===gc||"symbol")?Symbol.toStringTag:null,J3=Object.prototype.propertyIsEnumerable,yI=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function bI(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Z3.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-vI(-t):vI(t);if(n!==t){var i=String(n),s=JS.call(e,i.length+1);return Zo.call(i,r,"$&_")+"."+Zo.call(Zo.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Zo.call(e,r,"$&_")}var a_=j9,xI=a_.custom,_I=tO(xI)?xI:null,K9=function t(e,r,n,i){var s=r||{};if(jo(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(jo(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=jo(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(jo(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(jo(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return nO(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?bI(e,l):l}if(typeof e=="bigint"){var u=String(e)+"n";return a?bI(e,u):u}var d=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=d&&d>0&&typeof e=="object")return l_(e)?"[Array]":"[Object]";var f=mG(s,n);if(typeof i>"u")i=[];else if(rO(i,e)>=0)return"[Circular]";function p(F,D,V){if(D&&(i=Q9.call(i),i.push(D)),V){var W={depth:s.depth};return jo(s,"quoteStyle")&&(W.quoteStyle=s.quoteStyle),t(F,W,n+1,i)}return t(F,s,n+1,i)}if(typeof e=="function"&&!wI(e)){var g=oG(e),v=Lp(e,p);return"[Function"+(g?": "+g:" (anonymous)")+"]"+(v.length>0?" { "+us.call(v,", ")+" }":"")}if(tO(e)){var b=gc?Zo.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):o_.call(e);return typeof e=="object"&&!gc?vh(b):b}if(dG(e)){for(var E="<"+mI.call(String(e.nodeName)),w=e.attributes||[],S=0;S<w.length;S++)E+=" "+w[S].name+"="+eO(Z9(w[S].value),"double",s);return E+=">",e.childNodes&&e.childNodes.length&&(E+="..."),E+="</"+mI.call(String(e.nodeName))+">",E}if(l_(e)){if(e.length===0)return"[]";var _=Lp(e,p);return f&&!pG(_)?"["+u_(_,f)+"]":"[ "+us.call(_,", ")+" ]"}if(eG(e)){var A=Lp(e,p);return!("cause"in Error.prototype)&&"cause"in e&&!J3.call(e,"cause")?"{ ["+String(e)+"] "+us.call(gI.call("[cause]: "+p(e.cause),A),", ")+" }":A.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+us.call(A,", ")+" }"}if(typeof e=="object"&&o){if(_I&&typeof e[_I]=="function"&&a_)return a_(e,{depth:d-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(aG(e)){var P=[];return dI&&dI.call(e,function(F,D){P.push(p(D,e,!0)+" => "+p(F,e))}),SI("Map",i0.call(e),P,f)}if(cG(e)){var N=[];return fI&&fI.call(e,function(F){N.push(p(F,e))}),SI("Set",s0.call(e),N,f)}if(lG(e))return q1("WeakMap");if(hG(e))return q1("WeakSet");if(uG(e))return q1("WeakRef");if(rG(e))return vh(p(Number(e)));if(iG(e))return vh(p(s_.call(e)));if(nG(e))return vh(V9.call(e));if(tG(e))return vh(p(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===vt)return"{ [object globalThis] }";if(!J9(e)&&!wI(e)){var L=Lp(e,p),k=yI?yI(e)===Object.prototype:e instanceof Object||e.constructor===Object,q=e instanceof Object?"":"null prototype",H=!k&&Gr&&Object(e)===e&&Gr in e?JS.call(Ca(e),8,-1):q?"Object":"",Q=k||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",G=Q+(H||q?"["+us.call(gI.call([],H||[],q||[]),": ")+"] ":"");return L.length===0?G+"{}":f?G+"{"+u_(L,f)+"}":G+"{ "+us.call(L,", ")+" }"}return String(e)};function eO(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function Z9(t){return Zo.call(String(t),/"/g,"&quot;")}function l_(t){return Ca(t)==="[object Array]"&&(!Gr||!(typeof t=="object"&&Gr in t))}function J9(t){return Ca(t)==="[object Date]"&&(!Gr||!(typeof t=="object"&&Gr in t))}function wI(t){return Ca(t)==="[object RegExp]"&&(!Gr||!(typeof t=="object"&&Gr in t))}function eG(t){return Ca(t)==="[object Error]"&&(!Gr||!(typeof t=="object"&&Gr in t))}function tG(t){return Ca(t)==="[object String]"&&(!Gr||!(typeof t=="object"&&Gr in t))}function rG(t){return Ca(t)==="[object Number]"&&(!Gr||!(typeof t=="object"&&Gr in t))}function nG(t){return Ca(t)==="[object Boolean]"&&(!Gr||!(typeof t=="object"&&Gr in t))}function tO(t){if(gc)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!o_)return!1;try{return o_.call(t),!0}catch{}return!1}function iG(t){if(!t||typeof t!="object"||!s_)return!1;try{return s_.call(t),!0}catch{}return!1}var sG=Object.prototype.hasOwnProperty||function(t){return t in this};function jo(t,e){return sG.call(t,e)}function Ca(t){return W9.call(t)}function oG(t){if(t.name)return t.name;var e=q9.call(X9.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function rO(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function aG(t){if(!i0||!t||typeof t!="object")return!1;try{i0.call(t);try{s0.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function lG(t){if(!nd||!t||typeof t!="object")return!1;try{nd.call(t,nd);try{id.call(t,id)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function uG(t){if(!pI||!t||typeof t!="object")return!1;try{return pI.call(t),!0}catch{}return!1}function cG(t){if(!s0||!t||typeof t!="object")return!1;try{s0.call(t);try{i0.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function hG(t){if(!id||!t||typeof t!="object")return!1;try{id.call(t,id);try{nd.call(t,nd)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function dG(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function nO(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return nO(JS.call(t,0,e.maxStringLength),e)+n}var i=Zo.call(Zo.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,fG);return eO(i,"single",e)}function fG(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Y9.call(e.toString(16))}function vh(t){return"Object("+t+")"}function q1(t){return t+" { ? }"}function SI(t,e,r,n){var i=n?u_(r,n):us.call(r,", ");return t+" ("+e+") {"+i+"}"}function pG(t){for(var e=0;e<t.length;e++)if(rO(t[e],`
`)>=0)return!1;return!0}function mG(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=us.call(Array(t.indent+1)," ");else return null;return{base:r,prev:us.call(Array(e+1),r)}}function u_(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+us.call(t,","+r)+`
`+e.prev}function Lp(t,e){var r=l_(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=jo(t,i)?e(t[i],t):""}var s=typeof X1=="function"?X1(t):[],o;if(gc){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in t)jo(t,l)&&(r&&String(Number(l))===l&&l<t.length||gc&&o["$"+l]instanceof Symbol||(Z3.call(/[^\w$]/,l)?n.push(e(l,t)+": "+e(t[l],t)):n.push(l+": "+e(t[l],t))));if(typeof X1=="function")for(var u=0;u<s.length;u++)J3.call(t,s[u])&&n.push("["+e(s[u])+"]: "+e(t[s[u]],t));return n}var iO=Rc,Oc=U9,gG=K9,vG=hf,Fp=iO("%WeakMap%",!0),Up=iO("%Map%",!0),yG=Oc("WeakMap.prototype.get",!0),bG=Oc("WeakMap.prototype.set",!0),xG=Oc("WeakMap.prototype.has",!0),_G=Oc("Map.prototype.get",!0),wG=Oc("Map.prototype.set",!0),SG=Oc("Map.prototype.has",!0),eE=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},EG=function(t,e){var r=eE(t,e);return r&&r.value},TG=function(t,e,r){var n=eE(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},AG=function(t,e){return!!eE(t,e)},CG=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new vG("Side channel does not contain "+gG(s))},get:function(s){if(Fp&&s&&(typeof s=="object"||typeof s=="function")){if(e)return yG(e,s)}else if(Up){if(r)return _G(r,s)}else if(n)return EG(n,s)},has:function(s){if(Fp&&s&&(typeof s=="object"||typeof s=="function")){if(e)return xG(e,s)}else if(Up){if(r)return SG(r,s)}else if(n)return AG(n,s);return!1},set:function(s,o){Fp&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Fp),bG(e,s,o)):Up?(r||(r=new Up),wG(r,s,o)):(n||(n={key:{},next:null}),TG(n,s,o))}};return i},IG=String.prototype.replace,PG=/%20/g,Y1={RFC1738:"RFC1738",RFC3986:"RFC3986"},tE={default:Y1.RFC3986,formatters:{RFC1738:function(t){return IG.call(t,PG,"+")},RFC3986:function(t){return String(t)}},RFC1738:Y1.RFC1738,RFC3986:Y1.RFC3986},MG=tE,Q1=Object.prototype.hasOwnProperty,el=Array.isArray,Zi=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),kG=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(el(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},sO=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},NG=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(el(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Q1.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return el(e)&&!el(r)&&(i=sO(e,n)),el(e)&&el(r)?(r.forEach(function(s,o){if(Q1.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return Q1.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},RG=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},OG=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},DG=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var a="",l=0;l<o.length;++l){var u=o.charCodeAt(l);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||s===MG.RFC1738&&(u===40||u===41)){a+=o.charAt(l);continue}if(u<128){a=a+Zi[u];continue}if(u<2048){a=a+(Zi[192|u>>6]+Zi[128|u&63]);continue}if(u<55296||u>=57344){a=a+(Zi[224|u>>12]+Zi[128|u>>6&63]+Zi[128|u&63]);continue}l+=1,u=65536+((u&1023)<<10|o.charCodeAt(l)&1023),a+=Zi[240|u>>18]+Zi[128|u>>12&63]+Zi[128|u>>6&63]+Zi[128|u&63]}return a},LG=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var u=a[l],d=o[u];typeof d=="object"&&d!==null&&n.indexOf(d)===-1&&(r.push({obj:o,prop:u}),n.push(d))}return kG(r),e},FG=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},UG=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},BG=function(e,r){return[].concat(e,r)},zG=function(e,r){if(el(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},oO={arrayToObject:sO,assign:RG,combine:BG,compact:LG,decode:OG,encode:DG,isBuffer:UG,isRegExp:FG,maybeMap:zG,merge:NG},aO=CG,Xm=oO,sd=tE,jG=Object.prototype.hasOwnProperty,lO={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},os=Array.isArray,$G=Array.prototype.push,uO=function(t,e){$G.apply(t,os(e)?e:[e])},GG=Date.prototype.toISOString,EI=sd.default,nr={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Xm.encode,encodeValuesOnly:!1,format:EI,formatter:sd.formatters[EI],indices:!1,serializeDate:function(e){return GG.call(e)},skipNulls:!1,strictNullHandling:!1},HG=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},K1={},VG=function t(e,r,n,i,s,o,a,l,u,d,f,p,g,v,b,E,w,S){for(var _=e,A=S,P=0,N=!1;(A=A.get(K1))!==void 0&&!N;){var L=A.get(e);if(P+=1,typeof L<"u"){if(L===P)throw new RangeError("Cyclic object value");N=!0}typeof A.get(K1)>"u"&&(P=0)}if(typeof d=="function"?_=d(r,_):_ instanceof Date?_=g(_):n==="comma"&&os(_)&&(_=Xm.maybeMap(_,function(R){return R instanceof Date?g(R):R})),_===null){if(o)return u&&!E?u(r,nr.encoder,w,"key",v):r;_=""}if(HG(_)||Xm.isBuffer(_)){if(u){var k=E?r:u(r,nr.encoder,w,"key",v);return[b(k)+"="+b(u(_,nr.encoder,w,"value",v))]}return[b(r)+"="+b(String(_))]}var q=[];if(typeof _>"u")return q;var H;if(n==="comma"&&os(_))E&&u&&(_=Xm.maybeMap(_,u)),H=[{value:_.length>0?_.join(",")||null:void 0}];else if(os(d))H=d;else{var Q=Object.keys(_);H=f?Q.sort(f):Q}var G=l?r.replace(/\./g,"%2E"):r,F=i&&os(_)&&_.length===1?G+"[]":G;if(s&&os(_)&&_.length===0)return F+"[]";for(var D=0;D<H.length;++D){var V=H[D],W=typeof V=="object"&&typeof V.value<"u"?V.value:_[V];if(!(a&&W===null)){var B=p&&l?V.replace(/\./g,"%2E"):V,I=os(_)?typeof n=="function"?n(F,B):F:F+(p?"."+B:"["+B+"]");S.set(e,P);var z=aO();z.set(K1,S),uO(q,t(W,I,n,i,s,o,a,l,n==="comma"&&E&&os(_)?null:u,d,f,p,g,v,b,E,w,z))}}return q},WG=function(e){if(!e)return nr;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||nr.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=sd.default;if(typeof e.format<"u"){if(!jG.call(sd.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=sd.formatters[n],s=nr.filter;(typeof e.filter=="function"||os(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in lO?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=nr.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:nr.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:nr.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:nr.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:nr.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?nr.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:nr.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:nr.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:nr.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:nr.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:nr.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:nr.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:nr.strictNullHandling}},XG=function(t,e){var r=t,n=WG(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):os(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a=lO[n.arrayFormat],l=a==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var u=aO(),d=0;d<i.length;++d){var f=i[d];n.skipNulls&&r[f]===null||uO(o,VG(r[f],f,a,l,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}var p=o.join(n.delimiter),g=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),p.length>0?g+p:""},vc=oO,c_=Object.prototype.hasOwnProperty,qG=Array.isArray,Ht={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:vc.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},YG=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},cO=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},QG="utf8=%26%2310003%3B",KG="utf8=%E2%9C%93",ZG=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,l,u=r.charset;if(r.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===KG?u="utf-8":o[l]===QG&&(u="iso-8859-1"),a=l,l=o.length);for(l=0;l<o.length;++l)if(l!==a){var d=o[l],f=d.indexOf("]="),p=f===-1?d.indexOf("="):f+1,g,v;p===-1?(g=r.decoder(d,Ht.decoder,u,"key"),v=r.strictNullHandling?null:""):(g=r.decoder(d.slice(0,p),Ht.decoder,u,"key"),v=vc.maybeMap(cO(d.slice(p+1),r),function(E){return r.decoder(E,Ht.decoder,u,"value")})),v&&r.interpretNumericEntities&&u==="iso-8859-1"&&(v=YG(v)),d.indexOf("[]=")>-1&&(v=qG(v)?[v]:v);var b=c_.call(n,g);b&&r.duplicates==="combine"?n[g]=vc.combine(n[g],v):(!b||r.duplicates==="last")&&(n[g]=v)}return n},JG=function(t,e,r,n){for(var i=n?e:cO(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=r.allowEmptyArrays&&i===""?[]:[].concat(i);else{o=r.plainObjects?Object.create(null):{};var l=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,u=r.decodeDotInKeys?l.replace(/%2E/g,"."):l,d=parseInt(u,10);!r.parseArrays&&u===""?o={0:i}:!isNaN(d)&&a!==u&&String(d)===u&&d>=0&&r.parseArrays&&d<=r.arrayLimit?(o=[],o[d]=i):u!=="__proto__"&&(o[u]=i)}i=o}return i},eH=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=n.depth>0&&o.exec(s),u=l?s.slice(0,l.index):s,d=[];if(u){if(!n.plainObjects&&c_.call(Object.prototype,u)&&!n.allowPrototypes)return;d.push(u)}for(var f=0;n.depth>0&&(l=a.exec(s))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&c_.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(l[1])}return l&&d.push("["+s.slice(l.index)+"]"),JG(d,r,n,i)}},tH=function(e){if(!e)return Ht;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Ht.charset:e.charset,n=typeof e.duplicates>"u"?Ht.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Ht.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Ht.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Ht.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Ht.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Ht.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ht.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Ht.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Ht.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Ht.decoder,delimiter:typeof e.delimiter=="string"||vc.isRegExp(e.delimiter)?e.delimiter:Ht.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Ht.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Ht.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Ht.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Ht.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ht.strictNullHandling}},rH=function(t,e){var r=tH(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?ZG(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],l=eH(a,n[a],r,typeof t=="string");i=vc.merge(i,l,r)}return r.allowSparse===!0?i:vc.compact(i)},nH=XG,iH=rH,sH=tE,oH={formats:sH,parse:iH,stringify:nH},aH=$7;function Ys(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var lH=/^([a-z0-9.+-]+:)/i,uH=/:[0-9]*$/,cH=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,hH=["<",">",'"',"`"," ","\r",`
`,"	"],dH=["{","}","|","\\","^","`"].concat(hH),h_=["'"].concat(dH),TI=["%","/","?",";","#"].concat(h_),AI=["/","?","#"],fH=255,CI=/^[+a-z0-9A-Z_-]{0,63}$/,pH=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,mH={javascript:!0,"javascript:":!0},d_={javascript:!0,"javascript:":!0},Ku={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},f_=oH;function gH(t,e,r){if(t&&typeof t=="object"&&t instanceof Ys)return t;var n=new Ys;return n.parse(t,e,r),n}Ys.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var l=cH.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=f_.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=lH.exec(a);if(u){u=u[0];var d=u.toLowerCase();this.protocol=d,a=a.substr(u.length)}if(r||u||a.match(/^\/\/[^@/]+@[^@/]+/)){var f=a.substr(0,2)==="//";f&&!(u&&d_[u])&&(a=a.substr(2),this.slashes=!0)}if(!d_[u]&&(f||u&&!Ku[u])){for(var p=-1,g=0;g<AI.length;g++){var v=a.indexOf(AI[g]);v!==-1&&(p===-1||v<p)&&(p=v)}var b,E;p===-1?E=a.lastIndexOf("@"):E=a.lastIndexOf("@",p),E!==-1&&(b=a.slice(0,E),a=a.slice(E+1),this.auth=decodeURIComponent(b)),p=-1;for(var g=0;g<TI.length;g++){var v=a.indexOf(TI[g]);v!==-1&&(p===-1||v<p)&&(p=v)}p===-1&&(p=a.length),this.host=a.slice(0,p),a=a.slice(p),this.parseHost(),this.hostname=this.hostname||"";var w=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!w)for(var S=this.hostname.split(/\./),g=0,_=S.length;g<_;g++){var A=S[g];if(A&&!A.match(CI)){for(var P="",N=0,L=A.length;N<L;N++)A.charCodeAt(N)>127?P+="x":P+=A[N];if(!P.match(CI)){var k=S.slice(0,g),q=S.slice(g+1),H=A.match(pH);H&&(k.push(H[1]),q.unshift(H[2])),q.length&&(a="/"+q.join(".")+a),this.hostname=k.join(".");break}}}this.hostname.length>fH?this.hostname="":this.hostname=this.hostname.toLowerCase(),w||(this.hostname=aH.toASCII(this.hostname));var Q=this.port?":"+this.port:"",G=this.hostname||"";this.host=G+Q,this.href+=this.host,w&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!mH[d])for(var g=0,_=h_.length;g<_;g++){var F=h_[g];if(a.indexOf(F)!==-1){var D=encodeURIComponent(F);D===F&&(D=escape(F)),a=a.split(F).join(D)}}var V=a.indexOf("#");V!==-1&&(this.hash=a.substr(V),a=a.slice(0,V));var W=a.indexOf("?");if(W!==-1?(this.search=a.substr(W),this.query=a.substr(W+1),e&&(this.query=f_.parse(this.query)),a=a.slice(0,W)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Ku[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Q=this.pathname||"",B=this.search||"";this.path=Q+B}return this.href=this.format(),this};Ys.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=f_.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Ku[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+r+o+n};Ys.prototype.resolve=function(t){return this.resolveObject(gH(t,!1,!0)).format()};Ys.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new Ys;e.parse(t,!1,!0),t=e}for(var r=new Ys,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(r[l]=t[l])}return Ku[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Ku[t.protocol]){for(var u=Object.keys(t),d=0;d<u.length;d++){var f=u[d];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!d_[t.protocol]){for(var _=(t.pathname||"").split("/");_.length&&!(t.host=_.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),_[0]!==""&&_.unshift(""),_.length<2&&_.unshift(""),r.pathname=_.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var p=r.pathname||"",g=r.search||"";r.path=p+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var v=r.pathname&&r.pathname.charAt(0)==="/",b=t.host||t.pathname&&t.pathname.charAt(0)==="/",E=b||v||r.host&&t.pathname,w=E,S=r.pathname&&r.pathname.split("/")||[],_=t.pathname&&t.pathname.split("/")||[],A=r.protocol&&!Ku[r.protocol];if(A&&(r.hostname="",r.port=null,r.host&&(S[0]===""?S[0]=r.host:S.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(_[0]===""?_[0]=t.host:_.unshift(t.host)),t.host=null),E=E&&(_[0]===""||S[0]==="")),b)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,S=_;else if(_.length)S||(S=[]),S.pop(),S=S.concat(_),r.search=t.search,r.query=t.query;else if(t.search!=null){if(A){r.host=S.shift(),r.hostname=r.host;var P=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;P&&(r.auth=P.shift(),r.hostname=P.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var N=S.slice(-1)[0],L=(r.host||t.host||S.length>1)&&(N==="."||N==="..")||N==="",k=0,q=S.length;q>=0;q--)N=S[q],N==="."?S.splice(q,1):N===".."?(S.splice(q,1),k++):k&&(S.splice(q,1),k--);if(!E&&!w)for(;k--;k)S.unshift("..");E&&S[0]!==""&&(!S[0]||S[0].charAt(0)!=="/")&&S.unshift(""),L&&S.join("/").substr(-1)!=="/"&&S.push("");var H=S[0]===""||S[0]&&S[0].charAt(0)==="/";if(A){r.hostname=H?"":S.length?S.shift():"",r.host=r.hostname;var P=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;P&&(r.auth=P.shift(),r.hostname=P.shift(),r.host=r.hostname)}return E=E||r.host&&S.length,E&&!H&&S.unshift(""),S.length>0?r.pathname=S.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};Ys.prototype.parseHost=function(){var t=this.host,e=uH.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const II={};function Xe(t,e,r=3){if(II[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),II[e]=!0}function di(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function yh(t){return t.split("?")[0].split("#")[0]}function vH(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function yH(t,e,r){return t.replace(new RegExp(vH(e),"g"),r)}function bH(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const l=r.lastIndexOf("/");if(l!==r.length-1){l===-1?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,s=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+=`/${t.slice(i+1,a)}`:r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const _r={toPosix(t){return yH(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){di(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(di(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=yh(this.toPosix(e??be.ADAPTER.getBaseUrl())),i=yh(this.toPosix(r??this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?_r.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(di(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=bH(t,!1),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return di(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(di(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(di(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){di(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){di(t),e&&di(e),t=yh(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!i){r=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){di(t),t=yh(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){di(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=yh(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,l=!0,u=t.length-1,d=0;for(;u>=i;--u){if(r=t.charCodeAt(u),r===47){if(!l){o=u+1;break}continue}a===-1&&(l=!1,a=u+1),r===46?s===-1?s=u:d!==1&&(d=1):s!==-1&&(d=-1)}return s===-1||a===-1||d===0||d===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&n?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]};let Z1;async function xH(){return Z1??(Z1=(async()=>{var s;const t=document.createElement("canvas").getContext("webgl");if(!t)return fn.UNPACK;const e=await new Promise(o=>{const a=document.createElement("video");a.onloadeddata=()=>o(a),a.onerror=()=>o(null),a.autoplay=!1,a.crossOrigin="anonymous",a.preload="auto",a.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",a.load()});if(!e)return fn.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const i=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,i),t.deleteFramebuffer(n),t.deleteTexture(r),(s=t.getExtension("WEBGL_lose_context"))==null||s.loseContext(),i[0]<=i[3]?fn.PMA:fn.UNPACK})()),Z1}let J1;function _H(){return typeof J1>"u"&&(J1=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:be.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!be.ADAPTER.getWebGLRenderingContext())return!1;const r=be.ADAPTER.createCanvas();let n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const i=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),J1}var wH={grad:.9,turn:360,rad:360/(2*Math.PI)},Os=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},yr=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},Jn=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},hO=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},PI=function(t){return{r:Jn(t.r,0,255),g:Jn(t.g,0,255),b:Jn(t.b,0,255),a:Jn(t.a)}},eb=function(t){return{r:yr(t.r),g:yr(t.g),b:yr(t.b),a:yr(t.a,3)}},SH=/^#([0-9a-f]{3,8})$/i,Bp=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},dO=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),a=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},fO=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),a=n*(1-(e-s)*r),l=n*(1-(1-e+s)*r),u=s%6;return{r:255*[n,a,o,o,l,n][u],g:255*[l,n,n,a,o,o][u],b:255*[o,o,l,n,n,a][u],a:i}},MI=function(t){return{h:hO(t.h),s:Jn(t.s,0,100),l:Jn(t.l,0,100),a:Jn(t.a)}},kI=function(t){return{h:yr(t.h),s:yr(t.s),l:yr(t.l),a:yr(t.a,3)}},NI=function(t){return fO((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},od=function(t){return{h:(e=dO(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},EH=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,TH=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,AH=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,CH=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p_={string:[[function(t){var e=SH.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?yr(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?yr(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=AH.exec(t)||CH.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:PI({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=EH.exec(t)||TH.exec(t);if(!e)return null;var r,n,i=MI({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(wH[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return NI(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return Os(e)&&Os(r)&&Os(n)?PI({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!Os(e)||!Os(r)||!Os(n))return null;var o=MI({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return NI(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!Os(e)||!Os(r)||!Os(n))return null;var o=function(a){return{h:hO(a.h),s:Jn(a.s,0,100),v:Jn(a.v,0,100),a:Jn(a.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return fO(o)},"hsv"]]},RI=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},IH=function(t){return typeof t=="string"?RI(t.trim(),p_.string):typeof t=="object"&&t!==null?RI(t,p_.object):[null,void 0]},tb=function(t,e){var r=od(t);return{h:r.h,s:Jn(r.s+100*e,0,100),l:r.l,a:r.a}},rb=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},OI=function(t,e){var r=od(t);return{h:r.h,s:r.s,l:Jn(r.l+100*e,0,100),a:r.a}},m_=function(){function t(e){this.parsed=IH(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return yr(rb(this.rgba),2)},t.prototype.isDark=function(){return rb(this.rgba)<.5},t.prototype.isLight=function(){return rb(this.rgba)>=.5},t.prototype.toHex=function(){return e=eb(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?Bp(yr(255*s)):"","#"+Bp(r)+Bp(n)+Bp(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return eb(this.rgba)},t.prototype.toRgbString=function(){return e=eb(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return kI(od(this.rgba))},t.prototype.toHslString=function(){return e=kI(od(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=dO(this.rgba),{h:yr(e.h),s:yr(e.s),v:yr(e.v),a:yr(e.a,3)};var e},t.prototype.invert=function(){return Ji({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Ji(tb(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Ji(tb(this.rgba,-e))},t.prototype.grayscale=function(){return Ji(tb(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Ji(OI(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Ji(OI(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Ji({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):yr(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=od(this.rgba);return typeof e=="number"?Ji({h:e,s:r.s,l:r.l,a:r.a}):yr(r.h)},t.prototype.isEqual=function(e){return this.toHex()===Ji(e).toHex()},t}(),Ji=function(t){return t instanceof m_?t:new m_(t)},DI=[],PH=function(t){t.forEach(function(e){DI.indexOf(e)<0&&(e(m_,p_),DI.push(e))})};function MH(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,u=n[this.toHex()];if(u)return u;if(o!=null&&o.closest){var d=this.toRgb(),f=1/0,p="black";if(!s.length)for(var g in r)s[g]=new t(r[g]).toRgb();for(var v in r){var b=(a=d,l=s[v],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));b<f&&(f=b,p=v)}return p}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":r[a];return l?new t(l).toRgb():null},"name"])}PH([MH]);const pu=class qm{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof qm)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((i,s)=>i===r[s]);if(e!==null&&r!==null){const i=Object.keys(e),s=Object.keys(r);return i.length!==s.length?!1:i.every(o=>e[o]===r[o])}return e===r}toRgba(){const[e,r,n,i]=this._components;return{r:e,g:r,b:n,a:i}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return`rgba(${e},${r},${n},${this.alpha})`}toUint8RgbArray(e){const[r,n,i]=this._components;return e=e??[],e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toRgbArray(e){e=e??[];const[r,n,i]=this._components;return e[0]=r,e[1]=n,e[2]=i,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,i,s]=qm.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return r&&(n=n*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[r,n,i]=this._components;return this._components[0]=Math.round(r*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[r,n,i,s]=this._components;return e[0]=r,e[1]=n,e[2]=i,e[3]=s,e}normalize(e){let r,n,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;r=(o>>16&255)/255,n=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,i,s=255]=e,r/=255,n/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const a=qm.HEX_PATTERN.exec(e);a&&(e=`#${a[2]}`)}const o=Ji(e);o.isValid()&&({r,g:n,b:i,a:s}=o.rgba,r/=255,n/=255,i/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,r),n)}),e)}};pu.shared=new pu,pu.temp=new pu,pu.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let gt=pu;function gv(t,e=[]){return Xe("7.2.0","utils.hex2rgb is deprecated, use Color#toRgbArray instead"),gt.shared.setValue(t).toRgbArray(e)}function kH(t){return Xe("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),gt.shared.setValue(t).toHex()}function vv(t){return Xe("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),gt.shared.setValue(t).toNumber()}function NH(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[De.NORMAL_NPM]=De.NORMAL,t[De.ADD_NPM]=De.ADD,t[De.SCREEN_NPM]=De.SCREEN,e[De.NORMAL]=De.NORMAL_NPM,e[De.ADD]=De.ADD_NPM,e[De.SCREEN]=De.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const pO=NH();function mO(t,e){return pO[e?1:0][t]}function RH(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function gO(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function o0(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function LI(t){return!(t&t-1)&&!!t}function FI(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function Zu(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function Jo(t){return t===0?0:t<0?-1:1}let OH=0;function Il(){return++OH}const g_=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};g_.EMPTY=new g_(0,0,0,0);let UI=g_;const BI={},es=Object.create(null),Io=Object.create(null);class DH{constructor(e,r,n){this._canvas=be.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||be.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function zI(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function jI(t,e,r,n,i){const s=4*e;for(let o=n,a=n*s+4*r;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function LH(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,e,r).data;let s=0,o=0,a=e-1,l=r-1;for(;o<r&&zI(i,e,o);)++o;if(o===r)return UI.EMPTY;for(;zI(i,e,l);)--l;for(;jI(i,e,s,o,l);)++s;for(;jI(i,e,a,o,l);)--a;return++a,++l,new UI(s,o,a,l)}function FH(t){const e=LH(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}function UH(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function to(t,e=1){var n;const r=(n=be.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var ye=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(ye||{});const v_=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},$I=(t,e)=>v_(t).priority??e,Ie={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(v_).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(v_).forEach(e=>{e.type.forEach(r=>{var s,o;const n=this._addHandlers,i=this._queue;n[r]?(s=n[r])==null||s.call(n,e):(i[r]=i[r]||[],(o=i[r])==null||o.push(e))})}),this},handle(t,e,r){var o;const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&((o=s[t])==null||o.forEach(a=>e(a)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{r.name&&(e[r.name]=r.ref)},r=>{r.name&&delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>$I(s,r)-$I(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class y_{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const BH=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function zH(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function jH(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=BH.replace(/%forloop%/gi,zH(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const nb=0,ib=1,sb=2,ob=3,ab=4,lb=5;class Es{constructor(){this.data=0,this.blendMode=De.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<nb)}set blend(e){!!(this.data&1<<nb)!==e&&(this.data^=1<<nb)}get offsets(){return!!(this.data&1<<ib)}set offsets(e){!!(this.data&1<<ib)!==e&&(this.data^=1<<ib)}get culling(){return!!(this.data&1<<sb)}set culling(e){!!(this.data&1<<sb)!==e&&(this.data^=1<<sb)}get depthTest(){return!!(this.data&1<<ob)}set depthTest(e){!!(this.data&1<<ob)!==e&&(this.data^=1<<ob)}get depthMask(){return!!(this.data&1<<lb)}set depthMask(e){!!(this.data&1<<lb)!==e&&(this.data^=1<<lb)}get clockwiseFrontFace(){return!!(this.data&1<<ab)}set clockwiseFrontFace(e){!!(this.data&1<<ab)!==e&&(this.data^=1<<ab)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==De.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Es;return e.depthTest=!1,e.blend=!0,e}}Es.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const b_=[];function vO(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=b_.length-1;n>=0;--n){const i=b_[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class ki{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:u,items:d}=this;this._aliasCount++;for(let f=0,p=d.length;f<p;f++)d[f][u](e,r,n,i,s,o,a,l);return d===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(ki.prototype,{dispatch:{value:ki.prototype.emit},run:{value:ki.prototype.emit}});class Od{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new ki("setRealSize"),this.onUpdate=new ki("update"),this.onError=new ki("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class yv extends Od{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e,this.unpackAlignment=r.unpackAlignment??4}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===fn.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const $H={scaleMode:Ti.NEAREST,alphaMode:fn.NPM},x_=class mu extends cf{constructor(e=null,r=null){super(),r=Object.assign({},mu.defaultOptions,r);const{alphaMode:n,mipmap:i,anisotropicLevel:s,scaleMode:o,width:a,height:l,wrapMode:u,format:d,type:f,target:p,resolution:g,resourceOptions:v}=r;e&&!(e instanceof Od)&&(e=vO(e,v),e.internal=!0),this.resolution=g||be.RESOLUTION,this.width=Math.round((a||0)*this.resolution)/this.resolution,this.height=Math.round((l||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=s,this._wrapMode=u,this._scaleMode=o,this.format=d,this.type=f,this.target=p,this.alphaMode=n,this.uid=Il(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&l>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,r){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,n=!0),n&&this.dirtyStyleId++,this}setSize(e,r,n){return n=n||this.resolution,this.setRealSize(e*n,r*n,n)}setRealSize(e,r,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=LI(this.realWidth)&&LI(this.realHeight)}setResolution(e){const r=this.resolution;return r===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Io[this.cacheId],delete es[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),mu.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r,n=be.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${Il()}`}s=e._pixiId}let o=Io[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return o||(o=new mu(e,r),o.cacheId=s,mu.addToCache(o,s)),o}static fromBuffer(e,r,n,i){e=e||new Float32Array(r*n*4);const s=new yv(e,{width:r,height:n,...i==null?void 0:i.resourceOptions});let o,a;return e instanceof Float32Array?(o=ce.RGBA,a=Re.FLOAT):e instanceof Int32Array?(o=ce.RGBA_INTEGER,a=Re.INT):e instanceof Uint32Array?(o=ce.RGBA_INTEGER,a=Re.UNSIGNED_INT):e instanceof Int16Array?(o=ce.RGBA_INTEGER,a=Re.SHORT):e instanceof Uint16Array?(o=ce.RGBA_INTEGER,a=Re.UNSIGNED_SHORT):e instanceof Int8Array?(o=ce.RGBA,a=Re.BYTE):(o=ce.RGBA,a=Re.UNSIGNED_BYTE),s.internal=!0,new mu(s,Object.assign({},$H,{type:a,format:o},i))}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Io[r]&&Io[r]!==e&&console.warn(`BaseTexture added to the cache with an id [${r}] that already had an entry`),Io[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Io[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete Io[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)delete Io[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}};x_.defaultOptions={mipmap:xs.POW2,anisotropicLevel:0,scaleMode:Ti.LINEAR,wrapMode:qs.CLAMP,alphaMode:fn.UNPACK,target:Yu.TEXTURE_2D,format:ce.RGBA,type:Re.UNSIGNED_BYTE},x_._globalBatch=0;let ze=x_;class __{constructor(){this.texArray=null,this.blend=0,this.type=Ei.TRIANGLES,this.start=0,this.size=0,this.data=null}}let GH=0,or=class yO{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=GH++,this.disposeRunner=new ki("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?ys.ELEMENT_ARRAY_BUFFER:ys.ARRAY_BUFFER}get index(){return this.type===ys.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new yO(e)}};class a0{constructor(e,r=0,n=!1,i=Re.FLOAT,s,o,a,l=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=l}destroy(){this.buffer=null}static from(e,r,n,i,s){return new a0(e,r,n,i,s)}}const HH={Float32Array,Uint32Array,Int32Array,Uint8Array};function VH(t,e){let r=0,n=0;const i={};for(let l=0;l<t.length;l++)n+=e[l],r+=t[l].length;const s=new ArrayBuffer(r*4);let o=null,a=0;for(let l=0;l<t.length;l++){const u=e[l],d=t[l],f=gO(d);i[f]||(i[f]=new HH[f](s)),o=i[f];for(let p=0;p<d.length;p++){const g=(p/u|0)*n+a,v=p%u;o[g+v]=d[p]}a+=u}return new Float32Array(s)}const GI={5126:4,5123:2,5121:1};let WH=0;const XH={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class ma{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=WH++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new ki("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,a,l=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof or||(r instanceof Array&&(r=new Float32Array(r)),r=new or(r));const u=e.split("|");if(u.length>1){for(let f=0;f<u.length;f++)this.addAttribute(u[f],r,n,i,s);return this}let d=this.buffers.indexOf(r);return d===-1&&(this.buffers.push(r),d=this.buffers.length-1),this.attributes[e]=new a0(d,n,i,s,o,a,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof or||(e instanceof Array&&(e=new Uint16Array(e)),e=new or(e)),e.type=ys.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new or;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*GI[s.type]/4),s.buffer=0}for(n.data=VH(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new ma;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new or(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new a0(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=ys.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new ma,n=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)i[l]=i[l]||0,i[l]+=o.buffers[l].data.length,s[l]=0}for(let a=0;a<o.buffers.length;a++)n[a]=new XH[gO(o.buffers[a].data)](i[a]),r.buffers[a]=new or(n[a]);for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)n[l].set(o.buffers[l].data,s[l]),s[l]+=o.buffers[l].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=ys.ELEMENT_ARRAY_BUFFER;let a=0,l=0,u=0,d=0;for(let f=0;f<o.buffers.length;f++)if(o.buffers[f]!==o.indexBuffer){d=f;break}for(const f in o.attributes){const p=o.attributes[f];(p.buffer|0)===d&&(l+=p.size*GI[p.type]/4)}for(let f=0;f<e.length;f++){const p=e[f].indexBuffer.data;for(let g=0;g<p.length;g++)r.indexBuffer.data[g+u]+=a;a+=e[f].buffers[d].data.length/l,u+=p.length}}return r}}class bO extends ma{constructor(e=!1){super(),this._buffer=new or(null,e,!1),this._indexBuffer=new or(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Re.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Re.FLOAT).addAttribute("aColor",this._buffer,4,!0,Re.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Re.FLOAT).addIndex(this._indexBuffer)}}const l0=Math.PI*2,qH=180/Math.PI,Dd=Math.PI/180;var Ir=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Ir||{});class je{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new je(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}}je.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const zp=[new je,new je,new je,new je];class Ge{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Ir.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Ge(0,0,0,0)}clone(){return new Ge(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const k=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=k)return!1;const q=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>q}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const a=zp[0].set(e.left,e.top),l=zp[1].set(e.left,e.bottom),u=zp[2].set(e.right,e.top),d=zp[3].set(e.right,e.bottom);if(u.x<=a.x||l.y<=a.y)return!1;const f=Math.sign(r.a*r.d-r.b*r.c);if(f===0||(r.apply(a,a),r.apply(l,l),r.apply(u,u),r.apply(d,d),Math.max(a.x,l.x,u.x,d.x)<=n||Math.min(a.x,l.x,u.x,d.x)>=i||Math.max(a.y,l.y,u.y,d.y)<=s||Math.min(a.y,l.y,u.y,d.y)>=o))return!1;const p=f*(l.y-a.y),g=f*(a.x-l.x),v=p*n+g*s,b=p*i+g*s,E=p*n+g*o,w=p*i+g*o;if(Math.max(v,b,E,w)<=p*a.x+g*a.y||Math.min(v,b,E,w)>=p*d.x+g*d.y)return!1;const S=f*(a.y-u.y),_=f*(u.x-a.x),A=S*n+_*s,P=S*i+_*s,N=S*n+_*o,L=S*i+_*o;return!(Math.max(A,P,N,L)<=S*a.x+_*a.y||Math.min(A,P,N,L)>=S*d.x+_*d.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}}Ge.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class bv{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=Ir.CIRC}clone(){return new bv(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new Ge(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}bv.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class xv{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=Ir.ELIP}clone(){return new xv(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new Ge(this.x-this.width,this.y-this.height,this.width,this.height)}}xv.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class vl{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=Ir.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new vl(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],l=this.points[s*2+1],u=this.points[o*2],d=this.points[o*2+1];l>r!=d>r&&e<(u-a)*((r-l)/(d-l))+a&&(n=!n)}return n}}vl.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`};class _v{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=Ir.RREC}clone(){return new _v(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}}_v.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class Tt{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new je;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new je;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,a,l,u){return this.a=Math.cos(a+u)*s,this.b=Math.sin(a+u)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),l=Math.atan2(n,r),u=Math.abs(a+l);return u<1e-5||Math.abs(l0-u)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Tt;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new Tt}static get TEMP_MATRIX(){return new Tt}}Tt.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Xa=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],qa=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Ya=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Qa=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],w_=[],xO=[],jp=Math.sign;function YH(){for(let t=0;t<16;t++){const e=[];w_.push(e);for(let r=0;r<16;r++){const n=jp(Xa[t]*Xa[r]+Ya[t]*qa[r]),i=jp(qa[t]*Xa[r]+Qa[t]*qa[r]),s=jp(Xa[t]*Ya[r]+Ya[t]*Qa[r]),o=jp(qa[t]*Ya[r]+Qa[t]*Qa[r]);for(let a=0;a<16;a++)if(Xa[a]===n&&qa[a]===i&&Ya[a]===s&&Qa[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new Tt;e.set(Xa[t],qa[t],Ya[t],Qa[t],0,0),xO.push(e)}}YH();const Ot={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Xa[t],uY:t=>qa[t],vX:t=>Ya[t],vY:t=>Qa[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>w_[t][e],sub:(t,e)=>w_[t][Ot.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?Ot.S:Ot.N:Math.abs(e)*2<=Math.abs(t)?t>0?Ot.E:Ot.W:e>0?t>0?Ot.SE:Ot.SW:t>0?Ot.NE:Ot.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=xO[Ot.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class Ai{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new Ai(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}Ai.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const S_=class{constructor(){this.worldTransform=new Tt,this.localTransform=new Tt,this.position=new Ai(this.onChange,this,0,0),this.scale=new Ai(this.onChange,this,1,1),this.pivot=new Ai(this.onChange,this,0,0),this.skew=new Ai(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};S_.IDENTITY=new S_;let wv=S_;wv.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var QH=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,KH=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function HI(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function ub(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function _O(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return ub(2*e);case"bvec3":return ub(3*e);case"bvec4":return ub(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Ju=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],ZH={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},JH={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function eV(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){((n=t.uniforms[i])==null?void 0:n.group)===!0&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let l=0;l<Ju.length;l++)if(Ju[l].test(s,o)){r.push(Ju[l].code(i,o)),a=!0;break}if(!a){const l=(s.size===1&&!s.isArray?ZH:JH)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${l};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const wO={};let uu=wO;function tV(){if(uu===wO||uu!=null&&uu.isContextLost()){const t=be.ADAPTER.createCanvas();let e;be.PREFER_ENV>=Dl.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),uu=e}return uu}let $p;function rV(){if(!$p){$p=Zn.MEDIUM;const t=tV();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&($p=e.precision?Zn.HIGH:Zn.MEDIUM)}}return $p}function VI(t,e){const r=t.getShaderSource(e).split(`
`).map((u,d)=>`${d}: ${u}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(u=>parseFloat(u.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(u=>u&&!s[u]?(s[u]=!0,!0):!1),a=[""];o.forEach(u=>{r[u-1]=`%c${r[u-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=r.join(`
`);a[0]=l,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function nV(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||VI(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||VI(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const iV={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function SO(t){return iV[t]}let Gp=null;const WI={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function EO(t,e){if(!Gp){const r=Object.keys(WI);Gp={};for(let n=0;n<r.length;++n){const i=r[n];Gp[t[i]]=WI[i]}}return Gp[e]}function XI(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===Zn.HIGH&&r!==Zn.HIGH&&(n=Zn.MEDIUM),`precision ${n} float;
${t}`}else if(r!==Zn.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let bh;function sV(){if(typeof bh=="boolean")return bh;try{bh=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{bh=!1}return bh}let oV=0;const Hp={},E_=class gu{constructor(e,r,n="pixi-shader",i={}){this.extra={},this.id=oV++,this.vertexSrc=e||gu.defaultVertexSrc,this.fragmentSrc=r||gu.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Hp[n]?(Hp[n]++,n+=`-${Hp[n]}`):Hp[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=XI(this.vertexSrc,gu.defaultVertexPrecision,Zn.HIGH),this.fragmentSrc=XI(this.fragmentSrc,gu.defaultFragmentPrecision,rV())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return KH}static get defaultFragmentSrc(){return QH}static from(e,r,n){const i=e+r;let s=BI[i];return s||(BI[i]=s=new gu(e,r,n)),s}};E_.defaultVertexPrecision=Zn.HIGH,E_.defaultFragmentPrecision=$s.apple.device?Zn.HIGH:Zn.MEDIUM;let Gs=E_,aV=0;class Ni{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=aV++,this.static=!!r,this.ubo=!!n,e instanceof or?(this.buffer=e,this.buffer.type=ys.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new or(new Float32Array(1)),this.buffer.type=ys.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new Ni(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new Ni(e,r,n)}static uboFrom(e,r){return new Ni(e,r??!0,!0)}}class bs{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof Ni?this.uniformGroup=r:this.uniformGroup=new Ni(r):this.uniformGroup=new Ni({}),this.disposeRunner=new ki("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group===!0&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=Gs.from(e,r);return new bs(i,n)}}class lV{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=Ni.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Gs(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new Tt,default:this.defaultGroupCache[e]};return new bs(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class T_{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function uV(){return!$s.apple.device}function cV(t){let e=!0;const r=be.ADAPTER.getNavigator();if($s.tablet||$s.phone){if($s.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if($s.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class Sv{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var hV=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,dV=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Nh=class pi extends Sv{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=bO,this.vertexSize=6,this.state=Es.for2d(),this.size=pi.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??cV(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??uV(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return Xe("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return dV}static get defaultFragmentTemplate(){return hV}setShaderGenerator({vertex:e=pi.defaultVertexSrc,fragment:r=pi.defaultFragmentTemplate}={}){this.shaderGenerator=new lV(e,r)}contextChange(){const e=this.renderer.gl;be.PREFER_ENV===Dl.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),pi.defaultMaxTextures),this.maxTextures=jH(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=pi,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new __);for(;r.length<i;)r.push(new T_);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,n=pi._textureArrayPool,i=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count;let a=++ze._globalBatch,l=0,u=n[0],d=0;i.copyBoundTextures(s,r);for(let f=0;f<this._bufferSize;++f){const p=e[f];e[f]=null,p._batchEnabled!==a&&(u.count>=r&&(i.boundArray(u,s,a,r),this.buildDrawCalls(u,d,f),d=f,u=n[++l],++a),p._batchEnabled=a,p.touched=o,u.elements[u.count++]=p)}u.count>0&&(i.boundArray(u,s,a,r),this.buildDrawCalls(u,d,this._bufferSize),++l,++a);for(let f=0;f<s.length;f++)s[f]=null;ze._globalBatch=a}buildDrawCalls(e,r,n){const{_bufferedElements:i,_attributeBuffer:s,_indexBuffer:o,vertexSize:a}=this,l=pi._drawCallPool;let u=this._dcIndex,d=this._aIndex,f=this._iIndex,p=l[u];p.start=this._iIndex,p.texArray=e;for(let g=r;g<n;++g){const v=i[g],b=v._texture.baseTexture,E=pO[b.alphaMode?1:0][v.blendMode];i[g]=null,r<g&&p.blend!==E&&(p.size=f-p.start,r=g,p=l[++u],p.texArray=e,p.start=f),this.packInterleavedGeometry(v,s,o,d,f),d+=v.vertexData.length/2*a,f+=v.indices.length,p.blend=E}r<n&&(p.size=f-p.start,++u),this._dcIndex=u,this._aIndex=d,this._iIndex=f}bindAndClearTexArray(e){const r=this.renderer.texture;for(let n=0;n<e.count;n++)r.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:n}=this;pi.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:n}=this.renderer,i=pi._drawCallPool;let s=null;for(let o=0;o<e;o++){const{texArray:a,type:l,size:u,start:d,blend:f}=i[o];s!==a&&(s=a,this.bindAndClearTexArray(a)),this.state.blendMode=f,n.set(this.state),r.drawElements(l,u,r.UNSIGNED_SHORT,d*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),pi.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const r=o0(Math.ceil(e/8)),n=FI(r),i=r*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._aBuffers[i];return s||(this._aBuffers[i]=s=new y_(i*this.vertexSize*4)),s}getIndexBuffer(e){const r=o0(Math.ceil(e/12)),n=FI(r),i=r*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._iBuffers[n];return s||(this._iBuffers[n]=s=new Uint16Array(i)),s}packInterleavedGeometry(e,r,n,i,s){const{uint32View:o,float32View:a}=r,l=i/this.vertexSize,u=e.uvs,d=e.indices,f=e.vertexData,p=e._texture.baseTexture._batchLocation,g=Math.min(e.worldAlpha,1),v=gt.shared.setValue(e._tintRGB).toPremultiplied(g,e._texture.baseTexture.alphaMode>0);for(let b=0;b<f.length;b+=2)a[i++]=f[b],a[i++]=f[b+1],a[i++]=u[b],a[i++]=u[b+1],o[i++]=v,a[i++]=p;for(let b=0;b<d.length;b++)n[s++]=l+d[b]}};Nh.defaultBatchSize=4096,Nh.extension={name:"batch",type:ye.RendererPlugin},Nh._drawCallPool=[],Nh._textureArrayPool=[];let Ka=Nh;Ie.add(Ka);var fV=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,pV=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const A_=class Rh extends bs{constructor(e,r,n){const i=Gs.from(e||Rh.defaultVertexSrc,r||Rh.defaultFragmentSrc);super(i,n),this.padding=0,this.resolution=Rh.defaultResolution,this.multisample=Rh.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Es}apply(e,r,n,i,s){e.applyFilter(this,r,n,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return pV}static get defaultFragmentSrc(){return fV}};A_.defaultResolution=1,A_.defaultMultisample=Kt.NONE;let tt=A_;class u0{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new gt(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}u0.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},u0.extension={type:[ye.RendererSystem,ye.CanvasRendererSystem],name:"background"};Ie.add(u0);class TO{constructor(e){this.renderer=e,this.emptyRenderer=new Sv(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:a}=e;let l=0;for(let u=0;u<a;u++){const d=s[u],f=d._batchLocation;if(f>=0&&f<i&&r[f]===d){o[u]=f;continue}for(;l<i;){const p=r[l];if(p&&p._batchEnabled===n&&p._batchLocation===l){l++;continue}o[u]=l,d._batchLocation=l,r[l]=d;break}}}destroy(){this.renderer=null}}TO.extension={type:ye.RendererSystem,name:"batch"};Ie.add(TO);let qI=0;class c0{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=qI++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=qI++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(be.PREFER_ENV>=Dl.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}c0.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},c0.extension={type:ye.RendererSystem,name:"context"};Ie.add(c0);class C_{constructor(e,r){if(this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new ki("disposeFramebuffer"),this.multisample=Kt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new ze(null,{scaleMode:Ti.NEAREST,resolution:1,mipmap:xs.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new ze(null,{scaleMode:Ti.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:xs.OFF,format:ce.DEPTH_COMPONENT,type:Re.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!e||!r)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class AO extends ze{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=Kt.NONE),super(null,e),this.mipmap=xs.OFF,this.valid=!0,this._clear=new gt([0,0,0,0]),this.framebuffer=new C_(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class ro extends Od{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.displayWidth||r.width,i=r.naturalHeight||r.videoHeight||r.displayHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=UH(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,a=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===fn.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=a,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class CO extends ro{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;ro.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??be.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===fn.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const a=s[o];if(a!==n&&a.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class rE{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,a=e.height/2/s,l=e.x/i+o,u=e.y/s+a;n=Ot.add(n,Ot.NW),this.x0=l+o*Ot.uX(n),this.y0=u+a*Ot.uY(n),n=Ot.add(n,2),this.x1=l+o*Ot.uX(n),this.y1=u+a*Ot.uY(n),n=Ot.add(n,2),this.x2=l+o*Ot.uX(n),this.y2=u+a*Ot.uY(n),n=Ot.add(n,2),this.x3=l+o*Ot.uX(n),this.y3=u+a*Ot.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}rE.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const YI=new rE;function Vp(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class ve extends cf{constructor(e,r,n,i,s,o,a){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Ge(0,0,1,1)),e instanceof ve&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=YI,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new je(o.x,o.y):new je(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&es[r.url]&&ve.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ve.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new ve(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===YI&&(this._uvs=new rE),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=be.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof ze){if(!e.cacheId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${Il()}`,ze.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${Il()}`}s=e._pixiId}let o=es[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof ze)?(r.resolution||(r.resolution=to(e)),o=new ve(new ze(e,r)),o.baseTexture.cacheId=s,ze.addToCache(o.baseTexture,s),ve.addToCache(o,s)):!o&&e instanceof ze&&(o=new ve(e),ve.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=ve.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new ve(ze.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new ze(e,Object.assign({scaleMode:ze.defaultOptions.scaleMode,resolution:to(r)},i)),{resource:o}=s;o instanceof CO&&(o.url=r);const a=new ve(s);return n||(n=r),ze.addToCache(a.baseTexture,n),ve.addToCache(a,n),n!==r&&(ze.addToCache(a.baseTexture,r),ve.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise(l=>{a.baseTexture.once("loaded",()=>l(a))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),es[r]&&es[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),es[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=es[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete es[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)es[e.textureCacheIds[r]]===e&&delete es[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,a=n+s>this.baseTexture.height;if(o||a){const l=o&&a?"and":"or",u=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,d=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${u} ${l} ${d}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return ve._EMPTY||(ve._EMPTY=new ve(new ze),Vp(ve._EMPTY),Vp(ve._EMPTY.baseTexture)),ve._EMPTY}static get WHITE(){if(!ve._WHITE){const e=be.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),ve._WHITE=new ve(ze.from(e)),Vp(ve._WHITE),Vp(ve._WHITE.baseTexture)}return ve._WHITE}}class Ll extends ve{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new Ll(new AO(e))}}class IO{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=Kt.NONE){const i=new AO(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new Ll(i)}getOptimalTexture(e,r,n=1,i=Kt.NONE){let s;e=Math.max(Math.ceil(e*n-1e-6),1),r=Math.max(Math.ceil(r*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=o0(e),r=o0(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||Kt.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}IO.SCREEN_KEY=-1;class mV extends ma{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class PO extends ma{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new or(this.vertices),this.uvBuffer=new or(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class gV{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Kt.NONE,this.sourceFrame=new Ge,this.destinationFrame=new Ge,this.bindingSourceFrame=new Ge,this.bindingDestinationFrame=new Ge,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Wp=[new je,new je,new je,new je],cb=new Tt;class MO{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new IO,this.statePool=[],this.quad=new mV,this.quadUv=new PO,this.tempRect=new Ge,this.activeState={},this.globalUniforms=new Ni({outputFrame:new Ge,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new gV,o=n.renderTexture;let a,l;if(o.current){const E=o.current;a=E.resolution,l=E.multisample}else a=n.resolution,l=n.multisample;let u=r[0].resolution||a,d=r[0].multisample??l,f=r[0].padding,p=r[0].autoFit,g=r[0].legacy??!0;for(let E=1;E<r.length;E++){const w=r[E];u=Math.min(u,w.resolution||a),d=Math.min(d,w.multisample??l),f=this.useMaxPadding?Math.max(f,w.padding):f+w.padding,p=p&&w.autoFit,g=g||(w.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=u,s.multisample=d,s.legacy=g,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(f);const v=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(cb.copyFrom(n.projection.transform).invert(),v),p?(s.sourceFrame.fit(v),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(v)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,u,d),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const b=this.tempRect;b.x=0,b.y=0,b.width=s.sourceFrame.width,b.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,b),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const u=i.filterArea;u[0]=r.destinationFrame.width,u[1]=r.destinationFrame.height,u[2]=r.sourceFrame.x,u[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,l.renderTexture,ls.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let u=r.renderTexture,d=this.getOptimalFilterTexture(u.width,u.height,r.resolution);d.filterFrame=u.filterFrame;let f=0;for(f=0;f<n.length-1;++f){f===1&&r.multisample>1&&(d=this.getOptimalFilterTexture(u.width,u.height,r.resolution),d.filterFrame=u.filterFrame),n[f].apply(this,u,d,ls.CLEAR,r);const p=u;u=d,d=p}n[f].apply(this,u,l.renderTexture,ls.BLEND,r),f>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(d)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=ls.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===ls.CLEAR||r===ls.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Ei.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Ei.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),a=r.worldTransform.copyTo(Tt.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=Kt.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||Kt.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=Wp[0],i=Wp[1],s=Wp[2],o=Wp[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(n.x,i.x,s.x,o.x),l=Math.min(n.y,i.y,s.y,o.y),u=Math.max(n.x,i.x,s.x,o.x),d=Math.max(n.y,i.y,s.y,o.y);r.x=a,r.y=l,r.width=u-a,r.height=d-l}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:a,c:l,d:u}=s;if((Math.abs(a)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(u)>1e-4))return}s=s?cb.copyFrom(s):cb.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}MO.extension={type:ye.RendererSystem,name:"filter"};Ie.add(MO);class vV{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Kt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const yV=new Ge;class kO{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new C_(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ge,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;be.PREFER_ENV===Dl.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,a=r.height>>n,l=o/r.width;this.setViewport(r.x*l,r.y*l,o,a)}else{const o=e.width>>n,a=e.height>>n;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=e_.COLOR|e_.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new vV(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){r.bindRenderbuffer(r.RENDERBUFFER,n.stencil);let o;this.renderer.context.webGLVersion===1?o=r.DEPTH_STENCIL:e.depth&&e.stencil?o=r.DEPTH24_STENCIL8:e.depth?o=r.DEPTH_COMPONENT24:o=r.STENCIL_INDEX8,n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,o,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,o,e.width,e.height)}const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],l=a.parentTextureArray||a;this.renderer.texture.bind(l,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let l=0;l<o;l++){const u=s[l],d=u.parentTextureArray||u;this.renderer.texture.bind(d,0),l===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,d._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+l,u.target,d._glTextures[this.CONTEXT_UID].texture,r),a.push(n.COLOR_ATTACHMENT0+l))}if(a.length>1&&n.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const l=e.depthTexture;this.renderer.texture.bind(l,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,l._glTextures[this.CONTEXT_UID].texture,r)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){i.stencil=i.stencil||n.createRenderbuffer();let l,u;this.renderer.context.webGLVersion===1?(l=n.DEPTH_STENCIL_ATTACHMENT,u=n.DEPTH_STENCIL):e.depth&&e.stencil?(l=n.DEPTH_STENCIL_ATTACHMENT,u=n.DEPTH24_STENCIL8):e.depth?(l=n.DEPTH_ATTACHMENT,u=n.DEPTH_COMPONENT24):(l=n.STENCIL_ATTACHMENT,u=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,u,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,u,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,l,n.RENDERBUFFER,i.stencil)}else i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=Kt.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=Kt.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const l=i.glFramebuffers[a];if(!l)return;if(!e){if(!l.msaaBuffer)return;const d=i.colorTextures[0];if(!d)return;l.blitFramebuffer||(l.blitFramebuffer=new C_(i.width,i.height),l.blitFramebuffer.addColorTexture(0,d)),e=l.blitFramebuffer,e.colorTextures[0]!==d&&(e.colorTextures[0]=d,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=yV,r.width=i.width,r.height=i.height),n||(n=r);const u=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,l.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,u?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=r.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o);let a,l;this.renderer.context.webGLVersion===1?(a=s.DEPTH_STENCIL_ATTACHMENT,l=s.DEPTH_STENCIL):e.depth?(a=s.DEPTH_STENCIL_ATTACHMENT,l=s.DEPTH24_STENCIL8):(a=s.STENCIL_ATTACHMENT,l=s.STENCIL_INDEX8),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,l,n,i):s.renderbufferStorage(s.RENDERBUFFER,l,n,i),s.framebufferRenderbuffer(s.FRAMEBUFFER,a,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Ge}destroy(){this.renderer=null}}kO.extension={type:ye.RendererSystem,name:"framebuffer"};Ie.add(kO);const hb={5126:4,5123:2,5121:1};class NO{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;be.PREFER_ENV===Dl.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,l)=>n.drawElementsInstancedANGLE(i,s,o,a,l),e.drawArraysInstanced=(i,s,o,a)=>n.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);const l=this.getSignature(e,a),u=e.glVertexArrayObjects[this.CONTEXT_UID];let d=u[l];if(d)return u[a.id]=d,d;const f=e.buffers,p=e.attributes,g={},v={};for(const b in f)g[b]=0,v[b]=0;for(const b in p)!p[b].size&&a.attributeData[b]?p[b].size=a.attributeData[b].size:p[b].size||console.warn(`PIXI Geometry attribute '${b}' size cannot be determined (likely the bound shader does not have the attribute)`),g[p[b].buffer]+=p[b].size*hb[p[b].type];for(const b in p){const E=p[b],w=E.size;E.stride===void 0&&(g[E.buffer]===w*hb[E.type]?E.stride=0:E.stride=g[E.buffer]),E.start===void 0&&(E.start=v[E.buffer],v[E.buffer]+=w*hb[E.type])}d=i.createVertexArray(),i.bindVertexArray(d);for(let b=0;b<f.length;b++){const E=f[b];o.bind(E),n&&E._glBuffers[s].refCount++}return this.activateVao(e,a),u[a.id]=d,u[l]=d,i.bindVertexArray(null),o.unbind(ys.ARRAY_BUFFER),d}disposeGeometry(e,r){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let l=0;l<s.length;l++){const u=s[l]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!r&&o.dispose(s[l],r))}if(!r){for(const l in n)if(l[0]==="g"){const u=n[l];this._activeVao===u&&this.unbind(),i.deleteVertexArray(u)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let l=null;for(const u in a){const d=a[u],f=o[d.buffer],p=f._glBuffers[i];if(r.attributeData[u]){l!==p&&(s.bind(f),l=p);const g=r.attributeData[u].location;if(n.enableVertexAttribArray(g),n.vertexAttribPointer(g,d.size,d.type||n.FLOAT,d.normalized,d.stride,d.start),d.instance)if(this.hasInstance)n.vertexAttribDivisor(g,d.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,l,(n||0)*a,i||1):s.drawElements(e,r||o.indexBuffer.data.length,l,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}NO.extension={type:ye.RendererSystem,name:"geometry"};Ie.add(NO);const QI=new Tt;class nE{constructor(e,r){this._texture=e,this.mapCoord=new Tt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(QI.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(QI));const o=r.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,u=this.clampOffset;return a[0]=(r._frame.x+l+u)/o.width,a[1]=(r._frame.y+l+u)/o.height,a[2]=(r._frame.x+r._frame.width-l+u)/o.width,a[3]=(r._frame.y+r._frame.height-l+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var bV=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,xV=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class _V extends tt{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||xV,r||bV,n),this.maskSprite=i,this.maskMatrix=new Tt}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new nE(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class wV{constructor(e=null){this.type=ir.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=tt.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=ir.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class RO{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new wV;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==ir.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case ir.SCISSOR:this.renderer.scissor.push(n);break;case ir.STENCIL:this.renderer.stencil.push(n);break;case ir.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case ir.COLOR:this.pushColorMask(n);break}n.type===ir.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case ir.SCISSOR:this.renderer.scissor.pop(r);break;case ir.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case ir.SPRITE:this.popSpriteMask(r);break;case ir.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===ir.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=ir.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=ir.SCISSOR:e.type=ir.STENCIL:e.type=ir.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new _V])),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=r;const s=n.filterArea;n.filterArea=r.getBounds(!0),this.renderer.filter.push(n,i),n.filterArea=s,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}RO.extension={type:ye.RendererSystem,name:"mask"};Ie.add(RO);class OO{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const KI=new Tt,ZI=[],DO=class Ym extends OO{constructor(e){super(e),this.glConst=be.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:n}=e,{renderer:i}=this,s=i.renderTexture,o=n.getBounds(!0,ZI.pop()??new Ge);this.roundFrameToPixels(o,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),r&&o.fit(r),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:r,b:n,c:i,d:s}=e;return(Math.abs(n)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(s)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||Ym.isMatrixRotated(r.worldTransform)||Ym.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,r,n,i,s){Ym.isMatrixRotated(s)||(s=s?KI.copyFrom(s):KI.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(s,e),e.fit(i),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:r}=this.renderer;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:r}=this.renderer;e&&ZI.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=e.y:r=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,r,e.width,e.height)}};DO.extension={type:ye.RendererSystem,name:"scissor"};let SV=DO;Ie.add(SV);class LO extends OO{constructor(e){super(e),this.glConst=be.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}LO.extension={type:ye.RendererSystem,name:"stencil"};Ie.add(LO);class FO{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Xe("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Xe("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Xe("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}FO.extension={type:[ye.RendererSystem,ye.CanvasRendererSystem],name:"_plugin"};Ie.add(FO);class UO{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Tt,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}UO.extension={type:ye.RendererSystem,name:"projection"};Ie.add(UO);const EV=new wv,JI=new Ge;class BO{constructor(e){this.renderer=e,this._tempMatrix=new Tt}generateTexture(e,r){const{region:n,...i}=r||{},s=(n==null?void 0:n.copyTo(JI))||e.getLocalBounds(JI,!0),o=i.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o),i.width=s.width,i.height=s.height,i.resolution=o,i.multisample??(i.multisample=this.renderer.multisample);const a=Ll.create(i);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const l=e.transform;return e.transform=EV,this.renderer.render(e,{renderTexture:a,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=l,a}destroy(){}}BO.extension={type:[ye.RendererSystem,ye.CanvasRendererSystem],name:"textureGenerator"};Ie.add(BO);const ja=new Ge,xh=new Ge;class zO{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Ge,this.destinationFrame=new Ge,this.viewportFrame=new Ge}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(ja.width=e.frame.width,ja.height=e.frame.height,r=ja),n||(xh.x=e.frame.x,xh.y=e.frame.y,xh.width=r.width,xh.height=r.height,n=xh),o=s.framebuffer):(a=i.resolution,r||(ja.width=i._view.screen.width,ja.height=i._view.screen.height,r=ja),n||(n=ja,n.width=r.width,n.height=r.height));const l=this.viewportFrame;l.x=n.x*a,l.y=n.y*a,l.width=n.width*a,l.height=n.height*a,e||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(n,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=gt.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,a=s.width!==o.width||s.height!==o.height;if(a){let{x:l,y:u,width:d,height:f}=this.viewportFrame;l=Math.round(l),u=Math.round(u),d=Math.round(d),f=Math.round(f),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(l,u,d,f)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}zO.extension={type:ye.RendererSystem,name:"renderTexture"};Ie.add(zO);class TV{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function AV(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=EO(e,s.type),a={type:o,name:s.name,size:SO(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}return r}function CV(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=EO(e,s.type);r[o]={name:o,index:i,type:l,size:s.size,isArray:a,value:_O(l,s.size)}}return r}function IV(t,e){var a;const r=HI(t,t.VERTEX_SHADER,e.vertexSrc),n=HI(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(a=e.extra)==null?void 0:a.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||nV(t,i,r,n),e.attributeData=AV(i,t),e.uniformData=CV(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const l=Object.keys(e.attributeData);l.sort((u,d)=>u>d?1:-1);for(let u=0;u<l.length;u++)e.attributeData[l[u]].location=u,t.bindAttribLocation(i,u,l[u]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const l in e.uniformData){const u=e.uniformData[l];o[l]={location:t.getUniformLocation(i,l),value:_O(u.type,u.size)}}return new TV(i,o)}function PV(t,e,r,n,i){r.buffer.update(i)}const MV={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},jO={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function kV(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=jO[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function NV(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function RV(t,e){if(!t.autoManage)return{size:0,syncFunc:PV};const r=NV(t.uniforms,e),{uboElements:n,size:i}=kV(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const a=n[o],l=t.uniforms[a.data.name],u=a.data.name;let d=!1;for(let f=0;f<Ju.length;f++){const p=Ju[f];if(p.codeUbo&&p.test(a.data,l)){s.push(`offset = ${a.offset/4};`,Ju[f].codeUbo(a.data.name,l)),d=!0;break}}if(!d)if(a.data.size>1){const f=SO(a.data.type),p=Math.max(jO[a.data.type]/16,1),g=f/p,v=(4-g%4)%4;s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*p}; i++)
                {
                    for(var j = 0; j < ${g}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${v};
                }

                `)}else{const f=MV[a.data.type];s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};
                ${f};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let OV=0;const Xp={textureCount:0,uboCount:0};class $O{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=OV++}systemCheck(){if(!sV())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(Xp.textureCount=0,Xp.uboCount=0,this.syncUniformGroup(e.uniformGroup,Xp)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=eV(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,Xp,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=RV(e,this.shader.program.uniformData)),e.autoManage){const l=new Float32Array(a.size/4);e.buffer.update(l)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=IV(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}$O.extension={type:ye.RendererSystem,name:"shader"};Ie.add($O);class h0{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.4.2 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}h0.defaultOptions={hello:!1},h0.extension={type:[ye.RendererSystem,ye.CanvasRendererSystem],name:"startup"};Ie.add(h0);function DV(t,e=[]){return e[De.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[De.ADD]=[t.ONE,t.ONE],e[De.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[De.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[De.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[De.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[De.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[De.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[De.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[De.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[De.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[De.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[De.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[De.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[De.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[De.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[De.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[De.NONE]=[0,0],e[De.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[De.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[De.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[De.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[De.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[De.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[De.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[De.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[De.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[De.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[De.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[De.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const LV=0,FV=1,UV=2,BV=3,zV=4,jV=5,GO=class I_{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=De.NONE,this._blendEq=!1,this.map=[],this.map[LV]=this.setBlend,this.map[FV]=this.setOffset,this.map[UV]=this.setCullFace,this.map[BV]=this.setDepthTest,this.map[zV]=this.setFrontFace,this.map[jV]=this.setDepthMask,this.checks=[],this.defaultState=new Es,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=DV(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(I_.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(I_.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,r){const n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};GO.extension={type:ye.RendererSystem,name:"state"};let $V=GO;Ie.add($V);class GV extends cf{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new ki(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Oh=class Qm{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Qm.defaultMaxIdle,this.checkCountMax=Qm.defaultCheckCountMax,this.mode=Qm.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==XS.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let n=!1;for(let i=0;i<r.length;i++){const s=r[i];s.resource&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),r[i]=null,n=!0)}if(n){let i=0;for(let s=0;s<r.length;s++)r[s]!==null&&(r[i++]=r[s]);r.length=i}}unload(e){const r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(let i=e.children.length-1;i>=0;i--)this.unload(e.children[i])}destroy(){this.renderer=null}};Oh.defaultMode=XS.AUTO,Oh.defaultMaxIdle=60*60,Oh.defaultCheckCountMax=60*10,Oh.extension={type:ye.RendererSystem,name:"textureGC"};let Za=Oh;Ie.add(Za);class db{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Re.UNSIGNED_BYTE,this.internalFormat=ce.RGBA,this.samplerType=0}}function HV(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[t.RGB]:_e.FLOAT,[t.RGBA]:_e.FLOAT,[t.ALPHA]:_e.FLOAT,[t.LUMINANCE]:_e.FLOAT,[t.LUMINANCE_ALPHA]:_e.FLOAT,[t.R8]:_e.FLOAT,[t.R8_SNORM]:_e.FLOAT,[t.RG8]:_e.FLOAT,[t.RG8_SNORM]:_e.FLOAT,[t.RGB8]:_e.FLOAT,[t.RGB8_SNORM]:_e.FLOAT,[t.RGB565]:_e.FLOAT,[t.RGBA4]:_e.FLOAT,[t.RGB5_A1]:_e.FLOAT,[t.RGBA8]:_e.FLOAT,[t.RGBA8_SNORM]:_e.FLOAT,[t.RGB10_A2]:_e.FLOAT,[t.RGB10_A2UI]:_e.FLOAT,[t.SRGB8]:_e.FLOAT,[t.SRGB8_ALPHA8]:_e.FLOAT,[t.R16F]:_e.FLOAT,[t.RG16F]:_e.FLOAT,[t.RGB16F]:_e.FLOAT,[t.RGBA16F]:_e.FLOAT,[t.R32F]:_e.FLOAT,[t.RG32F]:_e.FLOAT,[t.RGB32F]:_e.FLOAT,[t.RGBA32F]:_e.FLOAT,[t.R11F_G11F_B10F]:_e.FLOAT,[t.RGB9_E5]:_e.FLOAT,[t.R8I]:_e.INT,[t.R8UI]:_e.UINT,[t.R16I]:_e.INT,[t.R16UI]:_e.UINT,[t.R32I]:_e.INT,[t.R32UI]:_e.UINT,[t.RG8I]:_e.INT,[t.RG8UI]:_e.UINT,[t.RG16I]:_e.INT,[t.RG16UI]:_e.UINT,[t.RG32I]:_e.INT,[t.RG32UI]:_e.UINT,[t.RGB8I]:_e.INT,[t.RGB8UI]:_e.UINT,[t.RGB16I]:_e.INT,[t.RGB16UI]:_e.UINT,[t.RGB32I]:_e.INT,[t.RGB32UI]:_e.UINT,[t.RGBA8I]:_e.INT,[t.RGBA8UI]:_e.UINT,[t.RGBA16I]:_e.INT,[t.RGBA16UI]:_e.UINT,[t.RGBA32I]:_e.INT,[t.RGBA32UI]:_e.UINT,[t.DEPTH_COMPONENT16]:_e.FLOAT,[t.DEPTH_COMPONENT24]:_e.FLOAT,[t.DEPTH_COMPONENT32F]:_e.FLOAT,[t.DEPTH_STENCIL]:_e.FLOAT,[t.DEPTH24_STENCIL8]:_e.FLOAT,[t.DEPTH32F_STENCIL8]:_e.FLOAT}:e={[t.RGB]:_e.FLOAT,[t.RGBA]:_e.FLOAT,[t.ALPHA]:_e.FLOAT,[t.LUMINANCE]:_e.FLOAT,[t.LUMINANCE_ALPHA]:_e.FLOAT,[t.DEPTH_STENCIL]:_e.FLOAT},e}function VV(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[Re.UNSIGNED_BYTE]:{[ce.RGBA]:t.RGBA8,[ce.RGB]:t.RGB8,[ce.RG]:t.RG8,[ce.RED]:t.R8,[ce.RGBA_INTEGER]:t.RGBA8UI,[ce.RGB_INTEGER]:t.RGB8UI,[ce.RG_INTEGER]:t.RG8UI,[ce.RED_INTEGER]:t.R8UI,[ce.ALPHA]:t.ALPHA,[ce.LUMINANCE]:t.LUMINANCE,[ce.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[Re.BYTE]:{[ce.RGBA]:t.RGBA8_SNORM,[ce.RGB]:t.RGB8_SNORM,[ce.RG]:t.RG8_SNORM,[ce.RED]:t.R8_SNORM,[ce.RGBA_INTEGER]:t.RGBA8I,[ce.RGB_INTEGER]:t.RGB8I,[ce.RG_INTEGER]:t.RG8I,[ce.RED_INTEGER]:t.R8I},[Re.UNSIGNED_SHORT]:{[ce.RGBA_INTEGER]:t.RGBA16UI,[ce.RGB_INTEGER]:t.RGB16UI,[ce.RG_INTEGER]:t.RG16UI,[ce.RED_INTEGER]:t.R16UI,[ce.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[Re.SHORT]:{[ce.RGBA_INTEGER]:t.RGBA16I,[ce.RGB_INTEGER]:t.RGB16I,[ce.RG_INTEGER]:t.RG16I,[ce.RED_INTEGER]:t.R16I},[Re.UNSIGNED_INT]:{[ce.RGBA_INTEGER]:t.RGBA32UI,[ce.RGB_INTEGER]:t.RGB32UI,[ce.RG_INTEGER]:t.RG32UI,[ce.RED_INTEGER]:t.R32UI,[ce.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[Re.INT]:{[ce.RGBA_INTEGER]:t.RGBA32I,[ce.RGB_INTEGER]:t.RGB32I,[ce.RG_INTEGER]:t.RG32I,[ce.RED_INTEGER]:t.R32I},[Re.FLOAT]:{[ce.RGBA]:t.RGBA32F,[ce.RGB]:t.RGB32F,[ce.RG]:t.RG32F,[ce.RED]:t.R32F,[ce.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[Re.HALF_FLOAT]:{[ce.RGBA]:t.RGBA16F,[ce.RGB]:t.RGB16F,[ce.RG]:t.RG16F,[ce.RED]:t.R16F},[Re.UNSIGNED_SHORT_5_6_5]:{[ce.RGB]:t.RGB565},[Re.UNSIGNED_SHORT_4_4_4_4]:{[ce.RGBA]:t.RGBA4},[Re.UNSIGNED_SHORT_5_5_5_1]:{[ce.RGBA]:t.RGB5_A1},[Re.UNSIGNED_INT_2_10_10_10_REV]:{[ce.RGBA]:t.RGB10_A2,[ce.RGBA_INTEGER]:t.RGB10_A2UI},[Re.UNSIGNED_INT_10F_11F_11F_REV]:{[ce.RGB]:t.R11F_G11F_B10F},[Re.UNSIGNED_INT_5_9_9_9_REV]:{[ce.RGB]:t.RGB9_E5},[Re.UNSIGNED_INT_24_8]:{[ce.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[Re.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ce.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[Re.UNSIGNED_BYTE]:{[ce.RGBA]:t.RGBA,[ce.RGB]:t.RGB,[ce.ALPHA]:t.ALPHA,[ce.LUMINANCE]:t.LUMINANCE,[ce.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[Re.UNSIGNED_SHORT_5_6_5]:{[ce.RGB]:t.RGB},[Re.UNSIGNED_SHORT_4_4_4_4]:{[ce.RGBA]:t.RGBA},[Re.UNSIGNED_SHORT_5_5_5_1]:{[ce.RGBA]:t.RGBA}},e}class HO{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new ze,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=VV(e),this.samplerTypes=HV(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new db(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new db(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==_e.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new db(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,r.samplerType=this.samplerTypes[r.internalFormat]??_e.FLOAT,this.webGLVersion===2&&e.type===Re.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)==null?void 0:i.upload(n,e,r))r.samplerType!==_e.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,a.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&Zu(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===xs.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=qs.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==xs.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Ti.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Ti.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Ti.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===Ti.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}HO.extension={type:ye.RendererSystem,name:"texture"};Ie.add(HO);class VO{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(n.buffer.update(a),a._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const l=a._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&s.dispose(a,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}VO.extension={type:ye.RendererSystem,name:"transformFeedback"};Ie.add(VO);class d0{constructor(e){this.renderer=e}init(e){this.screen=new Ge(0,0,e.width,e.height),this.element=e.view||be.ADAPTER.createCanvas(),this.resolution=e.resolution||be.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}d0.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},d0.extension={type:[ye.RendererSystem,ye.CanvasRendererSystem],name:"_view"};Ie.add(d0);be.PREFER_ENV=Dl.WEBGL2;be.STRICT_TEXTURE_CACHE=!1;be.RENDER_OPTIONS={...c0.defaultOptions,...u0.defaultOptions,...d0.defaultOptions,...h0.defaultOptions};Object.defineProperties(be,{WRAP_MODE:{get(){return ze.defaultOptions.wrapMode},set(t){Xe("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),ze.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return ze.defaultOptions.scaleMode},set(t){Xe("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),ze.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return ze.defaultOptions.mipmap},set(t){Xe("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),ze.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return ze.defaultOptions.anisotropicLevel},set(t){Xe("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),ze.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Xe("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),tt.defaultResolution},set(t){tt.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Xe("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),tt.defaultMultisample},set(t){tt.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return Ka.defaultMaxTextures},set(t){Xe("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Ka.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return Ka.defaultBatchSize},set(t){Xe("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Ka.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return Ka.canUploadSameBuffer},set(t){Xe("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Ka.canUploadSameBuffer=t}},GC_MODE:{get(){return Za.defaultMode},set(t){Xe("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Za.defaultMode=t}},GC_MAX_IDLE:{get(){return Za.defaultMaxIdle},set(t){Xe("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Za.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return Za.defaultCheckCountMax},set(t){Xe("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Za.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return Gs.defaultVertexPrecision},set(t){Xe("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Gs.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return Gs.defaultFragmentPrecision},set(t){Xe("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Gs.defaultFragmentPrecision=t}}});var ga=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(ga||{});class fb{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const WO=class Tn{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new fb(null,null,1/0),this.deltaMS=1/Tn.targetFPMS,this.elapsedMS=1/Tn.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=ga.NORMAL){return this._addListener(new fb(e,r,n))}addOnce(e,r,n=ga.NORMAL){return this._addListener(new fb(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*Tn.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,Tn.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!Tn._shared){const e=Tn._shared=new Tn;e.autoStart=!0,e._protected=!0}return Tn._shared}static get system(){if(!Tn._system){const e=Tn._system=new Tn;e.autoStart=!0,e._protected=!0}return Tn._system}};WO.targetFPMS=.06;let br=WO;Object.defineProperties(be,{TARGET_FPMS:{get(){return br.targetFPMS},set(t){Xe("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),br.targetFPMS=t}}});class XO{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,ga.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?br.shared:new br,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}XO.extension=ye.Application;Ie.add(XO);const qO=[];Ie.handleByList(ye.Renderer,qO);function WV(t){for(const e of qO)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var XV=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,qV=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const YV=XV,YO=qV;class QO{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=Kt.HIGH?this.multisample=Kt.HIGH:r>=Kt.MEDIUM?this.multisample=Kt.MEDIUM:r>=Kt.LOW?this.multisample=Kt.LOW:this.multisample=Kt.NONE}destroy(){}}QO.extension={type:ye.RendererSystem,name:"_multisample"};Ie.add(QO);class QV{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class KO{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new QV(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}KO.extension={type:ye.RendererSystem,name:"buffer"};Ie.add(KO);class ZO{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,a;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,a=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!a){const l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}ZO.extension={type:ye.RendererSystem,name:"objectRenderer"};Ie.add(ZO);const Km=class P_ extends GV{constructor(e){super(),this.type=z3.WEBGL,e=Object.assign({},be.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Ni({projectionMatrix:new Tt},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:P_.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(Xe("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=P_.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:_H()}render(e,r){this.objectRenderer.render(e,r)}resize(e,r){this._view.resizeView(e,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Xe("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Xe("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Xe("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Xe("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){Xe("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return Xe("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){Xe("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return Xe("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,r){return this.textureGenerator.generateTexture(e,r)}};Km.extension={type:ye.Renderer,priority:1},Km.__plugins={},Km.__systems={};let iE=Km;Ie.handleByMap(ye.RendererPlugin,iE.__plugins);Ie.handleByMap(ye.RendererSystem,iE.__systems);Ie.add(iE);class JO extends Od{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new ze;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Od?this.addResourceAt(e[n],n):this.addResourceAt(vO(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),this.update(),Promise.resolve(this)}),this._load}}class KV extends JO{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=Yu.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;n.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let l=0;l<i;l++){const u=o[l];s[l]<u.dirtyId&&(s[l]=u.dirtyId,u.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,l,u.resource.width,u.resource.height,1,r.format,n.type,u.resource.source))}return!0}}class ZV extends ro{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const e4=class Dh extends JO{constructor(e,r){const{width:n,height:i,autoLoad:s,linkBaseTexture:o}=r||{};if(e&&e.length!==Dh.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:n,height:i});for(let a=0;a<Dh.SIDES;a++)this.items[a].target=Yu.TEXTURE_CUBE_MAP_POSITIVE_X+a;this.linkBaseTexture=o!==!1,e&&this.initFromArray(e,r),s!==!1&&this.load()}bind(e){super.bind(e),e.target=Yu.TEXTURE_CUBE_MAP}addBaseTextureAt(e,r,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[r])throw new Error(`Index ${r} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=Yu.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this}upload(e,r,n){const i=this.itemDirtyIds;for(let s=0;s<Dh.SIDES;s++){const o=this.items[s];(i[s]<o.dirtyId||n.dirtyId<r.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(e,o,n),i[s]=o.dirtyId):i[s]<-1&&(e.gl.texImage2D(o.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[s]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===Dh.SIDES}};e4.SIDES=6;let JV=e4;class Fu extends ro{constructor(e,r){r=r||{};let n,i,s;typeof e=="string"?(n=Fu.EMPTY,i=e,s=!0):(n=e,i=null,s=!1),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=r.ownsImageBitmap??s,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await be.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===fn.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Fu._EMPTY=Fu._EMPTY??be.ADAPTER.createCanvas(0,0),Fu._EMPTY}}const M_=class Zm extends ro{constructor(e,r){r=r||{},super(be.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},Zm.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;ro.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=r=>{this._resolve&&(e.onerror=null,this.onError.emit(r))},e.onload=()=>{if(!this._resolve)return;const r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=r*this.scale,s=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/n*r,s=this._overrideHeight||this._overrideWidth/r*n),i=Math.round(i),s=Math.round(s);const o=this.source;o.width=i,o.height=s,o._pixiId=`canvas_${Il()}`,o.getContext("2d").drawImage(e,0,0,r,n,0,0,i,s),this._resolve(),this._resolve=null}}static getSize(e){const r=Zm.SVG_SIZE.exec(e),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return r==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&Zm.SVG_XML.test(e)}};M_.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,M_.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let k_=M_;class eW extends ro{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const N_=class R_ extends ro{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");r.autoLoad!==!1&&n.setAttribute("preload","auto"),r.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),r.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),r.loop===!0&&n.setAttribute("loop",""),r.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const i=e[0].src||e[0];ro.crossOrigin(n,i,r.crossorigin);for(let s=0;s<e.length;++s){const o=document.createElement("source");let{src:a,mime:l}=e[s];if(a=a||e[s],a.startsWith("data:"))l=a.slice(5,a.indexOf(";"));else if(!a.startsWith("blob:")){const u=a.split("?").shift().toLowerCase(),d=u.slice(u.lastIndexOf(".")+1);l=l||R_.MIME_TYPES[d]||`video/${d}`}o.src=a,l&&(o.type=l),n.appendChild(o)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const r=br.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((r,n)=>{this.valid?r(this):(this._resolve=r,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(br.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(br.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(br.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||R_.TYPES.includes(r)}};N_.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],N_.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let t4=N_;b_.push(Fu,CO,ZV,t4,eW,k_,yv,JV,KV);class f0{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Ge.EMPTY:(e=e||new Ge(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:a,ty:l}=e,u=n*r.x+s*r.y+a,d=i*r.x+o*r.y+l;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,d),this.maxY=Math.max(this.maxY,d)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,a=e.b,l=e.c,u=e.d,d=e.tx,f=e.ty;let p=this.minX,g=this.minY,v=this.maxX,b=this.maxY,E=o*r+l*n+d,w=a*r+u*n+f;p=E<p?E:p,g=w<g?w:g,v=E>v?E:v,b=w>b?w:b,E=o*i+l*n+d,w=a*i+u*n+f,p=E<p?E:p,g=w<g?w:g,v=E>v?E:v,b=w>b?w:b,E=o*r+l*s+d,w=a*r+u*s+f,p=E<p?E:p,g=w<g?w:g,v=E>v?E:v,b=w>b?w:b,E=o*i+l*s+d,w=a*i+u*s+f,p=E<p?E:p,g=w<g?w:g,v=E>v?E:v,b=w>b?w:b,this.minX=p,this.minY=g,this.maxX=v,this.maxY=b}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let l=r;l<n;l+=2){const u=e[l],d=e[l+1];i=u<i?u:i,s=d<s?d:s,o=u>o?u:o,a=d>a?d:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const a=e.a,l=e.b,u=e.c,d=e.d,f=e.tx,p=e.ty;let g=this.minX,v=this.minY,b=this.maxX,E=this.maxY;for(let w=n;w<i;w+=2){const S=r[w],_=r[w+1],A=a*S+u*_+f,P=d*_+l*S+p;g=Math.min(g,A-s),b=Math.max(b,A+s),v=Math.min(v,P-o),E=Math.max(E,P+o)}this.minX=g,this.minY=v,this.maxX=b,this.maxY=E}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const a=this.minX,l=this.minY,u=this.maxX,d=this.maxY;this.minX=n<a?n:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>d?o:d}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const a=this.minX,l=this.minY,u=this.maxX,d=this.maxY;this.minX=n<a?n:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>d?o:d}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class Nt extends cf{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new wv,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new f0,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(Nt.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Ge),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Ge),e=this._localBoundsRect),this._localBounds||(this._localBounds=new f0);const r=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(n==null?void 0:n.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,a=0,l=0,u=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=l,this.pivot.y=u,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new tW),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*qH}set angle(e){this.transform.rotation=e*Dd}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class tW extends Nt{constructor(){super(...arguments),this.sortDirty=null}}Nt.prototype.displayObjectUpdateTransform=Nt.prototype.updateTransform;const rW=new Tt;function nW(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const r4=class O_ extends Nt{constructor(){super(),this.children=[],this.sortableChildren=O_.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.addChild(e[r]);else{const r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]}addChildAt(e,r){if(r<0||r>this.children.length)throw new Error(`${e}addChildAt: The index ${r} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e}swapChildren(e,r){if(e===r)return;const n=this.getChildIndex(e),i=this.getChildIndex(r);this.children[n]=r,this.children[i]=e,this.onChildrenChange(n<i?n:i)}getChildIndex(e){const r=this.children.indexOf(e);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(e,r){if(r<0||r>=this.children.length)throw new Error(`The index ${r} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(e);Zu(this.children,n,1),this.children.splice(r,0,e),this.onChildrenChange(r)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.removeChild(e[r]);else{const r=e[0],n=this.children.indexOf(r);if(n===-1)return null;r.parent=null,r.transform._parentID=-1,Zu(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n)}return e[0]}removeChildAt(e){const r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,Zu(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r}removeChildren(e=0,r=this.children.length){const n=e,i=r,s=i-n;let o;if(s>0&&s<=i){o=this.children.splice(n,s);for(let a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let a=0;a<o.length;++a)o[a].emit("removed",this),this.emit("childRemoved",o[a],this,a);return o}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let r=0,n=this.children.length;r<n;++r){const i=this.children[r];i._lastSortedIndex=r,!e&&i.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(nW),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const r=this.children[e];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const n=r._mask.isMaskData?r._mask.maskObject:r._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(r._bounds,n._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,r=!1){const n=super.getLocalBounds(e);if(!r)for(let i=0,s=this.children.length;i<s;++i){const o=this.children[i];o.visible&&o.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==O_.prototype._render&&(n=this.getBounds(!0));const s=e.projection.transform;if(s&&(i?(i=rW.copyFrom(i),i.prepend(s)):i=s),n&&r.intersects(n,i))this._render(e);else if(this.cullArea)return;for(let o=0,a=this.children.length;o<a;++o){const l=this.children[o],u=l.cullable;l.cullable=u||!this.cullArea,l.render(e),l.cullable=u}}render(e){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let n=0,i=this.children.length;n<i;++n)this.children[n].render(e)}}renderAdvanced(e){var s,o,a;const r=this.filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let l=0;l<r.length;l++)r[l].enabled&&this._enabledFilters.push(r[l])}const i=r&&((s=this._enabledFilters)==null?void 0:s.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==ir.NONE));if(i&&e.batch.flush(),r&&((o=this._enabledFilters)!=null&&o.length)&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let l=0,u=this.children.length;l<u;++l)this.children[l].render(e)}i&&e.batch.flush(),n&&e.mask.pop(this),r&&((a=this._enabledFilters)!=null&&a.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const r=typeof e=="boolean"?e:e==null?void 0:e.children,n=this.removeChildren(0,this.children.length);if(r)for(let i=0;i<n.length;++i)n[i].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const r=this.getLocalBounds().width;r!==0?this.scale.x=e/r:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const r=this.getLocalBounds().height;r!==0?this.scale.y=e/r:this.scale.y=1,this._height=e}};r4.defaultSortableChildren=!1;let Zr=r4;Zr.prototype.containerUpdateTransform=Zr.prototype.updateTransform;Object.defineProperties(be,{SORTABLE_CHILDREN:{get(){return Zr.defaultSortableChildren},set(t){Xe("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Zr.defaultSortableChildren=t}}});var Ev=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Ev||{});const _h=new je,iW=new Uint16Array([0,1,2,0,2,3]);class Ts extends Zr{constructor(e){super(),this._anchor=new Ai(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new gt(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=De.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||ve.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=iW,this.pluginName="batch",this.isSprite=!0,this._roundPixels=be.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Jo(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Jo(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,l=r.ty,u=this.vertexData,d=e.trim,f=e.orig,p=this._anchor;let g=0,v=0,b=0,E=0;if(d?(v=d.x-p._x*f.width,g=v+d.width,E=d.y-p._y*f.height,b=E+d.height):(v=-p._x*f.width,g=v+f.width,E=-p._y*f.height,b=E+f.height),u[0]=n*v+s*E+a,u[1]=o*E+i*v+l,u[2]=n*g+s*E+a,u[3]=o*E+i*g+l,u[4]=n*g+s*b+a,u[5]=o*b+i*g+l,u[6]=n*v+s*b+a,u[7]=o*b+i*v+l,this._roundPixels){const w=be.RESOLUTION;for(let S=0;S<u.length;++S)u[S]=Math.round(u[S]*w)/w}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,l=s.c,u=s.d,d=s.tx,f=s.ty,p=-i._x*n.width,g=p+n.width,v=-i._y*n.height,b=v+n.height;if(r[0]=o*p+l*v+d,r[1]=u*v+a*p+f,r[2]=o*g+l*v+d,r[3]=u*v+a*g+f,r[4]=o*g+l*b+d,r[5]=u*b+a*g+f,r[6]=o*p+l*b+d,r[7]=u*b+a*p+f,this._roundPixels){const E=be.RESOLUTION;for(let w=0;w<r.length;++w)r[w]=Math.round(r[w]*E)/E}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new f0),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ge),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,_h);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return _h.x>=i&&_h.x<i+r&&(s=-n*this.anchor.y,_h.y>=s&&_h.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const n=e instanceof ve?e:ve.from(e,r);return new Ts(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=Jo(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=Jo(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||ve.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const qp={willReadFrequently:!0},ts=class ke{static get experimentalLetterSpacingSupported(){let e=ke._experimentalLetterSpacingSupported;if(e!==void 0){const r=be.ADAPTER.getCanvasRenderingContext2D().prototype;e=ke._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,i,s,o,a,l,u){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=l,this.fontProperties=u}static measureText(e,r,n,i=ke._canvas){n=n??r.wordWrap;const s=r.toFontString(),o=ke.measureFont(s);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);const a=i.getContext("2d",qp);a.font=s;const l=(n?ke.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),u=new Array(l.length);let d=0;for(let v=0;v<l.length;v++){const b=ke._measureText(l[v],r.letterSpacing,a);u[v]=b,d=Math.max(d,b)}let f=d+r.strokeThickness;r.dropShadow&&(f+=r.dropShadowDistance);const p=r.lineHeight||o.fontSize+r.strokeThickness;let g=Math.max(p,o.fontSize+r.strokeThickness*2)+r.leading+(l.length-1)*(p+r.leading);return r.dropShadow&&(g+=r.dropShadowDistance),new ke(e,r,f,g,l,u,p+r.leading,d,o)}static _measureText(e,r,n){let i=!1;ke.experimentalLetterSpacingSupported&&(ke.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let s=n.measureText(e).width;return s>0&&(i?s-=r:s+=(ke.graphemeSegmenter(e).length-1)*r),s}static wordWrap(e,r,n=ke._canvas){const i=n.getContext("2d",qp);let s=0,o="",a="";const l=Object.create(null),{letterSpacing:u,whiteSpace:d}=r,f=ke.collapseSpaces(d),p=ke.collapseNewlines(d);let g=!f;const v=r.wordWrapWidth+u,b=ke.tokenize(e);for(let E=0;E<b.length;E++){let w=b[E];if(ke.isNewline(w)){if(!p){a+=ke.addLine(o),g=!f,o="",s=0;continue}w=" "}if(f){const _=ke.isBreakingSpace(w),A=ke.isBreakingSpace(o[o.length-1]);if(_&&A)continue}const S=ke.getFromCache(w,u,l,i);if(S>v)if(o!==""&&(a+=ke.addLine(o),o="",s=0),ke.canBreakWords(w,r.breakWords)){const _=ke.wordWrapSplit(w);for(let A=0;A<_.length;A++){let P=_[A],N=P,L=1;for(;_[A+L];){const q=_[A+L];if(!ke.canBreakChars(N,q,w,A,r.breakWords))P+=q;else break;N=q,L++}A+=L-1;const k=ke.getFromCache(P,u,l,i);k+s>v&&(a+=ke.addLine(o),g=!1,o="",s=0),o+=P,s+=k}}else{o.length>0&&(a+=ke.addLine(o),o="",s=0);const _=E===b.length-1;a+=ke.addLine(w,!_),g=!1,o="",s=0}else S+s>v&&(g=!1,a+=ke.addLine(o),o="",s=0),(o.length>0||!ke.isBreakingSpace(w)||g)&&(o+=w,s+=S)}return a+=ke.addLine(o,!1),a}static addLine(e,r=!0){return e=ke.trimRight(e),e=r?`${e}
`:e,e}static getFromCache(e,r,n,i){let s=n[e];return typeof s!="number"&&(s=ke._measureText(e,r,i)+r,n[e]=s),s}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!ke.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:ke._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:ke._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let i=0;i<e.length;i++){const s=e[i],o=e[i+1];if(ke.isBreakingSpace(s,o)||ke.isNewline(s)){n!==""&&(r.push(n),n=""),r.push(s);continue}n+=s}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,i,s){return!0}static wordWrapSplit(e){return ke.graphemeSegmenter(e)}static measureFont(e){if(ke._fonts[e])return ke._fonts[e];const r={ascent:0,descent:0,fontSize:0},n=ke._canvas,i=ke._context;i.font=e;const s=ke.METRICS_STRING+ke.BASELINE_SYMBOL,o=Math.ceil(i.measureText(s).width);let a=Math.ceil(i.measureText(ke.BASELINE_SYMBOL).width);const l=Math.ceil(ke.HEIGHT_MULTIPLIER*a);if(a=a*ke.BASELINE_MULTIPLIER|0,o===0||l===0)return ke._fonts[e]=r,r;n.width=o,n.height=l,i.fillStyle="#f00",i.fillRect(0,0,o,l),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,a);const u=i.getImageData(0,0,o,l).data,d=u.length,f=o*4;let p=0,g=0,v=!1;for(p=0;p<a;++p){for(let b=0;b<f;b+=4)if(u[g+b]!==255){v=!0;break}if(!v)g+=f;else break}for(r.ascent=a-p,g=d-f,v=!1,p=l;p>a;--p){for(let b=0;b<f;b+=4)if(u[g+b]!==255){v=!0;break}if(!v)g-=f;else break}return r.descent=p-a,r.fontSize=r.ascent+r.descent,ke._fonts[e]=r,r}static clearMetrics(e=""){e?delete ke._fonts[e]:ke._fonts={}}static get _canvas(){var e;if(!ke.__canvas){let r;try{const n=new OffscreenCanvas(0,0);if((e=n.getContext("2d",qp))!=null&&e.measureText)return ke.__canvas=n,n;r=be.ADAPTER.createCanvas()}catch{r=be.ADAPTER.createCanvas()}r.width=r.height=10,ke.__canvas=r}return ke.__canvas}static get _context(){return ke.__context||(ke.__context=ke._canvas.getContext("2d",qp)),ke.__context}};ts.METRICS_STRING="|q",ts.BASELINE_SYMBOL="M",ts.BASELINE_MULTIPLIER=1.4,ts.HEIGHT_MULTIPLIER=2,ts.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),ts.experimentalLetterSpacing=!1,ts._fonts={},ts._newlines=[10,13],ts._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let $o=ts;const sW=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],n4=class Lh{constructor(e){this.styleID=0,this.reset(),mb(this,e,e)}clone(){const e={};return mb(e,this,Lh.defaultStyle),new Lh(e)}reset(){mb(this,Lh.defaultStyle,Lh.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const r=pb(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const r=pb(e);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){oW(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const r=pb(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!sW.includes(i)&&(i=`"${i}"`),r[n]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${r.join(",")}`}};n4.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Ev.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let va=n4;function pb(t){const e=gt.shared,r=n=>{const i=e.setValue(n);return i.alpha===1?i.toHex():i.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function oW(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function mb(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const aW={texture:!0,children:!1,baseTexture:!0},i4=class D_ extends Ts{constructor(e,r,n){let i=!1;n||(n=be.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3;const s=ve.from(n);s.orig=new Ge,s.trim=new Ge,super(s),this._ownCanvas=i,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=D_.defaultResolution??be.RESOLUTION,this._autoResolution=D_.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return $o.experimentalLetterSpacing}static set experimentalLetterSpacing(e){Xe("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),$o.experimentalLetterSpacing=e}updateText(e){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,i=$o.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=i.width,o=i.height,a=i.lines,l=i.lineHeight,u=i.lineWidths,d=i.maxLineWidth,f=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+r.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;let p,g;const v=r.dropShadow?2:1;for(let b=0;b<v;++b){const E=r.dropShadow&&b===0,w=E?Math.ceil(Math.max(1,o)+r.padding*2):0,S=w*this._resolution;if(E){n.fillStyle="black",n.strokeStyle="black";const A=r.dropShadowColor,P=r.dropShadowBlur*this._resolution,N=r.dropShadowDistance*this._resolution;n.shadowColor=gt.shared.setValue(A).setAlpha(r.dropShadowAlpha).toRgbaString(),n.shadowBlur=P,n.shadowOffsetX=Math.cos(r.dropShadowAngle)*N,n.shadowOffsetY=Math.sin(r.dropShadowAngle)*N+S}else n.fillStyle=this._generateFillStyle(r,a,i),n.strokeStyle=r.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let _=(l-f.fontSize)/2;l-f.fontSize<0&&(_=0);for(let A=0;A<a.length;A++)p=r.strokeThickness/2,g=r.strokeThickness/2+A*l+f.ascent+_,r.align==="right"?p+=d-u[A]:r.align==="center"&&(p+=(d-u[A])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(a[A],p+r.padding,g+r.padding-w,!0),r.fill&&this.drawLetterSpacing(a[A],p+r.padding,g+r.padding-w)}this.updateTexture()}drawLetterSpacing(e,r,n,i=!1){const s=this._style.letterSpacing;let o=!1;if($o.experimentalLetterSpacingSupported&&($o.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){i?this.context.strokeText(e,r,n):this.context.fillText(e,r,n);return}let a=r;const l=$o.graphemeSegmenter(e);let u=this.context.measureText(e).width,d=0;for(let f=0;f<l.length;++f){const p=l[f];i?this.context.strokeText(p,a,n):this.context.fillText(p,a,n);let g="";for(let v=f+1;v<l.length;++v)g+=l[v];d=this.context.measureText(g).width,a+=u-d+s,u=d}}updateTexture(){const e=this.canvas;if(this._style.trim){const o=FH(e);o.data&&(e.width=o.width,e.height=o.height,this.context.putImageData(o.data,0,0))}const r=this._texture,n=this._style,i=n.trim?0:n.padding,s=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-i*2,r.orig.height=r._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,r){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,r)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,n){const i=e.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let s;const o=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,l=this.canvas.width/this._resolution-o-a*2,u=this.canvas.height/this._resolution-o-a*2,d=i.slice(),f=e.fillGradientStops.slice();if(!f.length){const p=d.length+1;for(let g=1;g<p;++g)f.push(g/p)}if(d.unshift(i[0]),f.unshift(0),d.push(i[i.length-1]),f.push(1),e.fillGradientType===Ev.LINEAR_VERTICAL){s=this.context.createLinearGradient(l/2,a,l/2,u+a);const p=n.fontProperties.fontSize+e.strokeThickness;for(let g=0;g<r.length;g++){const v=n.lineHeight*(g-1)+p,b=n.lineHeight*g;let E=b;g>0&&v>b&&(E=(b+v)/2);const w=b+p,S=n.lineHeight*(g+1);let _=w;g+1<r.length&&S<w&&(_=(w+S)/2);const A=(_-E)/u;for(let P=0;P<d.length;P++){let N=0;typeof f[P]=="number"?N=f[P]:N=P/d.length;let L=Math.min(1,Math.max(0,E/u+N*A));L=Number(L.toFixed(5)),s.addColorStop(L,d[P])}}}else{s=this.context.createLinearGradient(a,u/2,l+a,u/2);const p=d.length+1;let g=1;for(let v=0;v<d.length;v++){let b;typeof f[v]=="number"?b=f[v]:b=g/p,s.addColorStop(b,d[v]),g++}}return s}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},aW,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const r=Jo(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const r=Jo(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof va?this._style=e:this._style=new va(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};i4.defaultAutoResolution=!0;let sE=i4;class p0{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Jm{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],a=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(const u in a){const d=a[u].split("="),f=d[0],p=d[1].replace(/"/gm,""),g=parseFloat(p),v=isNaN(g)?p:g;l[f]=v}n[o].push(l)}const i=new p0;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class L_{static test(e){const r=e;return typeof e!="string"&&"getElementsByTagName"in e&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new p0,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let u=0;u<n.length;u++)r.info.push({face:n[u].getAttribute("face"),size:parseInt(n[u].getAttribute("size"),10)});for(let u=0;u<i.length;u++)r.common.push({lineHeight:parseInt(i[u].getAttribute("lineHeight"),10)});for(let u=0;u<s.length;u++)r.page.push({id:parseInt(s[u].getAttribute("id"),10)||0,file:s[u].getAttribute("file")});for(let u=0;u<o.length;u++){const d=o[u];r.char.push({id:parseInt(d.getAttribute("id"),10),page:parseInt(d.getAttribute("page"),10)||0,x:parseInt(d.getAttribute("x"),10),y:parseInt(d.getAttribute("y"),10),width:parseInt(d.getAttribute("width"),10),height:parseInt(d.getAttribute("height"),10),xoffset:parseInt(d.getAttribute("xoffset"),10),yoffset:parseInt(d.getAttribute("yoffset"),10),xadvance:parseInt(d.getAttribute("xadvance"),10)})}for(let u=0;u<a.length;u++)r.kerning.push({first:parseInt(a[u].getAttribute("first"),10),second:parseInt(a[u].getAttribute("second"),10),amount:parseInt(a[u].getAttribute("amount"),10)});for(let u=0;u<l.length;u++)r.distanceField.push({fieldType:l[u].getAttribute("fieldType"),distanceRange:parseInt(l[u].getAttribute("distanceRange"),10)});return r}}class F_{static test(e){return typeof e=="string"&&e.includes("<font>")?L_.test(be.ADAPTER.parseXML(e)):!1}static parse(e){return L_.parse(be.ADAPTER.parseXML(e))}}const gb=[Jm,L_,F_];function lW(t){for(let e=0;e<gb.length;e++)if(gb[e].test(t))return gb[e];return null}function uW(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const l=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,d=t.width/n-l-u*2,f=t.height/n-l-u*2,p=o.slice(),g=r.fillGradientStops.slice();if(!g.length){const v=p.length+1;for(let b=1;b<v;++b)g.push(b/v)}if(p.unshift(o[0]),g.unshift(0),p.push(o[o.length-1]),g.push(1),r.fillGradientType===Ev.LINEAR_VERTICAL){a=e.createLinearGradient(d/2,u,d/2,f+u);let v=0;const b=(s.fontProperties.fontSize+r.strokeThickness)/f;for(let E=0;E<i.length;E++){const w=s.lineHeight*E;for(let S=0;S<p.length;S++){let _=0;typeof g[S]=="number"?_=g[S]:_=S/p.length;const A=w/f+_*b;let P=Math.max(v,A);P=Math.min(P,1),a.addColorStop(P,p[S]),v=P}}}else{a=e.createLinearGradient(u,f/2,d+u,f/2);const v=p.length+1;let b=1;for(let E=0;E<p.length;E++){let w;typeof g[E]=="number"?w=g[E]:w=b/v,a.addColorStop(w,p[E]),b++}}return a}function cW(t,e,r,n,i,s,o){const a=r.text,l=r.fontProperties;e.translate(n,i),e.scale(s,s);const u=o.strokeThickness/2,d=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=uW(t,e,o,s,[a],r),e.strokeStyle=o.stroke,o.dropShadow){const f=o.dropShadowColor,p=o.dropShadowBlur*s,g=o.dropShadowDistance*s;e.shadowColor=gt.shared.setValue(f).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=p,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*g,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*g}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,u,d+r.lineHeight-l.descent),o.fill&&e.fillText(a,u,d+r.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function eg(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function s4(t){return Array.from?Array.from(t):t.split("")}function hW(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...s4(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Ro=class rs{constructor(e,r,n){var d;const[i]=e.info,[s]=e.common,[o]=e.page,[a]=e.distanceField,l=to(o.file),u={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=s.lineHeight/l,this.chars={},this.pageTextures=u;for(let f=0;f<e.page.length;f++){const{id:p,file:g}=e.page[f];u[p]=r instanceof Array?r[f]:r[g],a!=null&&a.fieldType&&a.fieldType!=="none"&&(u[p].baseTexture.alphaMode=fn.NO_PREMULTIPLIED_ALPHA,u[p].baseTexture.mipmap=xs.OFF)}for(let f=0;f<e.char.length;f++){const{id:p,page:g}=e.char[f];let{x:v,y:b,width:E,height:w,xoffset:S,yoffset:_,xadvance:A}=e.char[f];v/=l,b/=l,E/=l,w/=l,S/=l,_/=l,A/=l;const P=new Ge(v+u[g].frame.x/l,b+u[g].frame.y/l,E,w);this.chars[p]={xOffset:S,yOffset:_,xAdvance:A,kerning:{},texture:new ve(u[g].baseTexture,P),page:g}}for(let f=0;f<e.kerning.length;f++){let{first:p,second:g,amount:v}=e.kerning[f];p/=l,g/=l,v/=l,this.chars[g]&&(this.chars[g].kerning[p]=v)}this.distanceFieldRange=a==null?void 0:a.distanceRange,this.distanceFieldType=((d=a==null?void 0:a.fieldType)==null?void 0:d.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,r,n){let i;if(e instanceof p0)i=e;else{const o=lW(e);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(e)}r instanceof ve&&(r=[r]);const s=new rs(i,r,n);return rs.available[s.font]=s,s}static uninstall(e){const r=rs.available[e];if(!r)throw new Error(`No font found named '${e}'`);r.destroy(),delete rs.available[e]}static from(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:s,resolution:o,textureWidth:a,textureHeight:l,...u}=Object.assign({},rs.defaultOptions,n),d=hW(i),f=r instanceof va?r:new va(r),p=a,g=new p0;g.info[0]={face:f.fontFamily,size:f.fontSize},g.common[0]={lineHeight:f.fontSize};let v=0,b=0,E,w,S,_=0;const A=[];for(let N=0;N<d.length;N++){E||(E=be.ADAPTER.createCanvas(),E.width=a,E.height=l,w=E.getContext("2d"),S=new ze(E,{resolution:o,...u}),A.push(new ve(S)),g.page.push({id:A.length-1,file:""}));const L=d[N],k=$o.measureText(L,f,!1,E),q=k.width,H=Math.ceil(k.height),Q=Math.ceil((f.fontStyle==="italic"?2:1)*q);if(b>=l-H*o){if(b===0)throw new Error(`[BitmapFont] textureHeight ${l}px is too small (fontFamily: '${f.fontFamily}', fontSize: ${f.fontSize}px, char: '${L}')`);--N,E=null,w=null,S=null,b=0,v=0,_=0;continue}if(_=Math.max(H+k.fontProperties.descent,_),Q*o+v>=p){if(v===0)throw new Error(`[BitmapFont] textureWidth ${a}px is too small (fontFamily: '${f.fontFamily}', fontSize: ${f.fontSize}px, char: '${L}')`);--N,b+=_*o,b=Math.ceil(b),v=0,_=0;continue}cW(E,w,k,v,b,o,f);const G=eg(k.text);g.char.push({id:G,page:A.length-1,x:v/o,y:b/o,width:Q,height:H,xoffset:0,yoffset:0,xadvance:q-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0)}),v+=(Q+2*s)*o,v=Math.ceil(v)}if(!(n!=null&&n.skipKerning))for(let N=0,L=d.length;N<L;N++){const k=d[N];for(let q=0;q<L;q++){const H=d[q],Q=w.measureText(k).width,G=w.measureText(H).width,F=w.measureText(k+H).width-(Q+G);F&&g.kerning.push({first:eg(k),second:eg(H),amount:F})}}const P=new rs(g,A,!0);return rs.available[e]!==void 0&&rs.uninstall(e),rs.available[e]=P,P}};Ro.ALPHA=[["a","z"],["A","Z"]," "],Ro.NUMERIC=[["0","9"]],Ro.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],Ro.ASCII=[[" ","~"]],Ro.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Ro.ALPHANUMERIC},Ro.available={};let Oo=Ro;class dW{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const vb=new je,eP=new vl,o4=class a4 extends Zr{constructor(e,r,n,i=Ei.TRIANGLES){super(),this.geometry=e,this.shader=r,this.state=n||Es.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=be.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Ei.TRIANGLES&&r.length<a4.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const r=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,l=i.d,u=i.tx,d=i.ty,f=this.vertexData;for(let p=0;p<f.length/2;p++){const g=r[p*2],v=r[p*2+1];f[p*2]=s*g+a*v+u,f[p*2+1]=o*g+l*v+d}if(this._roundPixels){const p=be.RESOLUTION;for(let g=0;g<f.length;++g)f[g]=Math.round(f[g]*p)/p}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new dW(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,vb);const r=this.geometry.getBuffer("aVertexPosition").data,n=eP.points,i=this.geometry.getIndex().data,s=i.length,o=this.drawMode===4?3:1;for(let a=0;a+2<s;a+=o){const l=i[a]*2,u=i[a+1]*2,d=i[a+2]*2;if(n[0]=r[l],n[1]=r[l+1],n[2]=r[u],n[3]=r[u+1],n[4]=r[d],n[5]=r[d+1],eP.contains(vb.x,vb.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};o4.BATCHABLE_SIZE=100;let Ld=o4;class Tv extends ma{constructor(e,r,n){super();const i=new or(e),s=new or(r,!0),o=new or(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,Re.FLOAT).addAttribute("aTextureCoord",s,2,!1,Re.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var fW=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,pW=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class Fd extends bs{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:Tt.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||Gs.from(pW,fW),n),this._colorDirty=!1,this.uvMatrix=new nE(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new gt(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;gt.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var mW=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,gW=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const tP=[],rP=[],nP=[],l4=class u4 extends Zr{constructor(e,r={}){super();const{align:n,tint:i,maxWidth:s,letterSpacing:o,fontName:a,fontSize:l}=Object.assign({},u4.styleDefaults,r);if(!Oo.available[a])throw new Error(`Missing BitmapFont "${a}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new gt(i),this._font=void 0,this._fontName=a,this._fontSize=l,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new Ai(()=>{this.dirty=!0},this,0,0),this._roundPixels=be.ROUND_PIXELS,this.dirty=!0,this._resolution=be.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var Q;const e=Oo.available[this._fontName],r=this.fontSize,n=r/e.size,i=new je,s=[],o=[],a=[],l=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",u=s4(l),d=this._maxWidth*e.size/r,f=e.distanceFieldType==="none"?tP:rP;let p=null,g=0,v=0,b=0,E=-1,w=0,S=0,_=0,A=0;for(let G=0;G<u.length;G++){const F=u[G],D=eg(F);if(/(?:\s)/.test(F)&&(E=G,w=g,A++),F==="\r"||F===`
`){o.push(g),a.push(-1),v=Math.max(v,g),++b,++S,i.x=0,i.y+=e.lineHeight,p=null,A=0;continue}const V=e.chars[D];if(!V)continue;p&&V.kerning[p]&&(i.x+=V.kerning[p]);const W=nP.pop()||{texture:ve.EMPTY,line:0,charCode:0,prevSpaces:0,position:new je};W.texture=V.texture,W.line=b,W.charCode=D,W.position.x=Math.round(i.x+V.xOffset+this._letterSpacing/2),W.position.y=Math.round(i.y+V.yOffset),W.prevSpaces=A,s.push(W),g=W.position.x+Math.max(V.xAdvance-V.xOffset,V.texture.orig.width),i.x+=V.xAdvance+this._letterSpacing,_=Math.max(_,V.yOffset+V.texture.height),p=D,E!==-1&&d>0&&i.x>d&&(++S,Zu(s,1+E-S,1+G-E),G=E,E=-1,o.push(w),a.push(s.length>0?s[s.length-1].prevSpaces:0),v=Math.max(v,w),b++,i.x=0,i.y+=e.lineHeight,p=null,A=0)}const P=u[u.length-1];P!=="\r"&&P!==`
`&&(/(?:\s)/.test(P)&&(g=w),o.push(g),v=Math.max(v,g),a.push(-1));const N=[];for(let G=0;G<=b;G++){let F=0;this._align==="right"?F=v-o[G]:this._align==="center"?F=(v-o[G])/2:this._align==="justify"&&(F=a[G]<0?0:(v-o[G])/a[G]),N.push(F)}const L=s.length,k={},q=[],H=this._activePagesMeshData;f.push(...H);for(let G=0;G<L;G++){const F=s[G].texture,D=F.baseTexture.uid;if(!k[D]){let V=f.pop();if(!V){const B=new Tv;let I,z;e.distanceFieldType==="none"?(I=new Fd(ve.EMPTY),z=De.NORMAL):(I=new Fd(ve.EMPTY,{program:Gs.from(gW,mW),uniforms:{uFWidth:0}}),z=De.NORMAL_NPM);const R=new Ld(B,I);R.blendMode=z,V={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:R,vertices:null,uvs:null,indices:null}}V.index=0,V.indexCount=0,V.vertexCount=0,V.uvsCount=0,V.total=0;const{_textureCache:W}=this;W[D]=W[D]||new ve(F.baseTexture),V.mesh.texture=W[D],V.mesh.tint=this._tintColor.value,q.push(V),k[D]=V}k[D].total++}for(let G=0;G<H.length;G++)q.includes(H[G])||this.removeChild(H[G].mesh);for(let G=0;G<q.length;G++)q[G].mesh.parent!==this&&this.addChild(q[G].mesh);this._activePagesMeshData=q;for(const G in k){const F=k[G],D=F.total;if(!(((Q=F.indices)==null?void 0:Q.length)>6*D)||F.vertices.length<Ld.BATCHABLE_SIZE*2)F.vertices=new Float32Array(4*2*D),F.uvs=new Float32Array(4*2*D),F.indices=new Uint16Array(6*D);else{const V=F.total,W=F.vertices;for(let B=V*4*2;B<W.length;B++)W[B]=0}F.mesh.size=6*D}for(let G=0;G<L;G++){const F=s[G];let D=F.position.x+N[F.line]*(this._align==="justify"?F.prevSpaces:1);this._roundPixels&&(D=Math.round(D));const V=D*n,W=F.position.y*n,B=F.texture,I=k[B.baseTexture.uid],z=B.frame,R=B._uvs,$=I.index++;I.indices[$*6+0]=0+$*4,I.indices[$*6+1]=1+$*4,I.indices[$*6+2]=2+$*4,I.indices[$*6+3]=0+$*4,I.indices[$*6+4]=2+$*4,I.indices[$*6+5]=3+$*4,I.vertices[$*8+0]=V,I.vertices[$*8+1]=W,I.vertices[$*8+2]=V+z.width*n,I.vertices[$*8+3]=W,I.vertices[$*8+4]=V+z.width*n,I.vertices[$*8+5]=W+z.height*n,I.vertices[$*8+6]=V,I.vertices[$*8+7]=W+z.height*n,I.uvs[$*8+0]=R.x0,I.uvs[$*8+1]=R.y0,I.uvs[$*8+2]=R.x1,I.uvs[$*8+3]=R.y1,I.uvs[$*8+4]=R.x2,I.uvs[$*8+5]=R.y2,I.uvs[$*8+6]=R.x3,I.uvs[$*8+7]=R.y3}this._textWidth=v*n,this._textHeight=(i.y+e.lineHeight)*n;for(const G in k){const F=k[G];if(this.anchor.x!==0||this.anchor.y!==0){let B=0;const I=this._textWidth*this.anchor.x,z=this._textHeight*this.anchor.y;for(let R=0;R<F.total;R++)F.vertices[B++]-=I,F.vertices[B++]-=z,F.vertices[B++]-=I,F.vertices[B++]-=z,F.vertices[B++]-=I,F.vertices[B++]-=z,F.vertices[B++]-=I,F.vertices[B++]-=z}this._maxLineHeight=_*n;const D=F.mesh.geometry.getBuffer("aVertexPosition"),V=F.mesh.geometry.getBuffer("aTextureCoord"),W=F.mesh.geometry.getIndex();D.data=F.vertices,V.data=F.uvs,W.data=F.indices,D.update(),V.update(),W.update()}for(let G=0;G<s.length;G++)nP.push(s[G]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:n,size:i}=Oo.available[this._fontName];if(n!=="none"){const{a:s,b:o,c:a,d:l}=this.worldTransform,u=Math.sqrt(s*s+o*o),d=Math.sqrt(a*a+l*l),f=(Math.abs(u)+Math.abs(d))/2,p=this.fontSize/i,g=e._view.resolution;for(const v of this._activePagesMeshData)v.mesh.shader.uniforms.uFWidth=f*r*p*g}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=Oo.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!Oo.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??Oo.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:r}=this,n=Oo.available[this._fontName].distanceFieldType==="none"?tP:rP;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>r[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=ve.EMPTY});for(const i in r)r[i].destroy(),delete r[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};l4.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let vW=l4;const iP={loader:ye.LoadParser,resolver:ye.ResolveParser,cache:ye.CacheParser,detection:ye.DetectionParser};Ie.handle(ye.Asset,t=>{const e=t.ref;Object.entries(iP).filter(([r])=>!!e[r]).forEach(([r,n])=>Ie.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(iP).filter(r=>!!e[r]).forEach(r=>Ie.remove(e[r]))});class yW{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function Dc(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function Ia(t,e){const r=t.split("?")[0],n=_r.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const _i=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t),U_=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function c4(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const a=s[o];r<e.length-1?c4(t.replace(n[r],a),e,r+1,n,i):i.push(t.replace(n[r],a))}}function bW(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),c4(t,i,0,r,n)}else n.push(t);return n}const m0=t=>!Array.isArray(t);class xW{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=_i(e);let i;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.test(r)){i=l.getCacheableAssets(n,r);break}}i||(i={},n.forEach(a=>{i[a]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==r&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),r instanceof ve){const a=r;n.forEach(l=>{a.baseTexture!==ve.EMPTY.baseTexture&&ze.addToCache(a.baseTexture,l),ve.addToCache(a,l)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const tl=new xW;class _W{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,a;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let l=0;l<this.parsers.length;l++){const u=this.parsers[l];if(u.load&&((o=u.test)!=null&&o.call(u,e,r,this))){s=u;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let l=0;l<this.parsers.length;l++){const u=this.parsers[l];u.parse&&u.parse&&await((a=u.testParse)==null?void 0:a.call(u,i,r,this))&&(i=await u.parse(i,r,this)||i,n.parser=u)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=m0(e),o=_i(e,u=>({alias:[u],src:u})),a=o.length,l=o.map(async u=>{const d=_r.toAbsolute(u.src);if(!i[u.src])try{this.promiseCache[d]||(this.promiseCache[d]=this._getLoadPromiseAndParser(d,u)),i[u.src]=await this.promiseCache[d].promise,r&&r(++n/a)}catch(f){throw delete this.promiseCache[d],delete i[u.src],new Error(`[Loader.load] Failed to load ${d}.
${f}`)}});return await Promise.all(l),s?i[o[0].src]:i}async unload(e){const r=_i(e,n=>({alias:[n],src:n})).map(async n=>{var o,a;const i=_r.toAbsolute(n.src),s=this.promiseCache[i];if(s){const l=await s.promise;delete this.promiseCache[i],(a=(o=s.parser)==null?void 0:o.unload)==null||a.call(o,l,n,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var Bi=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(Bi||{});const wW=".json",SW="application/json",EW={extension:{type:ye.LoadParser,priority:Bi.Low},name:"loadJson",test(t){return Dc(t,SW)||Ia(t,wW)},async load(t){return await(await be.ADAPTER.fetch(t)).json()}};Ie.add(EW);const TW=".txt",AW="text/plain",CW={name:"loadTxt",extension:{type:ye.LoadParser,priority:Bi.Low},test(t){return Dc(t,AW)||Ia(t,TW)},async load(t){return await(await be.ADAPTER.fetch(t)).text()}};Ie.add(CW);const IW=["normal","bold","100","200","300","400","500","600","700","800","900"],PW=[".ttf",".otf",".woff",".woff2"],MW=["font/ttf","font/otf","font/woff","font/woff2"],kW=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function NW(t){const e=_r.extname(t),r=_r.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let n=r.length>0;for(const s of r)if(!s.match(kW)){n=!1;break}let i=r.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const RW=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function OW(t){return RW.test(t)?t:encodeURI(t)}const DW={extension:{type:ye.LoadParser,priority:Bi.Low},name:"loadWebFont",test(t){return Dc(t,MW)||Ia(t,PW)},async load(t,e){var n,i,s;const r=be.ADAPTER.getFontFaceSet();if(r){const o=[],a=((n=e.data)==null?void 0:n.family)??NW(t),l=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(d=>IW.includes(d)))??["normal"],u=e.data??{};for(let d=0;d<l.length;d++){const f=l[d],p=new FontFace(a,`url(${OW(t)})`,{...u,weight:f});await p.load(),r.add(p),o.push(p)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>be.ADAPTER.getFontFaceSet().delete(e))}};Ie.add(DW);const LW=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let ec=null,B_=class{constructor(){ec||(ec=URL.createObjectURL(new Blob([LW],{type:"application/javascript"}))),this.worker=new Worker(ec)}};B_.revokeObjectURL=function(){ec&&(URL.revokeObjectURL(ec),ec=null)};const FW=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let tc=null;class h4{constructor(){tc||(tc=URL.createObjectURL(new Blob([FW],{type:"application/javascript"}))),this.worker=new Worker(tc)}}h4.revokeObjectURL=function(){tc&&(URL.revokeObjectURL(tc),tc=null)};let sP=0,yb;class UW{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:r}=new B_;r.addEventListener("message",n=>{r.terminate(),B_.revokeObjectURL(),e(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){yb===void 0&&(yb=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<yb&&(this._createdWorkers++,e=new h4().worker,e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[sP]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:sP++,id:n})}}const oP=new UW;function ff(t,e,r){t.resource.internal=!0;const n=new ve(t),i=()=>{delete e.promiseCache[r],tl.has(r)&&tl.remove(r)};return n.baseTexture.once("destroyed",()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())}),n.once("destroyed",()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const BW=[".jpeg",".jpg",".png",".webp",".avif"],zW=["image/jpeg","image/png","image/webp","image/avif"];async function jW(t){const e=await be.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const Av={name:"loadTextures",extension:{type:ye.LoadParser,priority:Bi.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return Dc(t,zW)||Ia(t,BW)},async load(t,e,r){var a;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let i;n?this.config.preferWorkers&&await oP.isImageBitmapSupported()?i=await oP.loadImageBitmap(t):i=await jW(t):i=await new Promise((l,u)=>{const d=new Image;d.crossOrigin=this.config.crossOrigin,d.src=t,d.complete?l(d):(d.onload=()=>l(d),d.onerror=f=>u(f))});const s={...e.data};s.resolution??(s.resolution=to(t)),n&&((a=s.resourceOptions)==null?void 0:a.ownsImageBitmap)===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);const o=new ze(i,s);return o.resource.src=t,ff(o,r,t)},unload(t){t.destroy(!0)}};Ie.add(Av);const $W=".svg",GW="image/svg+xml",HW={extension:{type:ye.LoadParser,priority:Bi.High},name:"loadSVG",test(t){return Dc(t,GW)||Ia(t,$W)},async testParse(t){return k_.test(t)},async parse(t,e,r){var s;const n=new k_(t,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions);await n.load();const i=new ze(n,{resolution:to(t),...e==null?void 0:e.data});return i.resource.src=e.src,ff(i,r,e.src)},async load(t,e){return(await be.ADAPTER.fetch(t)).text()},unload:Av.unload};Ie.add(HW);const VW=[".mp4",".m4v",".webm",".ogv"],WW=["video/mp4","video/webm","video/ogg"],XW={name:"loadVideo",extension:{type:ye.LoadParser,priority:Bi.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(t){return Dc(t,WW)||Ia(t,VW)},async load(t,e,r){var o;let n;const i=await(await be.ADAPTER.fetch(t)).blob(),s=URL.createObjectURL(i);try{const a={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions,autoLoad:!0},l=new t4(s,a);await l.load();const u=new ze(l,{alphaMode:await xH(),resolution:to(t),...e==null?void 0:e.data});u.resource.src=t,n=ff(u,r,t),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(a){throw URL.revokeObjectURL(s),a}return n},unload(t){t.destroy(!0)}};Ie.add(XW);class qW{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(e){const{alias:r,name:n,src:i,srcs:s}=e;return _i(r||n||i||s,o=>typeof o=="string"?o:Array.isArray(o)?o.map(a=>(a==null?void 0:a.src)??(a==null?void 0:a.srcs)??a):o!=null&&o.src||o!=null&&o.srcs?o.src??o.srcs:o,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{const s=i.src??i.srcs,o=i.alias??i.name;let a;if(typeof o=="string"){const l=this._createBundleAssetId(e,o);n.push(l),a=[o,l]}else{const l=o.map(u=>this._createBundleAssetId(e,u));n.push(...l),a=[...o,...l]}this.add({...i,alias:a,src:s})}):Object.keys(r).forEach(i=>{const s=[i,this._createBundleAssetId(e,i)];if(typeof r[i]=="string")this.add({alias:s,src:r[i]});else if(Array.isArray(r[i]))this.add({alias:s,src:r[i]});else{const o=r[i],a=o.src??o.srcs;this.add({...o,alias:s,src:Array.isArray(a)?a:[a]})}n.push(...s)}),this._bundles[e]=n}add(e,r,n,i,s){const o=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(Xe("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),o.push({alias:e,src:r,data:n,format:i,loadParser:s})):Array.isArray(e)?o.push(...e):o.push(e);let a;a=l=>{this.hasKey(l)&&console.warn(`[Resolver] already has key: ${l} overwriting`)},_i(o).forEach(l=>{const{src:u,srcs:d}=l;let{data:f,format:p,loadParser:g}=l;const v=_i(u||d).map(w=>typeof w=="string"?bW(w):Array.isArray(w)?w:[w]),b=this.getAlias(l);Array.isArray(b)?b.forEach(a):a(b);const E=[];v.forEach(w=>{w.forEach(S=>{let _={};if(typeof S!="object"){_.src=S;for(let A=0;A<this._parsers.length;A++){const P=this._parsers[A];if(P.test(S)){_=P.parse(S);break}}}else f=S.data??f,p=S.format??p,g=S.loadParser??g,_={..._,...S};if(!b)throw new Error(`[Resolver] alias is undefined for this asset: ${_.src}`);_=this.buildResolvedAsset(_,{aliases:b,data:f,format:p,loadParser:g}),E.push(_)})}),b.forEach(w=>{this._assetMap[w]=E})})}resolveBundle(e){const r=m0(e);e=_i(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const l in o){const u=o[l];a[this._extractAssetIdFromBundle(i,l)]=u}n[i]=a}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=m0(e);e=_i(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=s[0],a=this._getPreferredOrder(s);a==null||a.priority.forEach(l=>{a.params[l].forEach(u=>{const d=s.filter(f=>f[l]?f[l]===u:!1);d.length&&(s=d)})}),this._resolverHash[i]=s[0]??o}else this._resolverHash[i]=this.buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}buildResolvedAsset(e,r){const{aliases:n,data:i,loadParser:s,format:o}=r;return(this._basePath||this._rootPath)&&(e.src=_r.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.format=o??e.format??_r.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class YW{constructor(){this._detections=[],this._initialized=!1,this.resolver=new qW,this.loader=new _W,this.cache=tl,this._backgroundLoader=new yW(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let a=e.manifest;typeof a=="string"&&(a=await this.load(a)),this.resolver.addManifest(a)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r,i=await this._detectFormats({preferredFormats:(o=e.texturePreference)==null?void 0:o.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n,i,s){this.resolver.add(e,r,n,i,s)}async load(e,r){this._initialized||await this.init();const n=m0(e),i=_i(e).map(a=>{if(typeof a!="string"){const l=this.resolver.getAlias(a);return l.some(u=>!this.resolver.hasKey(u))&&this.add(a),Array.isArray(l)?l[0]:l}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,l=0;const u=()=>{r==null||r(++a/l)},d=o.map(f=>{const p=i[f];return l+=Object.keys(p).length,this._mapLoadToResolve(p,u).then(g=>{s[f]=g})});return await Promise.all(d),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return tl.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=tl.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((a,l)=>{const u=s[a.src],d=[a.src];a.alias&&d.push(...a.alias),o[i[l]]=u,tl.set(d,u)}),o}async unload(e){this._initialized||await this.init();const r=_i(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=_i(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{tl.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,i)=>r.indexOf(n)===i),r}get detections(){return this._detections}get preferWorkers(){return Av.config.preferWorkers}set preferWorkers(e){Xe("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const Yp=new YW;Ie.handleByList(ye.LoadParser,Yp.loader.parsers).handleByList(ye.ResolveParser,Yp.resolver.parsers).handleByList(ye.CacheParser,Yp.cache.parsers).handleByList(ye.DetectionParser,Yp.detections);const QW={extension:ye.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof ve),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};Ie.add(QW);async function d4(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const KW={extension:{type:ye.DetectionParser,priority:1},test:async()=>d4("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};Ie.add(KW);const ZW={extension:{type:ye.DetectionParser,priority:0},test:async()=>d4("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};Ie.add(ZW);const aP=["png","jpg","jpeg"],JW={extension:{type:ye.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...aP],remove:async t=>t.filter(e=>!aP.includes(e))};Ie.add(JW);const eX="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function oE(t){return eX?!1:document.createElement("video").canPlayType(t)!==""}const tX={extension:{type:ye.DetectionParser,priority:0},test:async()=>oE("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")};Ie.add(tX);const rX={extension:{type:ye.DetectionParser,priority:0},test:async()=>oE("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")};Ie.add(rX);const nX={extension:{type:ye.DetectionParser,priority:0},test:async()=>oE("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")};Ie.add(nX);const iX={extension:ye.ResolveParser,test:Av.test,parse:t=>{var e;return{resolution:parseFloat(((e=be.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:_r.extname(t).slice(1),src:t}}};Ie.add(iX);const sX=[".xml",".fnt"],oX={extension:{type:ye.LoadParser,priority:Bi.Normal},name:"loadBitmapFont",test(t){return sX.includes(_r.extname(t).toLowerCase())},async testParse(t){return Jm.test(t)||F_.test(t)},async parse(t,e,r){const n=Jm.test(t)?Jm.parse(t):F_.parse(t),{src:i}=e,{page:s}=n,o=[];for(let u=0;u<s.length;++u){const d=s[u].file;let f=_r.join(_r.dirname(i),d);f=U_(f,i),o.push(f)}const a=await r.load(o),l=o.map(u=>a[u]);return Oo.install(n,l,!0)},async load(t,e){return(await be.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};Ie.add(oX);const g0={build(t){const e=t.points;let r,n,i,s,o,a;if(t.type===Ir.CIRC){const v=t.shape;r=v.x,n=v.y,o=a=v.radius,i=s=0}else if(t.type===Ir.ELIP){const v=t.shape;r=v.x,n=v.y,o=v.width,a=v.height,i=s=0}else{const v=t.shape,b=v.width/2,E=v.height/2;r=v.x+b,n=v.y+E,o=a=Math.max(0,Math.min(v.radius,Math.min(b,E))),i=b-o,s=E-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const l=Math.ceil(2.3*Math.sqrt(o+a)),u=l*8+(i?4:0)+(s?4:0);if(e.length=u,u===0)return;if(l===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let d=0,f=l*4+(i?2:0)+2,p=f,g=u;{const v=i+o,b=s,E=r+v,w=r-v,S=n+b;if(e[d++]=E,e[d++]=S,e[--f]=S,e[--f]=w,s){const _=n-b;e[p++]=w,e[p++]=_,e[--g]=_,e[--g]=E}}for(let v=1;v<l;v++){const b=Math.PI/2*(v/l),E=i+Math.cos(b)*o,w=s+Math.sin(b)*a,S=r+E,_=r-E,A=n+w,P=n-w;e[d++]=S,e[d++]=A,e[--f]=A,e[--f]=_,e[p++]=_,e[p++]=P,e[--g]=P,e[--g]=S}{const v=i,b=s+a,E=r+v,w=r-v,S=n+b,_=n-b;e[d++]=E,e[d++]=S,e[--g]=_,e[--g]=E,i&&(e[d++]=w,e[d++]=S,e[--g]=_,e[--g]=w)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let a,l;if(t.type!==Ir.RREC){const d=t.shape;a=d.x,l=d.y}else{const d=t.shape;a=d.x+d.width/2,l=d.y+d.height/2}const u=t.matrix;n.push(t.matrix?u.a*a+u.c*l+u.tx:a,t.matrix?u.b*a+u.d*l+u.ty:l),s++,n.push(r[0],r[1]);for(let d=2;d<r.length;d+=2)n.push(r[d],r[d+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function lP(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const a=t[i],l=t[i+1];n+=(a-s)*(l+o),s=a,o=l}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,a=r-s-1,l=s,u=s+1;[t[o],t[l]]=[t[l],t[o]],[t[a],t[u]]=[t[u],t[a]]}}}const f4={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){lP(r,!1);const o=[];for(let u=0;u<n.length;u++){const d=n[u];lP(d.points,!0),o.push(r.length/2),r=r.concat(d.points)}const a=j7(r,o,2);if(!a)return;const l=i.length/2;for(let u=0;u<a.length;u+=3)s.push(a[u]+l),s.push(a[u+1]+l),s.push(a[u+2]+l);for(let u=0;u<r.length;u++)i.push(r[u])}}},aX={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},lX={build(t){g0.build(t)},triangulate(t,e){g0.triangulate(t,e)}};var Wn=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(Wn||{}),ea=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(ea||{});const yc={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class uP{static curveTo(e,r,n,i,s,o){const a=o[o.length-2],l=o[o.length-1]-r,u=a-e,d=i-r,f=n-e,p=Math.abs(l*f-u*d);if(p<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const g=l*l+u*u,v=d*d+f*f,b=l*d+u*f,E=s*Math.sqrt(g)/p,w=s*Math.sqrt(v)/p,S=E*b/g,_=w*b/v,A=E*f+w*u,P=E*d+w*l,N=u*(w+S),L=l*(w+S),k=f*(E+_),q=d*(E+_),H=Math.atan2(L-P,N-A),Q=Math.atan2(q-P,k-A);return{cx:A+e,cy:P+r,radius:s,startAngle:H,endAngle:Q,anticlockwise:u*d>f*l}}static arc(e,r,n,i,s,o,a,l,u){const d=a-o,f=yc._segmentsCount(Math.abs(d)*s,Math.ceil(Math.abs(d)/l0)*40),p=d/(f*2),g=p*2,v=Math.cos(p),b=Math.sin(p),E=f-1,w=E%1/E;for(let S=0;S<=E;++S){const _=S+w*S,A=p+o+g*_,P=Math.cos(A),N=-Math.sin(A);u.push((v*P+b*N)*s+n,(v*-N+b*P)*s+i)}}}class uX{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class aE{static curveLength(e,r,n,i,s,o,a,l){let u=0,d=0,f=0,p=0,g=0,v=0,b=0,E=0,w=0,S=0,_=0,A=e,P=r;for(let N=1;N<=10;++N)d=N/10,f=d*d,p=f*d,g=1-d,v=g*g,b=v*g,E=b*e+3*v*d*n+3*g*f*s+p*a,w=b*r+3*v*d*i+3*g*f*o+p*l,S=A-E,_=P-w,A=E,P=w,u+=Math.sqrt(S*S+_*_);return u}static curveTo(e,r,n,i,s,o,a){const l=a[a.length-2],u=a[a.length-1];a.length-=2;const d=yc._segmentsCount(aE.curveLength(l,u,e,r,n,i,s,o));let f=0,p=0,g=0,v=0,b=0;a.push(l,u);for(let E=1,w=0;E<=d;++E)w=E/d,f=1-w,p=f*f,g=p*f,v=w*w,b=v*w,a.push(g*l+3*p*w*e+3*f*v*n+b*s,g*u+3*p*w*r+3*f*v*i+b*o)}}function cP(t,e,r,n,i,s,o,a){const l=t-r*i,u=e-n*i,d=t+r*s,f=e+n*s;let p,g;o?(p=n,g=-r):(p=-n,g=r);const v=l+p,b=u+g,E=d+p,w=f+g;return a.push(v,b,E,w),2}function $a(t,e,r,n,i,s,o,a){const l=r-t,u=n-e;let d=Math.atan2(l,u),f=Math.atan2(i-t,s-e);a&&d<f?d+=Math.PI*2:!a&&d>f&&(f+=Math.PI*2);let p=d;const g=f-d,v=Math.abs(g),b=Math.sqrt(l*l+u*u),E=(15*v*Math.sqrt(b)/Math.PI>>0)+1,w=g/E;if(p+=w,a){o.push(t,e,r,n);for(let S=1,_=p;S<E;S++,_+=w)o.push(t,e,t+Math.sin(_)*b,e+Math.cos(_)*b);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let S=1,_=p;S<E;S++,_+=w)o.push(t+Math.sin(_)*b,e+Math.cos(_)*b,t,e);o.push(i,s,t,e)}return E*2}function cX(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new je(n[0],n[1]),a=new je(n[n.length-2],n[n.length-1]),l=r.type!==Ir.POLY||r.closeStroke,u=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(l){n=n.slice(),u&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));const B=(o.x+a.x)*.5,I=(a.y+o.y)*.5;n.unshift(B,I),n.push(B,I)}const d=e.points,f=n.length/2;let p=n.length;const g=d.length/2,v=s.width/2,b=v*v,E=s.miterLimit*s.miterLimit;let w=n[0],S=n[1],_=n[2],A=n[3],P=0,N=0,L=-(S-A),k=w-_,q=0,H=0,Q=Math.sqrt(L*L+k*k);L/=Q,k/=Q,L*=v,k*=v;const G=s.alignment,F=(1-G)*2,D=G*2;l||(s.cap===ea.ROUND?p+=$a(w-L*(F-D)*.5,S-k*(F-D)*.5,w-L*F,S-k*F,w+L*D,S+k*D,d,!0)+2:s.cap===ea.SQUARE&&(p+=cP(w,S,L,k,F,D,!0,d))),d.push(w-L*F,S-k*F,w+L*D,S+k*D);for(let B=1;B<f-1;++B){w=n[(B-1)*2],S=n[(B-1)*2+1],_=n[B*2],A=n[B*2+1],P=n[(B+1)*2],N=n[(B+1)*2+1],L=-(S-A),k=w-_,Q=Math.sqrt(L*L+k*k),L/=Q,k/=Q,L*=v,k*=v,q=-(A-N),H=_-P,Q=Math.sqrt(q*q+H*H),q/=Q,H/=Q,q*=v,H*=v;const I=_-w,z=S-A,R=_-P,$=N-A,Z=I*R+z*$,pe=z*R-$*I,fe=pe<0;if(Math.abs(pe)<.001*Math.abs(Z)){d.push(_-L*F,A-k*F,_+L*D,A+k*D),Z>=0&&(s.join===Wn.ROUND?p+=$a(_,A,_-L*F,A-k*F,_-q*F,A-H*F,d,!1)+4:p+=2,d.push(_-q*D,A-H*D,_+q*F,A+H*F));continue}const Ue=(-L+w)*(-k+A)-(-L+_)*(-k+S),Le=(-q+P)*(-H+A)-(-q+_)*(-H+N),He=(I*Le-R*Ue)/pe,dt=($*Ue-z*Le)/pe,ft=(He-_)*(He-_)+(dt-A)*(dt-A),Qe=_+(He-_)*F,Fe=A+(dt-A)*F,nt=_-(He-_)*D,qe=A-(dt-A)*D,Hr=Math.min(I*I+z*z,R*R+$*$),xn=fe?F:D,co=Hr+xn*xn*b,bf=ft<=co;let U=s.join;if(U===Wn.MITER&&ft/b>E&&(U=Wn.BEVEL),bf)switch(U){case Wn.MITER:{d.push(Qe,Fe,nt,qe);break}case Wn.BEVEL:{fe?d.push(Qe,Fe,_+L*D,A+k*D,Qe,Fe,_+q*D,A+H*D):d.push(_-L*F,A-k*F,nt,qe,_-q*F,A-H*F,nt,qe),p+=2;break}case Wn.ROUND:{fe?(d.push(Qe,Fe,_+L*D,A+k*D),p+=$a(_,A,_+L*D,A+k*D,_+q*D,A+H*D,d,!0)+4,d.push(Qe,Fe,_+q*D,A+H*D)):(d.push(_-L*F,A-k*F,nt,qe),p+=$a(_,A,_-L*F,A-k*F,_-q*F,A-H*F,d,!1)+4,d.push(_-q*F,A-H*F,nt,qe));break}}else{switch(d.push(_-L*F,A-k*F,_+L*D,A+k*D),U){case Wn.MITER:{fe?d.push(nt,qe,nt,qe):d.push(Qe,Fe,Qe,Fe),p+=2;break}case Wn.ROUND:{fe?p+=$a(_,A,_+L*D,A+k*D,_+q*D,A+H*D,d,!0)+2:p+=$a(_,A,_-L*F,A-k*F,_-q*F,A-H*F,d,!1)+2;break}}d.push(_-q*F,A-H*F,_+q*D,A+H*D),p+=2}}w=n[(f-2)*2],S=n[(f-2)*2+1],_=n[(f-1)*2],A=n[(f-1)*2+1],L=-(S-A),k=w-_,Q=Math.sqrt(L*L+k*k),L/=Q,k/=Q,L*=v,k*=v,d.push(_-L*F,A-k*F,_+L*D,A+k*D),l||(s.cap===ea.ROUND?p+=$a(_-L*(F-D)*.5,A-k*(F-D)*.5,_-L*F,A-k*F,_+L*D,A+k*D,d,!1)+2:s.cap===ea.SQUARE&&(p+=cP(_,A,L,k,F,D,!1,d)));const V=e.indices,W=yc.epsilon*yc.epsilon;for(let B=g;B<p+g-2;++B)w=d[B*2],S=d[B*2+1],_=d[(B+1)*2],A=d[(B+1)*2+1],P=d[(B+2)*2],N=d[(B+2)*2+1],!(Math.abs(w*(A-N)+_*(N-S)+P*(S-A))<W)&&V.push(B,B+1,B+2)}function hX(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==Ir.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,l=i.length/2,u=o.length/2;let d=u;for(o.push(i[0],i[1]),r=1;r<l;r++)o.push(i[r*2],i[r*2+1]),a.push(d,d+1),d++;s&&a.push(d,u)}function hP(t,e){t.lineStyle.native?hX(t,e):cX(t,e)}class lE{static curveLength(e,r,n,i,s,o){const a=e-2*n+s,l=r-2*i+o,u=2*n-2*e,d=2*i-2*r,f=4*(a*a+l*l),p=4*(a*u+l*d),g=u*u+d*d,v=2*Math.sqrt(f+p+g),b=Math.sqrt(f),E=2*f*b,w=2*Math.sqrt(g),S=p/b;return(E*v+b*p*(v-w)+(4*g*f-p*p)*Math.log((2*b+S+v)/(S+w)))/(4*E)}static curveTo(e,r,n,i,s){const o=s[s.length-2],a=s[s.length-1],l=yc._segmentsCount(lE.curveLength(o,a,e,r,n,i));let u=0,d=0;for(let f=1;f<=l;++f){const p=f/l;u=o+(e-o)*p,d=a+(r-a)*p,s.push(u+(e+(n-e)*p-u)*p,d+(r+(i-r)*p-d)*p)}}}const bb={[Ir.POLY]:f4,[Ir.CIRC]:g0,[Ir.ELIP]:g0,[Ir.RECT]:aX,[Ir.RREC]:lX},dP=[],Qp=[];class v0{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new v0(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const cu=new je,p4=class m4 extends bO{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new f0,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Qp.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r.reset(),dP.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,r=null,n=null,i=null){const s=new v0(e,r,n,i);return this.graphicsData.push(s),this.dirty++,this}drawHole(e,r=null){if(!this.graphicsData.length)return null;const n=new v0(e,null,null,r),i=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=i.lineStyle,i.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const r=this.graphicsData;for(let n=0;n<r.length;++n){const i=r[n];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,cu):cu.copyFrom(e),i.shape.contains(cu.x,cu.y))){let s=!1;if(i.holes){for(let o=0;o<i.holes.length;o++)if(i.holes[o].shape.contains(cu.x,cu.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,r=this.graphicsData;let n=null,i=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],i=n.style);for(let l=this.shapeIndex;l<r.length;l++){this.shapeIndex++;const u=r[l],d=u.fillStyle,f=u.lineStyle;bb[u.type].build(u),u.matrix&&this.transformPoints(u.points,u.matrix),(d.visible||f.visible)&&this.processHoles(u.holes);for(let p=0;p<2;p++){const g=p===0?d:f;if(!g.visible)continue;const v=g.texture.baseTexture,b=this.indices.length,E=this.points.length/2;v.wrapMode=qs.REPEAT,p===0?this.processFill(u):this.processLine(u);const w=this.points.length/2-E;w!==0&&(n&&!this._compareStyles(i,g)&&(n.end(b,E),n=null),n||(n=dP.pop()||new uX,n.begin(g,b,E),this.batches.push(n),i=g),this.addUvs(this.points,e,g.texture,E,w,g.matrix))}}const s=this.indices.length,o=this.points.length/2;if(n&&n.end(s,o),this.batches.length===0){this.batchable=!0;return}const a=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&a===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=a?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,r=this.graphicsData.length;e<r;e++){const n=this.graphicsData[e],i=n.fillStyle,s=n.lineStyle;if(i&&!i.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let r=0,n=e.length;r<n;r++){const i=e[r];for(let s=0;s<i.size;s++){const o=i.start+s;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<m4.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++ze._globalBatch;for(let f=0;f<this.drawCalls.length;f++)this.drawCalls[f].texArray.clear(),Qp.push(this.drawCalls[f]);this.drawCalls.length=0;const r=this.colors,n=this.textureIds;let i=Qp.pop();i||(i=new __,i.texArray=new T_),i.texArray.count=0,i.start=0,i.size=0,i.type=Ei.TRIANGLES;let s=0,o=null,a=0,l=!1,u=Ei.TRIANGLES,d=0;this.drawCalls.push(i);for(let f=0;f<this.batches.length;f++){const p=this.batches[f],g=8,v=p.style,b=v.texture.baseTexture;l!==!!v.native&&(l=!!v.native,u=l?Ei.LINES:Ei.TRIANGLES,o=null,s=g,e++),o!==b&&(o=b,b._batchEnabled!==e&&(s===g&&(e++,s=0,i.size>0&&(i=Qp.pop(),i||(i=new __,i.texArray=new T_),this.drawCalls.push(i)),i.start=d,i.size=0,i.texArray.count=0,i.type=u),b.touched=1,b._batchEnabled=e,b._batchLocation=s,b.wrapMode=qs.REPEAT,i.texArray.elements[i.texArray.count++]=b,s++)),i.size+=p.size,d+=p.size,a=b._batchLocation,this.addColors(r,v.color,v.alpha,p.attribSize,p.attribStart),this.addTextureIds(n,a,p.attribSize,p.attribStart)}ze._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,r=this.uvs,n=this.colors,i=this.textureIds,s=new ArrayBuffer(e.length*3*4),o=new Float32Array(s),a=new Uint32Array(s);let l=0;for(let u=0;u<e.length/2;u++)o[l++]=e[u*2],o[l++]=e[u*2+1],o[l++]=r[u*2],o[l++]=r[u*2+1],a[l++]=n[u],o[l++]=i[u];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?f4.triangulate(e,this):bb[e.type].triangulate(e,this)}processLine(e){hP(e,this);for(let r=0;r<e.holes.length;r++)hP(e.holes[r],this)}processHoles(e){for(let r=0;r<e.length;r++){const n=e[r];bb[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,r){for(let n=0;n<e.length/2;n++){const i=e[n*2],s=e[n*2+1];e[n*2]=r.a*i+r.c*s+r.tx,e[n*2+1]=r.b*i+r.d*s+r.ty}}addColors(e,r,n,i,s=0){const o=gt.shared.setValue(r).toLittleEndianNumber(),a=gt.shared.setValue(o).toPremultiplied(n);e.length=Math.max(e.length,s+i);for(let l=0;l<i;l++)e[s+l]=a}addTextureIds(e,r,n,i=0){e.length=Math.max(e.length,i+n);for(let s=0;s<n;s++)e[i+s]=r}addUvs(e,r,n,i,s,o=null){let a=0;const l=r.length,u=n.frame;for(;a<s;){let f=e[(i+a)*2],p=e[(i+a)*2+1];if(o){const g=o.a*f+o.c*p+o.tx;p=o.b*f+o.d*p+o.ty,f=g}a++,r.push(f/u.width,p/u.height)}const d=n.baseTexture;(u.width<d.width||u.height<d.height)&&this.adjustUvs(r,n,l,s)}adjustUvs(e,r,n,i){const s=r.baseTexture,o=1e-6,a=n+i*2,l=r.frame,u=l.width/s.width,d=l.height/s.height;let f=l.x/l.width,p=l.y/l.height,g=Math.floor(e[n]+o),v=Math.floor(e[n+1]+o);for(let b=n+2;b<a;b+=2)g=Math.min(g,Math.floor(e[b]+o)),v=Math.min(v,Math.floor(e[b+1]+o));f-=g,p-=v;for(let b=n;b<a;b+=2)e[b]=(e[b]+f)*u,e[b+1]=(e[b+1]+p)*d}};p4.BATCHABLE_SIZE=100;let dX=p4;class Cv{constructor(){this.color=16777215,this.alpha=1,this.texture=ve.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Cv;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=ve.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class uE extends Cv{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=ea.BUTT,this.join=Wn.MITER,this.miterLimit=10}clone(){const e=new uE;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=ea.BUTT,this.join=Wn.MITER,this.miterLimit=10}}const xb={},z_=class tg extends Zr{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Cv,this._lineStyle=new uE,this._matrix=null,this._holeMode=!1,this.state=Es.for2d(),this._geometry=e||new dX,this._geometry.refCount++,this._transformID=-1,this._tintColor=new gt(16777215),this.blendMode=De.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new tg(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,r=0,n,i=.5,s=!1){return typeof e=="number"&&(e={width:e,color:r,alpha:n,alignment:i,native:s}),this.lineTextureStyle(e)}lineTextureStyle(e){const r={width:0,texture:ve.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:ea.BUTT,join:Wn.MITER,miterLimit:10};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new vl,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new vl,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this}lineTo(e,r){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,i=n[n.length-2],s=n[n.length-1];return(i!==e||s!==r)&&n.push(e,r),this}_initCurve(e=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,r]):this.moveTo(e,r)}quadraticCurveTo(e,r,n,i){this._initCurve();const s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),lE.curveTo(e,r,n,i,s),this}bezierCurveTo(e,r,n,i,s,o){return this._initCurve(),aE.curveTo(e,r,n,i,s,o,this.currentPath.points),this}arcTo(e,r,n,i,s){this._initCurve(e,r);const o=this.currentPath.points,a=uP.curveTo(e,r,n,i,s,o);if(a){const{cx:l,cy:u,radius:d,startAngle:f,endAngle:p,anticlockwise:g}=a;this.arc(l,u,d,f,p,g)}return this}arc(e,r,n,i,s,o=!1){if(i===s)return this;if(!o&&s<=i?s+=l0:o&&i<=s&&(i+=l0),s-i===0)return this;const a=e+Math.cos(i)*n,l=r+Math.sin(i)*n,u=this._geometry.closePointEps;let d=this.currentPath?this.currentPath.points:null;if(d){const f=Math.abs(d[d.length-2]-a),p=Math.abs(d[d.length-1]-l);f<u&&p<u||d.push(a,l)}else this.moveTo(a,l),d=this.currentPath.points;return uP.arc(a,l,e,r,n,i,s,o,d),this}beginFill(e=0,r){return this.beginTextureFill({texture:ve.WHITE,color:e,alpha:r})}normalizeColor(e){const r=gt.shared.setValue(e.color??0);e.color=r.toNumber(),e.alpha??(e.alpha=r.alpha)}beginTextureFill(e){const r={texture:ve.WHITE,color:16777215,matrix:null};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,r,n,i){return this.drawShape(new Ge(e,r,n,i))}drawRoundedRect(e,r,n,i,s){return this.drawShape(new _v(e,r,n,i,s))}drawCircle(e,r,n){return this.drawShape(new bv(e,r,n))}drawEllipse(e,r,n,i){return this.drawShape(new xv(e,r,n,i))}drawPolygon(...e){let r,n=!0;const i=e[0];i.points?(n=i.closeStroke,r=i.points):Array.isArray(e[0])?r=e[0]:r=e;const s=new vl(r);return s.closeStroke=n,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===Ir.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,r=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let i=0;i<n;i++){const s=e.batches[i],o=s.style.color,a=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),l=new Float32Array(e.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),u=new Uint16Array(e.indicesUint16.buffer,s.start*2,s.size),d={vertexData:a,blendMode:r,indices:u,uvs:l,_batchRGB:gt.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[i]=d}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,n=this.batches.length;r<n;r++){const i=this.batches[r];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}}_renderDirect(e){const r=this._resolveDirectShader(e),n=this._geometry,i=this.worldAlpha,s=r.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,gt.shared.setValue(this._tintColor).premultiply(i).toArray(s.tint),e.shader.bind(r),e.geometry.bind(n,r),e.state.set(this.state);for(let a=0,l=o.length;a<l;a++)this._renderDrawCallDirect(e,n.drawCalls[a])}_renderDrawCallDirect(e,r){const{texArray:n,type:i,size:s,start:o}=r,a=n.count;for(let l=0;l<a;l++)e.texture.bind(n.elements[l],l);e.geometry.draw(i,s,o)}_resolveDirectShader(e){let r=this.shader;const n=this.pluginName;if(!r){if(!xb[n]){const{maxTextures:i}=e.plugins[n],s=new Int32Array(i);for(let l=0;l<i;l++)s[l]=l;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Tt,default:Ni.from({uSamplers:s},!0)},a=e.plugins[n]._shader.program;xb[n]=new bs(a,o)}r=xb[n]}return r}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:r,minY:n,maxX:i,maxY:s}=e.bounds;this._bounds.addFrame(this.transform,r,n,i,s)}containsPoint(e){return this.worldTransform.applyInverse(e,tg._TEMP_POINT),this._geometry.containsPoint(tg._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r._tintRGB=gt.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,l=r.ty,u=this._geometry.points,d=this.vertexData;let f=0;for(let p=0;p<u.length;p+=2){const g=u[p],v=u[p+1];d[f++]=n*g+s*v+a,d[f++]=o*v+i*g+l}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};z_.curves=yc,z_._TEMP_POINT=new je;let ad=z_;class fX extends Tv{constructor(e=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,o=this.segHeight-1,a=this.width/s,l=this.height/o;for(let d=0;d<e;d++){const f=d%this.segWidth,p=d/this.segWidth|0;r.push(f*a,p*l),n.push(f/s,p/o)}const u=s*o;for(let d=0;d<u;d++){const f=d%s,p=d/s|0,g=p*this.segWidth+f,v=p*this.segWidth+f+1,b=(p+1)*this.segWidth+f,E=(p+1)*this.segWidth+f+1;i.push(g,v,b,v,E,b)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class pX extends Tv{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let a=0,l=e[0];const u=this._width*this.textureScale,d=e.length;for(let p=0;p<d;p++){const g=p*4;if(this.textureScale>0){const v=l.x-e[p].x,b=l.y-e[p].y,E=Math.sqrt(v*v+b*b);l=e[p],a+=E/u}else a=p/(d-1);s[g]=a,s[g+1]=0,s[g+2]=a,s[g+3]=1}let f=0;for(let p=0;p<d-1;p++){const g=p*2;o[f++]=g,o[f++]=g+1,o[f++]=g+2,o[f++]=g+2,o[f++]=g+1,o[f++]=g+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,i=0,s=0;const o=this.buffers[0].data,a=e.length,l=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let u=0;u<a;u++){const d=e[u],f=u*4;u<e.length-1?n=e[u+1]:n=d,s=-(n.x-r.x),i=n.y-r.y;const p=Math.sqrt(i*i+s*s);p<1e-6?(i=0,s=0):(i/=p,s/=p,i*=l,s*=l),o[f]=d.x+i,o[f+1]=d.y+s,o[f+2]=d.x-i,o[f+3]=d.y-s,r=d}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class mX extends Ld{constructor(e,r,n){const i=new fX(e.width,e.height,r,n),s=new Fd(ve.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const Kp=10;class gX extends mX{constructor(e,r,n,i,s){var o,a,l,u;super(ve.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((o=e.defaultBorders)==null?void 0:o.left)??Kp,this._rightWidth=i??((a=e.defaultBorders)==null?void 0:a.right)??Kp,this._topHeight=n??((l=e.defaultBorders)==null?void 0:l.top)??Kp,this._bottomHeight=s??((u=e.defaultBorders)==null?void 0:u.bottom)??Kp,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class vX extends Ld{constructor(e=ve.EMPTY,r,n,i,s){const o=new Tv(r,n,i);o.getBuffer("aVertexPosition").static=!1;const a=new Fd(e);super(o,a,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class yX extends Ld{constructor(e,r,n=0){const i=new pX(e.height,r,n),s=new Fd(e);n>0&&(e.baseTexture.wrapMode=qs.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class bX extends Zr{constructor(e=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=De.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new gt(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class fP{constructor(e,r,n){this.geometry=new ma,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||Re.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new or(RH(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=r,r+=a.size,this.dynamicStride+=a.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new or(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new or(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===Re.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===Re.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===Re.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===Re.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var xX=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,_X=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class g4 extends Sv{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Tt,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Re.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=bs.from(_X,xX,{}),this.state=Es.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const l=r[0]._texture.baseTexture,u=l.alphaMode>0;this.state.blendMode=mO(e.blendMode,u),s.state.set(this.state);const d=s.gl,f=e.worldTransform.copyTo(this.tempMatrix);f.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=gt.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,u).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let p=!1;for(let g=0,v=0;g<o;g+=i,v+=1){let b=o-g;b>i&&(b=i),v>=a.length&&a.push(this._generateOneMoreBuffer(e));const E=a[v];E.uploadDynamic(r,g,b);const w=e._bufferUpdateIDs[v]||0;p=p||E._updateID<w,p&&(E._updateID=e._updateID,E.uploadStatic(r,g,b)),s.geometry.bind(E.geometry),d.drawElements(d.TRIANGLES,b*6,d.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new fP(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new fP(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let a=0,l=0,u=0,d=0;for(let f=0;f<n;++f){const p=e[r+f],g=p._texture,v=p.scale.x,b=p.scale.y,E=g.trim,w=g.orig;E?(l=E.x-p.anchor.x*w.width,a=l+E.width,d=E.y-p.anchor.y*w.height,u=d+E.height):(a=w.width*(1-p.anchor.x),l=w.width*-p.anchor.x,u=w.height*(1-p.anchor.y),d=w.height*-p.anchor.y),i[o]=l*v,i[o+1]=d*b,i[o+s]=a*v,i[o+s+1]=d*b,i[o+s*2]=a*v,i[o+s*2+1]=u*b,i[o+s*3]=l*v,i[o+s*3+1]=u*b,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let a=0;a<n;a++){const l=e[r+a].position;i[o]=l.x,i[o+1]=l.y,i[o+s]=l.x,i[o+s+1]=l.y,i[o+s*2]=l.x,i[o+s*2+1]=l.y,i[o+s*3]=l.x,i[o+s*3+1]=l.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let a=0;a<n;a++){const l=e[r+a].rotation;i[o]=l,i[o+s]=l,i[o+s*2]=l,i[o+s*3]=l,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let a=0;a<n;++a){const l=e[r+a]._texture._uvs;l?(i[o]=l.x0,i[o+1]=l.y0,i[o+s]=l.x1,i[o+s+1]=l.y1,i[o+s*2]=l.x2,i[o+s*2+1]=l.y2,i[o+s*3]=l.x3,i[o+s*3+1]=l.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let a=0;a<n;++a){const l=e[r+a],u=gt.shared.setValue(l._tintRGB).toPremultiplied(l.alpha,l.texture.baseTexture.alphaMode>0);i[o]=u,i[o+s]=u,i[o+s*2]=u,i[o+s*3]=u,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}g4.extension={name:"particle",type:ye.RendererPlugin};Ie.add(g4);class Ud extends Ts{constructor(e,r=!0){super(e[0]instanceof ve?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(br.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(br.shared.add(this.update,this,ga.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(ve.from(e[n]));return new Ud(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(ve.from(e[n]));return new Ud(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof ve)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(br.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(br.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const wh=new je;class cE extends Ts{constructor(e,r=100,n=100){super(e),this.tileTransform=new wv,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new nE(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ge),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,wh);const r=this._width,n=this._height,i=-r*this.anchor._x;if(wh.x>=i&&wh.x<i+r){const s=-n*this.anchor._y;if(wh.y>=s&&wh.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof ve?e:ve.from(e,r);return new cE(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var wX=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,SX=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,EX=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,pP=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,TX=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Zp=new Tt;class v4 extends Sv{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new PO,this.state=Es.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=bs.from(pP,TX,r),this.shader=e.context.webGLVersion>1?bs.from(SX,wX,r):bs.from(pP,EX,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const a=e._texture,l=a.baseTexture,u=l.alphaMode>0,d=e.tileTransform.localTransform,f=e.uvMatrix;let p=l.isPowerOfTwo&&a.frame.width===l.width&&a.frame.height===l.height;p&&(l._glTextures[r.CONTEXT_UID]?p=l.wrapMode!==qs.CLAMP:l.wrapMode===qs.CLAMP&&(l.wrapMode=qs.REPEAT));const g=p?this.simpleShader:this.shader,v=a.width,b=a.height,E=e._width,w=e._height;Zp.set(d.a*v/E,d.b*v/w,d.c*b/E,d.d*b/w,d.tx/E,d.ty/w),Zp.invert(),p?Zp.prepend(f.mapCoord):(g.uniforms.uMapCoord=f.mapCoord.toArray(!0),g.uniforms.uClampFrame=f.uClampFrame,g.uniforms.uClampOffset=f.uClampOffset),g.uniforms.uTransform=Zp.toArray(!0),g.uniforms.uColor=gt.shared.setValue(e.tint).premultiply(e.worldAlpha,u).toArray(g.uniforms.uColor),g.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),g.uniforms.uSampler=a,r.shader.bind(g),r.geometry.bind(n),this.state.blendMode=mO(e.blendMode,u),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}v4.extension={name:"tilingSprite",type:ye.RendererPlugin};Ie.add(v4);const y4=class j_{constructor(e){this.stage=new Zr,e=Object.assign({forceCanvas:!1},e),this.renderer=WV(e),j_._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,r){const n=j_._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};y4._plugins=[];let Iv=y4;Ie.handleByList(ye.Application,Iv._plugins);class b4{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}b4.extension=ye.Application;Ie.add(b4);var x4={exports:{}},AX="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",CX=AX,IX=CX;function _4(){}function w4(){}w4.resetWarningCache=_4;var PX=function(){function t(n,i,s,o,a,l){if(l!==IX){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:w4,resetWarningCache:_4};return r.PropTypes=r,r};x4.exports=PX();var MX=x4.exports;const Ae=wa(MX);function Mn(t){return Mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mn(t)}function S4(t){var e=function(r,n){if(Mn(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if(Mn(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return Mn(e)==="symbol"?e:String(e)}function Wt(t,e,r){return(e=S4(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _b(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function no(t){return function(e){if(Array.isArray(e))return _b(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return _b(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_b(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $t(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var kX=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function NX(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var RX=function(t){return t==null};function Fh(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=no(t);else{if(t===null||Mn(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!RX(r)&&!isNaN(r)}).map(Number)}function mP(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function wb(t){return t instanceof je||t instanceof Ai}var y0=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Sb(t,e,r){if(wb(t[e])&&wb(r))t[e].copyFrom(r);else if(wb(t[e])){var n=Fh(r);$t(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `Point` and must be set to a comma-separated string of either coordinates, an array containing coordinates, or a Point.",e,JSON.stringify(r),Mn(r)),t[e].set(n.shift(),n.shift())}else t[e]=r}var hu,E4=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},T4=function(t){return function(){return!t.apply(void 0,arguments)}},$_="children",OX=(Wt(hu={},$_,!0),Wt(hu,"parent",!0),Wt(hu,"worldAlpha",!0),Wt(hu,"worldTransform",!0),Wt(hu,"worldVisible",!0),hu),G_={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},_s=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(a){return requestAnimationFrame(function(){var l,u;a==null||(l=a.__reactpixi)===null||l===void 0||(u=l.root)===null||u===void 0||u.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(a,l){if(r.hasOwnProperty(a))return $t(l.typeofs.some(function(u){return Mn(r[a])===u})||l.instanceofs.some(function(u){return r[a]instanceof u}),"".concat(t," ").concat(a," prop is invalid")),r[a]};if(r.texture)return $t(r.texture instanceof ve,"".concat(t," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,ve]});$t(!!s,"".concat(t," could not get texture from props"));var o=ve.from(s);return o.__reactpixi={root:e},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},DX=T4(E4([].concat(no(Object.keys(OX)),no(y0))));function ws(t,e,r){var n=!1;if($t(Nt.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",Mn(t)),!r.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<y0.length;o++){var a=y0[o];e[a]!==r[a]&&(n=!0,typeof e[a]=="function"&&i&&t.removeListener(a,e[a]),typeof r[a]=="function"&&s&&t.on(a,r[a]))}var l=Object.keys(r||{});if(r.overwriteProps){for(var u=0;u<l.length;u++){var d=l[u];e[d]!==r[d]&&(n=!0,Sb(t,d,r[d]))}return n}for(var f=l.filter(DX),p=0;p<f.length;p++){var g=f[p],v=r[g];r[g]!==e[g]&&(n=!0),v!==void 0?Sb(t,g,v):g in G_?(console.warn("setting default value: ".concat(g,", from: ").concat(t[g]," to: ").concat(v," for"),t),n=!0,Sb(t,g,G_[g])):console.warn("ignoring prop: ".concat(g,", from ").concat(t[g]," to ").concat(v," for"),t)}return n}var LX=function(t,e){var r=e.text,n=e.style;return new vW(r,n)},FX=function(){return new Zr};function Pa(t,e){if(t==null)return{};var r,n,i=function(o,a){if(o==null)return{};var l,u,d={},f=Object.keys(o);for(u=0;u<f.length;u++)l=f[u],a.indexOf(l)>=0||(d[l]=o[l]);return d}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var UX=["draw","geometry"],BX=function(t,e){var r=e.geometry;$t(!r||r instanceof ad,"Graphics geometry needs to be a `Graphics`");var n=r?new ad(r.geometry):new ad;return n.applyProps=function(i,s,o){var a=o.draw;o.geometry;var l=ws(i,s,Pa(o,UX));return s.draw!==a&&typeof a=="function"&&(l=!0,a.call(n,n)),l},n},zX=["image","texture"],jX=function(t,e){var r=e.leftWidth,n=r===void 0?10:r,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,a=o===void 0?10:o,l=e.bottomHeight,u=l===void 0?10:l,d=_s("NineSlicePlane",t,e),f=new gX(d,n,s,a,u);return f.applyProps=function(p,g,v){var b=v.image,E=v.texture,w=ws(p,g,Pa(v,zX));return(b||E)&&(E!==g.texture&&(w=!0),p.texture=_s("NineSlicePlane",t,v)),w},f};function gP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(r),!0).forEach(function(n){Wt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var $X=function(t,e){var r=e.maxSize,n=r===void 0?1500:r,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,a=o!==void 0&&o,l=Jp(Jp({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),u=Jp(Jp({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),d=new bX(n,l,s,a);return d.willUnmount=function(f,p,g){f.destroy(u)},d},GX=["image","texture"],HX=function(t,e){var r=new Ts(_s("Sprite",t,e));return r.applyProps=function(n,i,s){var o=s.image,a=s.texture,l=ws(n,i,Pa(s,GX));return(a&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(l=!0),n.texture=_s("Sprite",t,s)),l},r},VX=["textures","isPlaying","initialFrame","images"],WX=function(t,e){var r=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,a=function(u){return u.map(function(d){return $t(d instanceof ve||(d==null?void 0:d.texture),"AnimationSprite texture needs to be an array of `Texture` or `{ texture: Texture, time:\n                number }`"),d})},l=n?Ud.fromImages(n):new Ud(a(r));return l[s?"gotoAndPlay":"gotoAndStop"](o||0),l.applyProps=function(u,d,f){var p=f.textures,g=f.isPlaying,v=f.initialFrame,b=f.images,E=ws(u,d,Pa(f,VX));if(b&&d.images!==b){for(var w=[],S=0;S<b.length;++S)w.push(ve.from(b[S]));u.textures=w,E=!0}if(p&&d.textures!==p&&(u.textures=a(p),E=!0),g!==d.isPlaying||v!==d.initialFrame){var _=typeof v=="number"?v:l.currentFrame||0;l[g?"gotoAndPlay":"gotoAndStop"](_),E=!0}return E},l},XX=function(t,e){var r=e.text,n=r===void 0?"":r,i=e.style,s=i===void 0?{}:i,o=e.isSprite,a=new sE(n,s);return o?(a.updateText(),new Ts(a.texture)):a},qX=["tileScale","tilePosition","image","texture"],YX=function(t,e){var r=e.width,n=r===void 0?100:r,i=e.height,s=i===void 0?100:i,o=_s("TilingSprite",t,e),a=new cE(o,n,s);return a.applyProps=function(l,u,d){var f=d.tileScale,p=d.tilePosition,g=d.image,v=d.texture,b=ws(l,u,Pa(d,qX));if(p){var E,w=Fh(p);(E=l.tilePosition).set.apply(E,no(w)),b=!mP(Fh(u.tilePosition),w)||b}if(f){var S,_=Fh(f);(S=l.tileScale).set.apply(S,no(_)),b=!mP(Fh(u.tileScale),_)||b}return(g||v)&&(v!==u.texture&&(b=!0),l.texture=_s("Sprite",t,d)),b},a},QX=["image","texture"],KX=function(t,e){var r=_s("Mesh",t,e),n=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,a=o===void 0?Ei.TRIANGLES:o,l=new vX(r,n,i,s,a);return l.applyProps=function(u,d,f){var p=f.image,g=f.texture,v=ws(u,d,Pa(f,QX));return(p||g)&&(g!==d.texture&&(v=!0),u.texture=_s("Mesh",t,f)),v},l},ZX=["image","texture"],JX=function(t,e){var r=_s("SimpleRope",t,e),n=e.points,i=new yX(r,n);return i.applyProps=function(s,o,a){var l=a.image,u=a.texture,d=Pa(a,ZX);$t(Array.isArray(a.points),"SimpleRope points needs to be %s","Array<Point>");var f=ws(s,o,d);return(l||u)&&(u!==o.texture&&(f=!0),s.texture=_s("SimpleRope",t,a)),f},i},eq=Object.freeze({__proto__:null,BitmapText:LX,Container:FX,Graphics:BX,NineSlicePlane:jX,ParticleContainer:$X,Sprite:HX,Text:XX,TilingSprite:YX,SimpleMesh:KX,SimpleRope:JX,AnimatedSprite:WX});function vP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vP(Object(r),!0).forEach(function(n){Wt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var bn={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},tq=Object.keys(bn).reduce(function(t,e){return yP(yP({},t),{},Wt({},e,eq[e]))},{}),A4={};function rq(t,e){return $t(!!t,"Expect type to be defined, got `%s`",t),$t(!bn[t],"Component `%s` could not be created, already exists in default components.",t),A4[t]=e,t}var bP,xP,_P,wP,H_={},V_={},nq={get exports(){return V_},set exports(t){V_=t}},SP={};function iq(){return xP||(xP=1,nq.exports=(bP||(bP=1,function(t){function e(I,z){var R=I.length;I.push(z);e:for(;0<R;){var $=R-1>>>1,Z=I[$];if(!(0<i(Z,z)))break e;I[$]=z,I[R]=Z,R=$}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var z=I[0],R=I.pop();if(R!==z){I[0]=R;e:for(var $=0,Z=I.length,pe=Z>>>1;$<pe;){var fe=2*($+1)-1,Ue=I[fe],Le=fe+1,He=I[Le];if(0>i(Ue,R))Le<Z&&0>i(He,Ue)?(I[$]=He,I[Le]=R,$=Le):(I[$]=Ue,I[fe]=R,$=fe);else{if(!(Le<Z&&0>i(He,R)))break e;I[$]=He,I[Le]=R,$=Le}}}return z}function i(I,z){var R=I.sortIndex-z.sortIndex;return R!==0?R:I.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,p=3,g=!1,v=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function _(I){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else{if(!(z.startTime<=I))break;n(u),z.sortIndex=z.expirationTime,e(l,z)}z=r(u)}}function A(I){if(b=!1,_(I),!v)if(r(l)!==null)v=!0,W(P);else{var z=r(u);z!==null&&B(A,z.startTime-I)}}function P(I,z){v=!1,b&&(b=!1,w(q),q=-1),g=!0;var R=p;try{for(_(z),f=r(l);f!==null&&(!(f.expirationTime>z)||I&&!G());){var $=f.callback;if(typeof $=="function"){f.callback=null,p=f.priorityLevel;var Z=$(f.expirationTime<=z);z=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===r(l)&&n(l),_(z)}else n(l);f=r(l)}if(f!==null)var pe=!0;else{var fe=r(u);fe!==null&&B(A,fe.startTime-z),pe=!1}return pe}finally{f=null,p=R,g=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,L=!1,k=null,q=-1,H=5,Q=-1;function G(){return!(t.unstable_now()-Q<H)}function F(){if(k!==null){var I=t.unstable_now();Q=I;var z=!0;try{z=k(!0,I)}finally{z?N():(L=!1,k=null)}}else L=!1}if(typeof S=="function")N=function(){S(F)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,V=D.port2;D.port1.onmessage=F,N=function(){V.postMessage(null)}}else N=function(){E(F,0)};function W(I){k=I,L||(L=!0,N())}function B(I,z){q=E(function(){I(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,W(P))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(I){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var R=p;p=z;try{return I()}finally{p=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,z){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var R=p;p=I;try{return z()}finally{p=R}},t.unstable_scheduleCallback=function(I,z,R){var $=t.unstable_now();switch(R=typeof R=="object"&&R!==null&&typeof(R=R.delay)=="number"&&0<R?$+R:$,I){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return I={id:d++,callback:z,priorityLevel:I,startTime:R,expirationTime:Z=R+Z,sortIndex:-1},R>$?(I.sortIndex=R,e(u,I),r(l)===null&&I===r(u)&&(b?(w(q),q=-1):b=!0,B(A,R-$))):(I.sortIndex=Z,e(l,I),v||g||(v=!0,W(P))),I},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(I){var z=p;return function(){var R=p;p=z;try{return I.apply(this,arguments)}finally{p=R}}}}(SP)),SP)),V_}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function sq(){return wP||(wP=1,_P=function(t){var e={},r=de,n=iq(),i=Object.assign;function s(c){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+c,m=1;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,a=Symbol.for("react.element"),l=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),A=Symbol.iterator;function P(c){return c===null||typeof c!="object"?null:typeof(c=A&&c[A]||c["@@iterator"])=="function"?c:null}function N(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case u:return"Fragment";case l:return"Portal";case f:return"Profiler";case d:return"StrictMode";case b:return"Suspense";case E:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case g:return(c.displayName||"Context")+".Consumer";case p:return(c._context.displayName||"Context")+".Provider";case v:var h=c.render;return(c=c.displayName)||(c=(c=h.displayName||h.name||"")!==""?"ForwardRef("+c+")":"ForwardRef"),c;case w:return(h=c.displayName||null)!==null?h:N(c.type)||"Memo";case S:h=c._payload,c=c._init;try{return N(c(h))}catch{}}return null}function L(c){var h=c.type;switch(c.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=(c=h.render).displayName||c.name||"",h.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return N(h);case 8:return h===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function k(c){var h=c,m=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do 4098&(h=c).flags&&(m=h.return),c=h.return;while(c)}return h.tag===3?m:null}function q(c){if(k(c)!==c)throw Error(s(188))}function H(c){var h=c.alternate;if(!h){if((h=k(c))===null)throw Error(s(188));return h!==c?null:c}for(var m=c,y=h;;){var x=m.return;if(x===null)break;var T=x.alternate;if(T===null){if((y=x.return)!==null){m=y;continue}break}if(x.child===T.child){for(T=x.child;T;){if(T===m)return q(x),c;if(T===y)return q(x),h;T=T.sibling}throw Error(s(188))}if(m.return!==y.return)m=x,y=T;else{for(var M=!1,j=x.child;j;){if(j===m){M=!0,m=x,y=T;break}if(j===y){M=!0,y=x,m=T;break}j=j.sibling}if(!M){for(j=T.child;j;){if(j===m){M=!0,m=T,y=x;break}if(j===y){M=!0,y=T,m=x;break}j=j.sibling}if(!M)throw Error(s(189))}}if(m.alternate!==y)throw Error(s(190))}if(m.tag!==3)throw Error(s(188));return m.stateNode.current===m?c:h}function Q(c){return(c=H(c))!==null?G(c):null}function G(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var h=G(c);if(h!==null)return h;c=c.sibling}return null}function F(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){if(c.tag!==4){var h=F(c);if(h!==null)return h}c=c.sibling}return null}var D,V=Array.isArray,W=t.getPublicInstance,B=t.getRootHostContext,I=t.getChildHostContext,z=t.prepareForCommit,R=t.resetAfterCommit,$=t.createInstance,Z=t.appendInitialChild,pe=t.finalizeInitialChildren,fe=t.prepareUpdate,Ue=t.shouldSetTextContent,Le=t.createTextInstance,He=t.scheduleTimeout,dt=t.cancelTimeout,ft=t.noTimeout,Qe=t.isPrimaryRenderer,Fe=t.supportsMutation,nt=t.supportsPersistence,qe=t.supportsHydration,Hr=t.getInstanceFromNode,xn=t.preparePortalMount,co=t.getCurrentEventPriority,bf=t.detachDeletedInstance,U=t.supportsMicrotasks,K=t.scheduleMicrotask,ee=t.supportsTestSelectors,xe=t.findFiberRoot,me=t.getBoundingRect,he=t.getTextContent,Pe=t.isHiddenSubtree,lt=t.matchAccessibilityRole,Yt=t.setFocusIfFocusable,Vr=t.setupIntersectionObserver,ho=t.appendChild,Ov=t.appendChildToContainer,Fc=t.commitTextUpdate,Uc=t.commitMount,Dv=t.commitUpdate,xf=t.insertBefore,Lv=t.insertInContainerBefore,_f=t.removeChild,SL=t.removeChildFromContainer,BE=t.resetTextContent,EL=t.hideInstance,TL=t.hideTextInstance,AL=t.unhideInstance,CL=t.unhideTextInstance,IL=t.clearContainer,PL=t.cloneInstance,zE=t.createContainerChildSet,jE=t.appendChildToContainerChildSet,ML=t.finalizeContainerChildren,Fv=t.replaceContainerChildren,$E=t.cloneHiddenInstance,GE=t.cloneHiddenTextInstance,kL=t.canHydrateInstance,NL=t.canHydrateTextInstance,RL=t.canHydrateSuspenseInstance,HE=t.isSuspenseInstancePending,Uv=t.isSuspenseInstanceFallback,OL=t.getSuspenseInstanceFallbackErrorDetails,DL=t.registerSuspenseInstanceRetry,wf=t.getNextHydratableSibling,LL=t.getFirstHydratableChild,FL=t.getFirstHydratableChildWithinContainer,UL=t.getFirstHydratableChildWithinSuspenseInstance,BL=t.hydrateInstance,zL=t.hydrateTextInstance,jL=t.hydrateSuspenseInstance,$L=t.getNextHydratableInstanceAfterSuspenseInstance,GL=t.commitHydratedContainer,HL=t.commitHydratedSuspenseInstance,VL=t.clearSuspenseBoundary,WL=t.clearSuspenseBoundaryFromContainer,XL=t.shouldDeleteUnhydratedTailInstances,qL=t.didNotMatchHydratedContainerTextInstance,YL=t.didNotMatchHydratedTextInstance;function Bc(c){if(D===void 0)try{throw Error()}catch(m){var h=m.stack.trim().match(/\n( *(at )?)/);D=h&&h[1]||""}return`
`+D+c}var Bv=!1;function zv(c,h){if(!c||Bv)return"";Bv=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(re){var y=re}Reflect.construct(c,[],h)}else{try{h.call()}catch(re){y=re}c.call(h.prototype)}else{try{throw Error()}catch(re){y=re}c()}}catch(re){if(re&&y&&typeof re.stack=="string"){for(var x=re.stack.split(`
`),T=y.stack.split(`
`),M=x.length-1,j=T.length-1;1<=M&&0<=j&&x[M]!==T[j];)j--;for(;1<=M&&0<=j;M--,j--)if(x[M]!==T[j]){if(M!==1||j!==1)do if(M--,0>--j||x[M]!==T[j]){var Y=`
`+x[M].replace(" at new "," at ");return c.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",c.displayName)),Y}while(1<=M&&0<=j);break}}}finally{Bv=!1,Error.prepareStackTrace=m}return(c=c?c.displayName||c.name:"")?Bc(c):""}var QL=Object.prototype.hasOwnProperty,jv=[],jl=-1;function fo(c){return{current:c}}function At(c){0>jl||(c.current=jv[jl],jv[jl]=null,jl--)}function yt(c,h){jl++,jv[jl]=c.current,c.current=h}var po={},Rr=fo(po),rn=fo(!1),Na=po;function $l(c,h){var m=c.type.contextTypes;if(!m)return po;var y=c.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===h)return y.__reactInternalMemoizedMaskedChildContext;var x,T={};for(x in m)T[x]=h[x];return y&&((c=c.stateNode).__reactInternalMemoizedUnmaskedChildContext=h,c.__reactInternalMemoizedMaskedChildContext=T),T}function _n(c){return(c=c.childContextTypes)!=null}function $v(){At(rn),At(Rr)}function VE(c,h,m){if(Rr.current!==po)throw Error(s(168));yt(Rr,h),yt(rn,m)}function WE(c,h,m){var y=c.stateNode;if(h=h.childContextTypes,typeof y.getChildContext!="function")return m;for(var x in y=y.getChildContext())if(!(x in h))throw Error(s(108,L(c)||"Unknown",x));return i({},m,y)}function Sf(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||po,Na=Rr.current,yt(Rr,c),yt(rn,rn.current),!0}function XE(c,h,m){var y=c.stateNode;if(!y)throw Error(s(169));m?(c=WE(c,h,Na),y.__reactInternalMemoizedMergedChildContext=c,At(rn),At(Rr),yt(Rr,c)):At(rn),yt(rn,m)}var oi=Math.clz32?Math.clz32:function(c){return(c>>>=0)===0?32:31-(KL(c)/ZL|0)|0},KL=Math.log,ZL=Math.LN2,Gv=64,Hv=4194304;function zc(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&c;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&c;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Ef(c,h){var m=c.pendingLanes;if(m===0)return 0;var y=0,x=c.suspendedLanes,T=c.pingedLanes,M=268435455&m;if(M!==0){var j=M&~x;j!==0?y=zc(j):(T&=M)!==0&&(y=zc(T))}else(M=m&~x)!==0?y=zc(M):T!==0&&(y=zc(T));if(y===0)return 0;if(h!==0&&h!==y&&!(h&x)&&((x=y&-y)>=(T=h&-h)||x===16&&4194240&T))return h;if(4&y&&(y|=16&m),(h=c.entangledLanes)!==0)for(c=c.entanglements,h&=y;0<h;)x=1<<(m=31-oi(h)),y|=c[m],h&=~x;return y}function JL(c,h){switch(c){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;default:return-1}}function Vv(c){return(c=-1073741825&c.pendingLanes)!==0?c:1073741824&c?1073741824:0}function qE(){var c=Gv;return!(4194240&(Gv<<=1))&&(Gv=64),c}function Wv(c){for(var h=[],m=0;31>m;m++)h.push(c);return h}function jc(c,h,m){c.pendingLanes|=h,h!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),(c=c.eventTimes)[h=31-oi(h)]=m}function Xv(c,h){var m=c.entangledLanes|=h;for(c=c.entanglements;m;){var y=31-oi(m),x=1<<y;x&h|c[y]&h&&(c[y]|=h),m&=~x}}var ot=0;function YE(c){return 1<(c&=-c)?4<c?268435455&c?16:536870912:4:1}var qv=n.unstable_scheduleCallback,QE=n.unstable_cancelCallback,eF=n.unstable_shouldYield,tF=n.unstable_requestPaint,cr=n.unstable_now,Yv=n.unstable_ImmediatePriority,rF=n.unstable_UserBlockingPriority,KE=n.unstable_NormalPriority,nF=n.unstable_IdlePriority,Tf=null,zi=null,ai=typeof Object.is=="function"?Object.is:function(c,h){return c===h&&(c!==0||1/c==1/h)||c!=c&&h!=h},As=null,Af=!1,Qv=!1;function ZE(c){As===null?As=[c]:As.push(c)}function ji(){if(!Qv&&As!==null){Qv=!0;var c=0,h=ot;try{var m=As;for(ot=1;c<m.length;c++){var y=m[c];do y=y(!0);while(y!==null)}As=null,Af=!1}catch(x){throw As!==null&&(As=As.slice(c+1)),qv(Yv,ji),x}finally{ot=h,Qv=!1}}return null}var Gl=[],Hl=0,Cf=null,If=0,Dn=[],Ln=0,Ra=null,$i=1,Cs="";function Oa(c,h){Gl[Hl++]=If,Gl[Hl++]=Cf,Cf=c,If=h}function JE(c,h,m){Dn[Ln++]=$i,Dn[Ln++]=Cs,Dn[Ln++]=Ra,Ra=c;var y=$i;c=Cs;var x=32-oi(y)-1;y&=~(1<<x),m+=1;var T=32-oi(h)+x;if(30<T){var M=x-x%5;T=(y&(1<<M)-1).toString(32),y>>=M,x-=M,$i=1<<32-oi(h)+x|m<<x|y,Cs=T+c}else $i=1<<T|m<<x|y,Cs=c}function Kv(c){c.return!==null&&(Oa(c,1),JE(c,1,0))}function Zv(c){for(;c===Cf;)Cf=Gl[--Hl],Gl[Hl]=null,If=Gl[--Hl],Gl[Hl]=null;for(;c===Ra;)Ra=Dn[--Ln],Dn[Ln]=null,Cs=Dn[--Ln],Dn[Ln]=null,$i=Dn[--Ln],Dn[Ln]=null}var wn=null,Fn=null,Ct=!1,$c=!1,li=null;function e2(c,h){var m=$n(5,null,null,0);m.elementType="DELETED",m.stateNode=h,m.return=c,(h=c.deletions)===null?(c.deletions=[m],c.flags|=16):h.push(m)}function t2(c,h){switch(c.tag){case 5:return(h=kL(h,c.type,c.pendingProps))!==null&&(c.stateNode=h,wn=c,Fn=LL(h),!0);case 6:return(h=NL(h,c.pendingProps))!==null&&(c.stateNode=h,wn=c,Fn=null,!0);case 13:if((h=RL(h))!==null){var m=Ra!==null?{id:$i,overflow:Cs}:null;return c.memoizedState={dehydrated:h,treeContext:m,retryLane:1073741824},(m=$n(18,null,null,0)).stateNode=h,m.return=c,c.child=m,wn=c,Fn=null,!0}return!1;default:return!1}}function Jv(c){return(1&c.mode)!=0&&(128&c.flags)==0}function ey(c){if(Ct){var h=Fn;if(h){var m=h;if(!t2(c,h)){if(Jv(c))throw Error(s(418));h=wf(m);var y=wn;h&&t2(c,h)?e2(y,m):(c.flags=-4097&c.flags|2,Ct=!1,wn=c)}}else{if(Jv(c))throw Error(s(418));c.flags=-4097&c.flags|2,Ct=!1,wn=c}}}function r2(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;wn=c}function Pf(c){if(!qe||c!==wn)return!1;if(!Ct)return r2(c),Ct=!0,!1;if(c.tag!==3&&(c.tag!==5||XL(c.type)&&!Ue(c.type,c.memoizedProps))){var h=Fn;if(h){if(Jv(c))throw n2(),Error(s(418));for(;h;)e2(c,h),h=wf(h)}}if(r2(c),c.tag===13){if(!qe)throw Error(s(316));if(!(c=(c=c.memoizedState)!==null?c.dehydrated:null))throw Error(s(317));Fn=$L(c)}else Fn=wn?wf(c.stateNode):null;return!0}function n2(){for(var c=Fn;c;)c=wf(c)}function Vl(){qe&&(Fn=wn=null,$c=Ct=!1)}function ty(c){li===null?li=[c]:li.push(c)}var iF=o.ReactCurrentBatchConfig;function Mf(c,h){if(ai(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var m=Object.keys(c),y=Object.keys(h);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var x=m[y];if(!QL.call(h,x)||!ai(c[x],h[x]))return!1}return!0}function sF(c){switch(c.tag){case 5:return Bc(c.type);case 16:return Bc("Lazy");case 13:return Bc("Suspense");case 19:return Bc("SuspenseList");case 0:case 2:case 15:return c=zv(c.type,!1);case 11:return c=zv(c.type.render,!1);case 1:return c=zv(c.type,!0);default:return""}}function ui(c,h){if(c&&c.defaultProps){for(var m in h=i({},h),c=c.defaultProps)h[m]===void 0&&(h[m]=c[m]);return h}return h}var kf=fo(null),Nf=null,Wl=null,ry=null;function ny(){ry=Wl=Nf=null}function i2(c,h,m){Qe?(yt(kf,h._currentValue),h._currentValue=m):(yt(kf,h._currentValue2),h._currentValue2=m)}function iy(c){var h=kf.current;At(kf),Qe?c._currentValue=h:c._currentValue2=h}function sy(c,h,m){for(;c!==null;){var y=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,y!==null&&(y.childLanes|=h)):y!==null&&(y.childLanes&h)!==h&&(y.childLanes|=h),c===m)break;c=c.return}}function Xl(c,h){Nf=c,ry=Wl=null,(c=c.dependencies)!==null&&c.firstContext!==null&&(c.lanes&h&&(nn=!0),c.firstContext=null)}function Un(c){var h=Qe?c._currentValue:c._currentValue2;if(ry!==c)if(c={context:c,memoizedValue:h,next:null},Wl===null){if(Nf===null)throw Error(s(308));Wl=c,Nf.dependencies={lanes:0,firstContext:c}}else Wl=Wl.next=c;return h}var Da=null;function oy(c){Da===null?Da=[c]:Da.push(c)}function s2(c,h,m,y){var x=h.interleaved;return x===null?(m.next=m,oy(h)):(m.next=x.next,x.next=m),h.interleaved=m,Gi(c,y)}function Gi(c,h){c.lanes|=h;var m=c.alternate;for(m!==null&&(m.lanes|=h),m=c,c=c.return;c!==null;)c.childLanes|=h,(m=c.alternate)!==null&&(m.childLanes|=h),m=c,c=c.return;return m.tag===3?m.stateNode:null}var mo=!1;function ay(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function o2(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Is(c,h){return{eventTime:c,lane:h,tag:0,payload:null,callback:null,next:null}}function go(c,h,m){var y=c.updateQueue;if(y===null)return null;if(y=y.shared,(2&et)!=0){var x=y.pending;return x===null?h.next=h:(h.next=x.next,x.next=h),y.pending=h,Gi(c,m)}return(x=y.interleaved)===null?(h.next=h,oy(y)):(h.next=x.next,x.next=h),y.interleaved=h,Gi(c,m)}function Rf(c,h,m){if((h=h.updateQueue)!==null&&(h=h.shared,(4194240&m)!=0)){var y=h.lanes;m|=y&=c.pendingLanes,h.lanes=m,Xv(c,m)}}function a2(c,h){var m=c.updateQueue,y=c.alternate;if(y!==null&&m===(y=y.updateQueue)){var x=null,T=null;if((m=m.firstBaseUpdate)!==null){do{var M={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};T===null?x=T=M:T=T.next=M,m=m.next}while(m!==null);T===null?x=T=h:T=T.next=h}else x=T=h;return m={baseState:y.baseState,firstBaseUpdate:x,lastBaseUpdate:T,shared:y.shared,effects:y.effects},void(c.updateQueue=m)}(c=m.lastBaseUpdate)===null?m.firstBaseUpdate=h:c.next=h,m.lastBaseUpdate=h}function Of(c,h,m,y){var x=c.updateQueue;mo=!1;var T=x.firstBaseUpdate,M=x.lastBaseUpdate,j=x.shared.pending;if(j!==null){x.shared.pending=null;var Y=j,re=Y.next;Y.next=null,M===null?T=re:M.next=re,M=Y;var se=c.alternate;se!==null&&(j=(se=se.updateQueue).lastBaseUpdate)!==M&&(j===null?se.firstBaseUpdate=re:j.next=re,se.lastBaseUpdate=Y)}if(T!==null){var ge=x.baseState;for(M=0,se=re=Y=null,j=T;;){var ie=j.lane,ue=j.eventTime;if((y&ie)===ie){se!==null&&(se=se.next={eventTime:ue,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var Ce=c,Ye=j;switch(ie=h,ue=m,Ye.tag){case 1:if(typeof(Ce=Ye.payload)=="function"){ge=Ce.call(ue,ge,ie);break e}ge=Ce;break e;case 3:Ce.flags=-65537&Ce.flags|128;case 0:if((ie=typeof(Ce=Ye.payload)=="function"?Ce.call(ue,ge,ie):Ce)==null)break e;ge=i({},ge,ie);break e;case 2:mo=!0}}j.callback!==null&&j.lane!==0&&(c.flags|=64,(ie=x.effects)===null?x.effects=[j]:ie.push(j))}else ue={eventTime:ue,lane:ie,tag:j.tag,payload:j.payload,callback:j.callback,next:null},se===null?(re=se=ue,Y=ge):se=se.next=ue,M|=ie;if((j=j.next)===null){if((j=x.shared.pending)===null)break;j=(ie=j).next,ie.next=null,x.lastBaseUpdate=ie,x.shared.pending=null}}if(se===null&&(Y=ge),x.baseState=Y,x.firstBaseUpdate=re,x.lastBaseUpdate=se,(h=x.shared.interleaved)!==null){x=h;do M|=x.lane,x=x.next;while(x!==h)}else T===null&&(x.shared.lanes=0);Fa|=M,c.lanes=M,c.memoizedState=ge}}function l2(c,h,m){if(c=h.effects,h.effects=null,c!==null)for(h=0;h<c.length;h++){var y=c[h],x=y.callback;if(x!==null){if(y.callback=null,y=m,typeof x!="function")throw Error(s(191,x));x.call(y)}}}var u2=new r.Component().refs;function ly(c,h,m,y){m=(m=m(y,h=c.memoizedState))==null?h:i({},h,m),c.memoizedState=m,c.lanes===0&&(c.updateQueue.baseState=m)}var Df={isMounted:function(c){return!!(c=c._reactInternals)&&k(c)===c},enqueueSetState:function(c,h,m){c=c._reactInternals;var y=Lr(),x=xo(c),T=Is(y,x);T.payload=h,m!=null&&(T.callback=m),(h=go(c,T,x))!==null&&(jn(h,c,x,y),Rf(h,c,x))},enqueueReplaceState:function(c,h,m){c=c._reactInternals;var y=Lr(),x=xo(c),T=Is(y,x);T.tag=1,T.payload=h,m!=null&&(T.callback=m),(h=go(c,T,x))!==null&&(jn(h,c,x,y),Rf(h,c,x))},enqueueForceUpdate:function(c,h){c=c._reactInternals;var m=Lr(),y=xo(c),x=Is(m,y);x.tag=2,h!=null&&(x.callback=h),(h=go(c,x,y))!==null&&(jn(h,c,y,m),Rf(h,c,y))}};function c2(c,h,m,y,x,T,M){return typeof(c=c.stateNode).shouldComponentUpdate=="function"?c.shouldComponentUpdate(y,T,M):!h.prototype||!h.prototype.isPureReactComponent||!Mf(m,y)||!Mf(x,T)}function h2(c,h,m){var y=!1,x=po,T=h.contextType;return typeof T=="object"&&T!==null?T=Un(T):(x=_n(h)?Na:Rr.current,T=(y=(y=h.contextTypes)!=null)?$l(c,x):po),h=new h(m,T),c.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Df,c.stateNode=h,h._reactInternals=c,y&&((c=c.stateNode).__reactInternalMemoizedUnmaskedChildContext=x,c.__reactInternalMemoizedMaskedChildContext=T),h}function d2(c,h,m,y){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(m,y),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(m,y),h.state!==c&&Df.enqueueReplaceState(h,h.state,null)}function uy(c,h,m,y){var x=c.stateNode;x.props=m,x.state=c.memoizedState,x.refs=u2,ay(c);var T=h.contextType;typeof T=="object"&&T!==null?x.context=Un(T):(T=_n(h)?Na:Rr.current,x.context=$l(c,T)),x.state=c.memoizedState,typeof(T=h.getDerivedStateFromProps)=="function"&&(ly(c,h,T,m),x.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(h=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),h!==x.state&&Df.enqueueReplaceState(x,x.state,null),Of(c,m,x,y),x.state=c.memoizedState),typeof x.componentDidMount=="function"&&(c.flags|=4194308)}function Gc(c,h,m){if((c=m.ref)!==null&&typeof c!="function"&&typeof c!="object"){if(m._owner){if(m=m._owner){if(m.tag!==1)throw Error(s(309));var y=m.stateNode}if(!y)throw Error(s(147,c));var x=y,T=""+c;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===T?h.ref:(h=function(M){var j=x.refs;j===u2&&(j=x.refs={}),M===null?delete j[T]:j[T]=M},h._stringRef=T,h)}if(typeof c!="string")throw Error(s(284));if(!m._owner)throw Error(s(290,c))}return c}function Lf(c,h){throw c=Object.prototype.toString.call(h),Error(s(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c))}function f2(c){return(0,c._init)(c._payload)}function p2(c){function h(oe,X){if(c){var te=oe.deletions;te===null?(oe.deletions=[X],oe.flags|=16):te.push(X)}}function m(oe,X){if(!c)return null;for(;X!==null;)h(oe,X),X=X.sibling;return null}function y(oe,X){for(oe=new Map;X!==null;)X.key!==null?oe.set(X.key,X):oe.set(X.index,X),X=X.sibling;return oe}function x(oe,X){return(oe=wo(oe,X)).index=0,oe.sibling=null,oe}function T(oe,X,te){return oe.index=te,c?(te=oe.alternate)!==null?(te=te.index)<X?(oe.flags|=2,X):te:(oe.flags|=2,X):(oe.flags|=1048576,X)}function M(oe){return c&&oe.alternate===null&&(oe.flags|=2),oe}function j(oe,X,te,ae){return X===null||X.tag!==6?((X=Yy(te,oe.mode,ae)).return=oe,X):((X=x(X,te)).return=oe,X)}function Y(oe,X,te,ae){var Oe=te.type;return Oe===u?se(oe,X,te.props.children,ae,te.key):X!==null&&(X.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===S&&f2(Oe)===X.type)?((ae=x(X,te.props)).ref=Gc(oe,X,te),ae.return=oe,ae):((ae=lp(te.type,te.key,te.props,null,oe.mode,ae)).ref=Gc(oe,X,te),ae.return=oe,ae)}function re(oe,X,te,ae){return X===null||X.tag!==4||X.stateNode.containerInfo!==te.containerInfo||X.stateNode.implementation!==te.implementation?((X=Qy(te,oe.mode,ae)).return=oe,X):((X=x(X,te.children||[])).return=oe,X)}function se(oe,X,te,ae,Oe){return X===null||X.tag!==7?((X=za(te,oe.mode,ae,Oe)).return=oe,X):((X=x(X,te)).return=oe,X)}function ge(oe,X,te){if(typeof X=="string"&&X!==""||typeof X=="number")return(X=Yy(""+X,oe.mode,te)).return=oe,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case a:return(te=lp(X.type,X.key,X.props,null,oe.mode,te)).ref=Gc(oe,null,X),te.return=oe,te;case l:return(X=Qy(X,oe.mode,te)).return=oe,X;case S:return ge(oe,(0,X._init)(X._payload),te)}if(V(X)||P(X))return(X=za(X,oe.mode,te,null)).return=oe,X;Lf(oe,X)}return null}function ie(oe,X,te,ae){var Oe=X!==null?X.key:null;if(typeof te=="string"&&te!==""||typeof te=="number")return Oe!==null?null:j(oe,X,""+te,ae);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case a:return te.key===Oe?Y(oe,X,te,ae):null;case l:return te.key===Oe?re(oe,X,te,ae):null;case S:return ie(oe,X,(Oe=te._init)(te._payload),ae)}if(V(te)||P(te))return Oe!==null?null:se(oe,X,te,ae,null);Lf(oe,te)}return null}function ue(oe,X,te,ae,Oe){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return j(X,oe=oe.get(te)||null,""+ae,Oe);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case a:return Y(X,oe=oe.get(ae.key===null?te:ae.key)||null,ae,Oe);case l:return re(X,oe=oe.get(ae.key===null?te:ae.key)||null,ae,Oe);case S:return ue(oe,X,te,(0,ae._init)(ae._payload),Oe)}if(V(ae)||P(ae))return se(X,oe=oe.get(te)||null,ae,Oe,null);Lf(X,ae)}return null}function Ce(oe,X,te,ae){for(var Oe=null,ut=null,Me=X,at=X=0,Sr=null;Me!==null&&at<te.length;at++){Me.index>at?(Sr=Me,Me=null):Sr=Me.sibling;var ct=ie(oe,Me,te[at],ae);if(ct===null){Me===null&&(Me=Sr);break}c&&Me&&ct.alternate===null&&h(oe,Me),X=T(ct,X,at),ut===null?Oe=ct:ut.sibling=ct,ut=ct,Me=Sr}if(at===te.length)return m(oe,Me),Ct&&Oa(oe,at),Oe;if(Me===null){for(;at<te.length;at++)(Me=ge(oe,te[at],ae))!==null&&(X=T(Me,X,at),ut===null?Oe=Me:ut.sibling=Me,ut=Me);return Ct&&Oa(oe,at),Oe}for(Me=y(oe,Me);at<te.length;at++)(Sr=ue(Me,oe,at,te[at],ae))!==null&&(c&&Sr.alternate!==null&&Me.delete(Sr.key===null?at:Sr.key),X=T(Sr,X,at),ut===null?Oe=Sr:ut.sibling=Sr,ut=Sr);return c&&Me.forEach(function(So){return h(oe,So)}),Ct&&Oa(oe,at),Oe}function Ye(oe,X,te,ae){var Oe=P(te);if(typeof Oe!="function")throw Error(s(150));if((te=Oe.call(te))==null)throw Error(s(151));for(var ut=Oe=null,Me=X,at=X=0,Sr=null,ct=te.next();Me!==null&&!ct.done;at++,ct=te.next()){Me.index>at?(Sr=Me,Me=null):Sr=Me.sibling;var So=ie(oe,Me,ct.value,ae);if(So===null){Me===null&&(Me=Sr);break}c&&Me&&So.alternate===null&&h(oe,Me),X=T(So,X,at),ut===null?Oe=So:ut.sibling=So,ut=So,Me=Sr}if(ct.done)return m(oe,Me),Ct&&Oa(oe,at),Oe;if(Me===null){for(;!ct.done;at++,ct=te.next())(ct=ge(oe,ct.value,ae))!==null&&(X=T(ct,X,at),ut===null?Oe=ct:ut.sibling=ct,ut=ct);return Ct&&Oa(oe,at),Oe}for(Me=y(oe,Me);!ct.done;at++,ct=te.next())(ct=ue(Me,oe,at,ct.value,ae))!==null&&(c&&ct.alternate!==null&&Me.delete(ct.key===null?at:ct.key),X=T(ct,X,at),ut===null?Oe=ct:ut.sibling=ct,ut=ct);return c&&Me.forEach(function(PF){return h(oe,PF)}),Ct&&Oa(oe,at),Oe}return function oe(X,te,ae,Oe){if(typeof ae=="object"&&ae!==null&&ae.type===u&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case a:e:{for(var ut=ae.key,Me=te;Me!==null;){if(Me.key===ut){if((ut=ae.type)===u){if(Me.tag===7){m(X,Me.sibling),(te=x(Me,ae.props.children)).return=X,X=te;break e}}else if(Me.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&f2(ut)===Me.type){m(X,Me.sibling),(te=x(Me,ae.props)).ref=Gc(X,Me,ae),te.return=X,X=te;break e}m(X,Me);break}h(X,Me),Me=Me.sibling}ae.type===u?((te=za(ae.props.children,X.mode,Oe,ae.key)).return=X,X=te):((Oe=lp(ae.type,ae.key,ae.props,null,X.mode,Oe)).ref=Gc(X,te,ae),Oe.return=X,X=Oe)}return M(X);case l:e:{for(Me=ae.key;te!==null;){if(te.key===Me){if(te.tag===4&&te.stateNode.containerInfo===ae.containerInfo&&te.stateNode.implementation===ae.implementation){m(X,te.sibling),(te=x(te,ae.children||[])).return=X,X=te;break e}m(X,te);break}h(X,te),te=te.sibling}(te=Qy(ae,X.mode,Oe)).return=X,X=te}return M(X);case S:return oe(X,te,(Me=ae._init)(ae._payload),Oe)}if(V(ae))return Ce(X,te,ae,Oe);if(P(ae))return Ye(X,te,ae,Oe);Lf(X,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,te!==null&&te.tag===6?(m(X,te.sibling),(te=x(te,ae)).return=X,X=te):(m(X,te),(te=Yy(ae,X.mode,Oe)).return=X,X=te),M(X)):m(X,te)}}var ql=p2(!0),m2=p2(!1),Hc={},Bn=fo(Hc),Vc=fo(Hc),Yl=fo(Hc);function Hi(c){if(c===Hc)throw Error(s(174));return c}function cy(c,h){yt(Yl,h),yt(Vc,c),yt(Bn,Hc),c=B(h),At(Bn),yt(Bn,c)}function Ql(){At(Bn),At(Vc),At(Yl)}function g2(c){var h=Hi(Yl.current),m=Hi(Bn.current);m!==(h=I(m,c.type,h))&&(yt(Vc,c),yt(Bn,h))}function hy(c){Vc.current===c&&(At(Bn),At(Vc))}var Bt=fo(0);function Ff(c){for(var h=c;h!==null;){if(h.tag===13){var m=h.memoizedState;if(m!==null&&((m=m.dehydrated)===null||HE(m)||Uv(m)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(128&h.flags)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var dy=[];function fy(){for(var c=0;c<dy.length;c++){var h=dy[c];Qe?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}dy.length=0}var Uf=o.ReactCurrentDispatcher,py=o.ReactCurrentBatchConfig,La=0,Rt=null,hr=null,dr=null,Bf=!1,Wc=!1,Xc=0,oF=0;function Or(){throw Error(s(321))}function my(c,h){if(h===null)return!1;for(var m=0;m<h.length&&m<c.length;m++)if(!ai(c[m],h[m]))return!1;return!0}function gy(c,h,m,y,x,T){if(La=T,Rt=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Uf.current=c===null||c.memoizedState===null?cF:hF,c=m(y,x),Wc){T=0;do{if(Wc=!1,Xc=0,25<=T)throw Error(s(301));T+=1,dr=hr=null,h.updateQueue=null,Uf.current=dF,c=m(y,x)}while(Wc)}if(Uf.current=$f,h=hr!==null&&hr.next!==null,La=0,dr=hr=Rt=null,Bf=!1,h)throw Error(s(300));return c}function vy(){var c=Xc!==0;return Xc=0,c}function Vi(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?Rt.memoizedState=dr=c:dr=dr.next=c,dr}function zn(){if(hr===null){var c=Rt.alternate;c=c!==null?c.memoizedState:null}else c=hr.next;var h=dr===null?Rt.memoizedState:dr.next;if(h!==null)dr=h,hr=c;else{if(c===null)throw Error(s(310));c={memoizedState:(hr=c).memoizedState,baseState:hr.baseState,baseQueue:hr.baseQueue,queue:hr.queue,next:null},dr===null?Rt.memoizedState=dr=c:dr=dr.next=c}return dr}function qc(c,h){return typeof h=="function"?h(c):h}function yy(c){var h=zn(),m=h.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=c;var y=hr,x=y.baseQueue,T=m.pending;if(T!==null){if(x!==null){var M=x.next;x.next=T.next,T.next=M}y.baseQueue=x=T,m.pending=null}if(x!==null){T=x.next,y=y.baseState;var j=M=null,Y=null,re=T;do{var se=re.lane;if((La&se)===se)Y!==null&&(Y=Y.next={lane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),y=re.hasEagerState?re.eagerState:c(y,re.action);else{var ge={lane:se,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null};Y===null?(j=Y=ge,M=y):Y=Y.next=ge,Rt.lanes|=se,Fa|=se}re=re.next}while(re!==null&&re!==T);Y===null?M=y:Y.next=j,ai(y,h.memoizedState)||(nn=!0),h.memoizedState=y,h.baseState=M,h.baseQueue=Y,m.lastRenderedState=y}if((c=m.interleaved)!==null){x=c;do T=x.lane,Rt.lanes|=T,Fa|=T,x=x.next;while(x!==c)}else x===null&&(m.lanes=0);return[h.memoizedState,m.dispatch]}function by(c){var h=zn(),m=h.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=c;var y=m.dispatch,x=m.pending,T=h.memoizedState;if(x!==null){m.pending=null;var M=x=x.next;do T=c(T,M.action),M=M.next;while(M!==x);ai(T,h.memoizedState)||(nn=!0),h.memoizedState=T,h.baseQueue===null&&(h.baseState=T),m.lastRenderedState=T}return[T,y]}function v2(){}function y2(c,h){var m=Rt,y=zn(),x=h(),T=!ai(y.memoizedState,x);if(T&&(y.memoizedState=x,nn=!0),y=y.queue,xy(_2.bind(null,m,y,c),[c]),y.getSnapshot!==h||T||dr!==null&&1&dr.memoizedState.tag){if(m.flags|=2048,Yc(9,x2.bind(null,m,y,x,h),void 0,null),fr===null)throw Error(s(349));30&La||b2(m,h,x)}return x}function b2(c,h,m){c.flags|=16384,c={getSnapshot:h,value:m},(h=Rt.updateQueue)===null?(h={lastEffect:null,stores:null},Rt.updateQueue=h,h.stores=[c]):(m=h.stores)===null?h.stores=[c]:m.push(c)}function x2(c,h,m,y){h.value=m,h.getSnapshot=y,w2(h)&&S2(c)}function _2(c,h,m){return m(function(){w2(h)&&S2(c)})}function w2(c){var h=c.getSnapshot;c=c.value;try{var m=h();return!ai(c,m)}catch{return!0}}function S2(c){var h=Gi(c,1);h!==null&&jn(h,c,1,-1)}function E2(c){var h=Vi();return typeof c=="function"&&(c=c()),h.memoizedState=h.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qc,lastRenderedState:c},h.queue=c,c=c.dispatch=uF.bind(null,Rt,c),[h.memoizedState,c]}function Yc(c,h,m,y){return c={tag:c,create:h,destroy:m,deps:y,next:null},(h=Rt.updateQueue)===null?(h={lastEffect:null,stores:null},Rt.updateQueue=h,h.lastEffect=c.next=c):(m=h.lastEffect)===null?h.lastEffect=c.next=c:(y=m.next,m.next=c,c.next=y,h.lastEffect=c),c}function T2(){return zn().memoizedState}function zf(c,h,m,y){var x=Vi();Rt.flags|=c,x.memoizedState=Yc(1|h,m,void 0,y===void 0?null:y)}function jf(c,h,m,y){var x=zn();y=y===void 0?null:y;var T=void 0;if(hr!==null){var M=hr.memoizedState;if(T=M.destroy,y!==null&&my(y,M.deps))return void(x.memoizedState=Yc(h,m,T,y))}Rt.flags|=c,x.memoizedState=Yc(1|h,m,T,y)}function A2(c,h){return zf(8390656,8,c,h)}function xy(c,h){return jf(2048,8,c,h)}function C2(c,h){return jf(4,2,c,h)}function I2(c,h){return jf(4,4,c,h)}function P2(c,h){return typeof h=="function"?(c=c(),h(c),function(){h(null)}):h!=null?(c=c(),h.current=c,function(){h.current=null}):void 0}function M2(c,h,m){return m=m!=null?m.concat([c]):null,jf(4,4,P2.bind(null,h,c),m)}function _y(){}function k2(c,h){var m=zn();h=h===void 0?null:h;var y=m.memoizedState;return y!==null&&h!==null&&my(h,y[1])?y[0]:(m.memoizedState=[c,h],c)}function N2(c,h){var m=zn();h=h===void 0?null:h;var y=m.memoizedState;return y!==null&&h!==null&&my(h,y[1])?y[0]:(c=c(),m.memoizedState=[c,h],c)}function R2(c,h,m){return 21&La?(ai(m,h)||(m=qE(),Rt.lanes|=m,Fa|=m,c.baseState=!0),h):(c.baseState&&(c.baseState=!1,nn=!0),c.memoizedState=m)}function aF(c,h){var m=ot;ot=m!==0&&4>m?m:4,c(!0);var y=py.transition;py.transition={};try{c(!1),h()}finally{ot=m,py.transition=y}}function O2(){return zn().memoizedState}function lF(c,h,m){var y=xo(c);m={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null},D2(c)?L2(h,m):(m=s2(c,h,m,y))!==null&&(jn(m,c,y,Lr()),F2(m,h,y))}function uF(c,h,m){var y=xo(c),x={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null};if(D2(c))L2(h,x);else{var T=c.alternate;if(c.lanes===0&&(T===null||T.lanes===0)&&(T=h.lastRenderedReducer)!==null)try{var M=h.lastRenderedState,j=T(M,m);if(x.hasEagerState=!0,x.eagerState=j,ai(j,M)){var Y=h.interleaved;return Y===null?(x.next=x,oy(h)):(x.next=Y.next,Y.next=x),void(h.interleaved=x)}}catch{}(m=s2(c,h,x,y))!==null&&(jn(m,c,y,x=Lr()),F2(m,h,y))}}function D2(c){var h=c.alternate;return c===Rt||h!==null&&h===Rt}function L2(c,h){Wc=Bf=!0;var m=c.pending;m===null?h.next=h:(h.next=m.next,m.next=h),c.pending=h}function F2(c,h,m){if(4194240&m){var y=h.lanes;m|=y&=c.pendingLanes,h.lanes=m,Xv(c,m)}}var $f={readContext:Un,useCallback:Or,useContext:Or,useEffect:Or,useImperativeHandle:Or,useInsertionEffect:Or,useLayoutEffect:Or,useMemo:Or,useReducer:Or,useRef:Or,useState:Or,useDebugValue:Or,useDeferredValue:Or,useTransition:Or,useMutableSource:Or,useSyncExternalStore:Or,useId:Or,unstable_isNewReconciler:!1},cF={readContext:Un,useCallback:function(c,h){return Vi().memoizedState=[c,h===void 0?null:h],c},useContext:Un,useEffect:A2,useImperativeHandle:function(c,h,m){return m=m!=null?m.concat([c]):null,zf(4194308,4,P2.bind(null,h,c),m)},useLayoutEffect:function(c,h){return zf(4194308,4,c,h)},useInsertionEffect:function(c,h){return zf(4,2,c,h)},useMemo:function(c,h){var m=Vi();return h=h===void 0?null:h,c=c(),m.memoizedState=[c,h],c},useReducer:function(c,h,m){var y=Vi();return h=m!==void 0?m(h):h,y.memoizedState=y.baseState=h,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:h},y.queue=c,c=c.dispatch=lF.bind(null,Rt,c),[y.memoizedState,c]},useRef:function(c){return c={current:c},Vi().memoizedState=c},useState:E2,useDebugValue:_y,useDeferredValue:function(c){return Vi().memoizedState=c},useTransition:function(){var c=E2(!1),h=c[0];return c=aF.bind(null,c[1]),Vi().memoizedState=c,[h,c]},useMutableSource:function(){},useSyncExternalStore:function(c,h,m){var y=Rt,x=Vi();if(Ct){if(m===void 0)throw Error(s(407));m=m()}else{if(m=h(),fr===null)throw Error(s(349));30&La||b2(y,h,m)}x.memoizedState=m;var T={value:m,getSnapshot:h};return x.queue=T,A2(_2.bind(null,y,T,c),[c]),y.flags|=2048,Yc(9,x2.bind(null,y,T,m,h),void 0,null),m},useId:function(){var c=Vi(),h=fr.identifierPrefix;if(Ct){var m=Cs;h=":"+h+"R"+(m=($i&~(1<<32-oi($i)-1)).toString(32)+m),0<(m=Xc++)&&(h+="H"+m.toString(32)),h+=":"}else h=":"+h+"r"+(m=oF++).toString(32)+":";return c.memoizedState=h},unstable_isNewReconciler:!1},hF={readContext:Un,useCallback:k2,useContext:Un,useEffect:xy,useImperativeHandle:M2,useInsertionEffect:C2,useLayoutEffect:I2,useMemo:N2,useReducer:yy,useRef:T2,useState:function(){return yy(qc)},useDebugValue:_y,useDeferredValue:function(c){return R2(zn(),hr.memoizedState,c)},useTransition:function(){return[yy(qc)[0],zn().memoizedState]},useMutableSource:v2,useSyncExternalStore:y2,useId:O2,unstable_isNewReconciler:!1},dF={readContext:Un,useCallback:k2,useContext:Un,useEffect:xy,useImperativeHandle:M2,useInsertionEffect:C2,useLayoutEffect:I2,useMemo:N2,useReducer:by,useRef:T2,useState:function(){return by(qc)},useDebugValue:_y,useDeferredValue:function(c){var h=zn();return hr===null?h.memoizedState=c:R2(h,hr.memoizedState,c)},useTransition:function(){return[by(qc)[0],zn().memoizedState]},useMutableSource:v2,useSyncExternalStore:y2,useId:O2,unstable_isNewReconciler:!1};function Kl(c,h){try{var m="",y=h;do m+=sF(y),y=y.return;while(y);var x=m}catch(T){x=`
Error generating stack: `+T.message+`
`+T.stack}return{value:c,source:h,stack:x,digest:null}}function wy(c,h,m){return{value:c,source:null,stack:m??null,digest:h??null}}function Sy(c,h){try{console.error(h.value)}catch(m){setTimeout(function(){throw m})}}var fF=typeof WeakMap=="function"?WeakMap:Map;function U2(c,h,m){(m=Is(-1,m)).tag=3,m.payload={element:null};var y=h.value;return m.callback=function(){rp||(rp=!0,$y=y),Sy(0,h)},m}function B2(c,h,m){(m=Is(-1,m)).tag=3;var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var x=h.value;m.payload=function(){return y(x)},m.callback=function(){Sy(0,h)}}var T=c.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(m.callback=function(){Sy(0,h),typeof y!="function"&&(yo===null?yo=new Set([this]):yo.add(this));var M=h.stack;this.componentDidCatch(h.value,{componentStack:M!==null?M:""})}),m}function z2(c,h,m){var y=c.pingCache;if(y===null){y=c.pingCache=new fF;var x=new Set;y.set(h,x)}else(x=y.get(h))===void 0&&(x=new Set,y.set(h,x));x.has(m)||(x.add(m),c=wF.bind(null,c,h,m),h.then(c,c))}function j2(c){do{var h;if((h=c.tag===13)&&(h=(h=c.memoizedState)===null||h.dehydrated!==null),h)return c;c=c.return}while(c!==null);return null}function $2(c,h,m,y,x){return 1&c.mode?(c.flags|=65536,c.lanes=x,c):(c===h?c.flags|=65536:(c.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:((h=Is(-1,1)).tag=2,go(m,h,1))),m.lanes|=1),c)}var pF=o.ReactCurrentOwner,nn=!1;function sn(c,h,m,y){h.child=c===null?m2(h,null,m,y):ql(h,c.child,m,y)}function G2(c,h,m,y,x){m=m.render;var T=h.ref;return Xl(h,x),y=gy(c,h,m,y,T,x),m=vy(),c===null||nn?(Ct&&m&&Kv(h),h.flags|=1,sn(c,h,y,x),h.child):(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~x,Ps(c,h,x))}function H2(c,h,m,y,x){if(c===null){var T=m.type;return typeof T!="function"||qy(T)||T.defaultProps!==void 0||m.compare!==null||m.defaultProps!==void 0?((c=lp(m.type,null,y,h,h.mode,x)).ref=h.ref,c.return=h,h.child=c):(h.tag=15,h.type=T,V2(c,h,T,y,x))}if(T=c.child,(c.lanes&x)==0){var M=T.memoizedProps;if((m=(m=m.compare)!==null?m:Mf)(M,y)&&c.ref===h.ref)return Ps(c,h,x)}return h.flags|=1,(c=wo(T,y)).ref=h.ref,c.return=h,h.child=c}function V2(c,h,m,y,x){if(c!==null){var T=c.memoizedProps;if(Mf(T,y)&&c.ref===h.ref){if(nn=!1,h.pendingProps=y=T,(c.lanes&x)==0)return h.lanes=c.lanes,Ps(c,h,x);131072&c.flags&&(nn=!0)}}return Ey(c,h,m,y,x)}function W2(c,h,m){var y=h.pendingProps,x=y.children,T=c!==null?c.memoizedState:null;if(y.mode==="hidden")if(!(1&h.mode))h.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(Jl,Sn),Sn|=m;else{if(!(1073741824&m))return c=T!==null?T.baseLanes|m:m,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:c,cachePool:null,transitions:null},h.updateQueue=null,yt(Jl,Sn),Sn|=c,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=T!==null?T.baseLanes:m,yt(Jl,Sn),Sn|=y}else T!==null?(y=T.baseLanes|m,h.memoizedState=null):y=m,yt(Jl,Sn),Sn|=y;return sn(c,h,x,m),h.child}function X2(c,h){var m=h.ref;(c===null&&m!==null||c!==null&&c.ref!==m)&&(h.flags|=512,h.flags|=2097152)}function Ey(c,h,m,y,x){var T=_n(m)?Na:Rr.current;return T=$l(h,T),Xl(h,x),m=gy(c,h,m,y,T,x),y=vy(),c===null||nn?(Ct&&y&&Kv(h),h.flags|=1,sn(c,h,m,x),h.child):(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~x,Ps(c,h,x))}function q2(c,h,m,y,x){if(_n(m)){var T=!0;Sf(h)}else T=!1;if(Xl(h,x),h.stateNode===null)Wf(c,h),h2(h,m,y),uy(h,m,y,x),y=!0;else if(c===null){var M=h.stateNode,j=h.memoizedProps;M.props=j;var Y=M.context,re=m.contextType;typeof re=="object"&&re!==null?re=Un(re):re=$l(h,re=_n(m)?Na:Rr.current);var se=m.getDerivedStateFromProps,ge=typeof se=="function"||typeof M.getSnapshotBeforeUpdate=="function";ge||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(j!==y||Y!==re)&&d2(h,M,y,re),mo=!1;var ie=h.memoizedState;M.state=ie,Of(h,y,M,x),Y=h.memoizedState,j!==y||ie!==Y||rn.current||mo?(typeof se=="function"&&(ly(h,m,se,y),Y=h.memoizedState),(j=mo||c2(h,m,j,y,ie,Y,re))?(ge||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(h.flags|=4194308)):(typeof M.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=y,h.memoizedState=Y),M.props=y,M.state=Y,M.context=re,y=j):(typeof M.componentDidMount=="function"&&(h.flags|=4194308),y=!1)}else{M=h.stateNode,o2(c,h),j=h.memoizedProps,re=h.type===h.elementType?j:ui(h.type,j),M.props=re,ge=h.pendingProps,ie=M.context,typeof(Y=m.contextType)=="object"&&Y!==null?Y=Un(Y):Y=$l(h,Y=_n(m)?Na:Rr.current);var ue=m.getDerivedStateFromProps;(se=typeof ue=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(j!==ge||ie!==Y)&&d2(h,M,y,Y),mo=!1,ie=h.memoizedState,M.state=ie,Of(h,y,M,x);var Ce=h.memoizedState;j!==ge||ie!==Ce||rn.current||mo?(typeof ue=="function"&&(ly(h,m,ue,y),Ce=h.memoizedState),(re=mo||c2(h,m,re,y,ie,Ce,Y)||!1)?(se||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(y,Ce,Y),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(y,Ce,Y)),typeof M.componentDidUpdate=="function"&&(h.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof M.componentDidUpdate!="function"||j===c.memoizedProps&&ie===c.memoizedState||(h.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||j===c.memoizedProps&&ie===c.memoizedState||(h.flags|=1024),h.memoizedProps=y,h.memoizedState=Ce),M.props=y,M.state=Ce,M.context=Y,y=re):(typeof M.componentDidUpdate!="function"||j===c.memoizedProps&&ie===c.memoizedState||(h.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||j===c.memoizedProps&&ie===c.memoizedState||(h.flags|=1024),y=!1)}return Ty(c,h,m,y,T,x)}function Ty(c,h,m,y,x,T){X2(c,h);var M=(128&h.flags)!=0;if(!y&&!M)return x&&XE(h,m,!1),Ps(c,h,T);y=h.stateNode,pF.current=h;var j=M&&typeof m.getDerivedStateFromError!="function"?null:y.render();return h.flags|=1,c!==null&&M?(h.child=ql(h,c.child,null,T),h.child=ql(h,null,j,T)):sn(c,h,j,T),h.memoizedState=y.state,x&&XE(h,m,!0),h.child}function Y2(c){var h=c.stateNode;h.pendingContext?VE(0,h.pendingContext,h.pendingContext!==h.context):h.context&&VE(0,h.context,!1),cy(c,h.containerInfo)}function Q2(c,h,m,y,x){return Vl(),ty(x),h.flags|=256,sn(c,h,m,y),h.child}var Qc,Kc,Gf,Hf,Ay={dehydrated:null,treeContext:null,retryLane:0};function Cy(c){return{baseLanes:c,cachePool:null,transitions:null}}function K2(c,h,m){var y,x=h.pendingProps,T=Bt.current,M=!1,j=(128&h.flags)!=0;if((y=j)||(y=(c===null||c.memoizedState!==null)&&(2&T)!=0),y?(M=!0,h.flags&=-129):c!==null&&c.memoizedState===null||(T|=1),yt(Bt,1&T),c===null)return ey(h),(c=h.memoizedState)!==null&&(c=c.dehydrated)!==null?(1&h.mode?Uv(c)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(j=x.children,c=x.fallback,M?(x=h.mode,M=h.child,j={mode:"hidden",children:j},!(1&x)&&M!==null?(M.childLanes=0,M.pendingProps=j):M=up(j,x,0,null),c=za(c,x,m,null),M.return=h,c.return=h,M.sibling=c,h.child=M,h.child.memoizedState=Cy(m),h.memoizedState=Ay,c):Iy(h,j));if((T=c.memoizedState)!==null&&(y=T.dehydrated)!==null)return function(re,se,ge,ie,ue,Ce,Ye){if(ge)return 256&se.flags?(se.flags&=-257,Vf(re,se,Ye,ie=wy(Error(s(422))))):se.memoizedState!==null?(se.child=re.child,se.flags|=128,null):(Ce=ie.fallback,ue=se.mode,ie=up({mode:"visible",children:ie.children},ue,0,null),(Ce=za(Ce,ue,Ye,null)).flags|=2,ie.return=se,Ce.return=se,ie.sibling=Ce,se.child=ie,1&se.mode&&ql(se,re.child,null,Ye),se.child.memoizedState=Cy(Ye),se.memoizedState=Ay,Ce);if(!(1&se.mode))return Vf(re,se,Ye,null);if(Uv(ue))return ie=OL(ue).digest,Ce=Error(s(419)),ie=wy(Ce,ie,void 0),Vf(re,se,Ye,ie);if(ge=(Ye&re.childLanes)!=0,nn||ge){if((ie=fr)!==null){switch(Ye&-Ye){case 4:ue=2;break;case 16:ue=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ue=32;break;case 536870912:ue=268435456;break;default:ue=0}(ue=ue&(ie.suspendedLanes|Ye)?0:ue)!==0&&ue!==Ce.retryLane&&(Ce.retryLane=ue,Gi(re,ue),jn(ie,re,ue,-1))}return Xy(),Vf(re,se,Ye,ie=wy(Error(s(421))))}return HE(ue)?(se.flags|=128,se.child=re.child,se=SF.bind(null,re),DL(ue,se),null):(re=Ce.treeContext,qe&&(Fn=UL(ue),wn=se,Ct=!0,li=null,$c=!1,re!==null&&(Dn[Ln++]=$i,Dn[Ln++]=Cs,Dn[Ln++]=Ra,$i=re.id,Cs=re.overflow,Ra=se)),se=Iy(se,ie.children),se.flags|=4096,se)}(c,h,j,x,y,T,m);if(M){M=x.fallback,j=h.mode,y=(T=c.child).sibling;var Y={mode:"hidden",children:x.children};return!(1&j)&&h.child!==T?((x=h.child).childLanes=0,x.pendingProps=Y,h.deletions=null):(x=wo(T,Y)).subtreeFlags=14680064&T.subtreeFlags,y!==null?M=wo(y,M):(M=za(M,j,m,null)).flags|=2,M.return=h,x.return=h,x.sibling=M,h.child=x,x=M,M=h.child,j=(j=c.child.memoizedState)===null?Cy(m):{baseLanes:j.baseLanes|m,cachePool:null,transitions:j.transitions},M.memoizedState=j,M.childLanes=c.childLanes&~m,h.memoizedState=Ay,x}return c=(M=c.child).sibling,x=wo(M,{mode:"visible",children:x.children}),!(1&h.mode)&&(x.lanes=m),x.return=h,x.sibling=null,c!==null&&((m=h.deletions)===null?(h.deletions=[c],h.flags|=16):m.push(c)),h.child=x,h.memoizedState=null,x}function Iy(c,h){return(h=up({mode:"visible",children:h},c.mode,0,null)).return=c,c.child=h}function Vf(c,h,m,y){return y!==null&&ty(y),ql(h,c.child,null,m),(c=Iy(h,h.pendingProps.children)).flags|=2,h.memoizedState=null,c}function Z2(c,h,m){c.lanes|=h;var y=c.alternate;y!==null&&(y.lanes|=h),sy(c.return,h,m)}function Py(c,h,m,y,x){var T=c.memoizedState;T===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:x}:(T.isBackwards=h,T.rendering=null,T.renderingStartTime=0,T.last=y,T.tail=m,T.tailMode=x)}function J2(c,h,m){var y=h.pendingProps,x=y.revealOrder,T=y.tail;if(sn(c,h,y.children,m),(2&(y=Bt.current))!=0)y=1&y|2,h.flags|=128;else{if(c!==null&&128&c.flags)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&Z2(c,m,h);else if(c.tag===19)Z2(c,m,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}y&=1}if(yt(Bt,y),(1&h.mode)==0)h.memoizedState=null;else switch(x){case"forwards":for(m=h.child,x=null;m!==null;)(c=m.alternate)!==null&&Ff(c)===null&&(x=m),m=m.sibling;(m=x)===null?(x=h.child,h.child=null):(x=m.sibling,m.sibling=null),Py(h,!1,x,m,T);break;case"backwards":for(m=null,x=h.child,h.child=null;x!==null;){if((c=x.alternate)!==null&&Ff(c)===null){h.child=x;break}c=x.sibling,x.sibling=m,m=x,x=c}Py(h,!0,m,null,T);break;case"together":Py(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Wf(c,h){!(1&h.mode)&&c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2)}function Ps(c,h,m){if(c!==null&&(h.dependencies=c.dependencies),Fa|=h.lanes,(m&h.childLanes)==0)return null;if(c!==null&&h.child!==c.child)throw Error(s(153));if(h.child!==null){for(m=wo(c=h.child,c.pendingProps),h.child=m,m.return=h;c.sibling!==null;)c=c.sibling,(m=m.sibling=wo(c,c.pendingProps)).return=h;m.sibling=null}return h.child}function Wi(c){c.flags|=4}function eT(c,h){if(c!==null&&c.child===h.child)return!0;if(16&h.flags)return!1;for(c=h.child;c!==null;){if(12854&c.flags||12854&c.subtreeFlags)return!1;c=c.sibling}return!0}if(Fe)Qc=function(c,h){for(var m=h.child;m!==null;){if(m.tag===5||m.tag===6)Z(c,m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Kc=function(){},Gf=function(c,h,m,y,x){if((c=c.memoizedProps)!==y){var T=h.stateNode,M=Hi(Bn.current);m=fe(T,m,c,y,x,M),(h.updateQueue=m)&&Wi(h)}},Hf=function(c,h,m,y){m!==y&&Wi(h)};else if(nt){Qc=function(c,h,m,y){for(var x=h.child;x!==null;){if(x.tag===5){var T=x.stateNode;m&&y&&(T=$E(T,x.type,x.memoizedProps,x)),Z(c,T)}else if(x.tag===6)T=x.stateNode,m&&y&&(T=GE(T,x.memoizedProps,x)),Z(c,T);else if(x.tag!==4){if(x.tag===22&&x.memoizedState!==null)(T=x.child)!==null&&(T.return=x),Qc(c,x,!0,!0);else if(x.child!==null){x.child.return=x,x=x.child;continue}}if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return;x=x.return}x.sibling.return=x.return,x=x.sibling}};var tT=function(c,h,m,y){for(var x=h.child;x!==null;){if(x.tag===5){var T=x.stateNode;m&&y&&(T=$E(T,x.type,x.memoizedProps,x)),jE(c,T)}else if(x.tag===6)T=x.stateNode,m&&y&&(T=GE(T,x.memoizedProps,x)),jE(c,T);else if(x.tag!==4){if(x.tag===22&&x.memoizedState!==null)(T=x.child)!==null&&(T.return=x),tT(c,x,!0,!0);else if(x.child!==null){x.child.return=x,x=x.child;continue}}if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return;x=x.return}x.sibling.return=x.return,x=x.sibling}};Kc=function(c,h){var m=h.stateNode;if(!eT(c,h)){c=m.containerInfo;var y=zE(c);tT(y,h,!1,!1),m.pendingChildren=y,Wi(h),ML(c,y)}},Gf=function(c,h,m,y,x){var T=c.stateNode,M=c.memoizedProps;if((c=eT(c,h))&&M===y)h.stateNode=T;else{var j=h.stateNode,Y=Hi(Bn.current),re=null;M!==y&&(re=fe(j,m,M,y,x,Y)),c&&re===null?h.stateNode=T:(T=PL(T,re,m,M,y,h,c,j),pe(T,m,y,x,Y)&&Wi(h),h.stateNode=T,c?Wi(h):Qc(T,h,!1,!1))}},Hf=function(c,h,m,y){m!==y?(c=Hi(Yl.current),m=Hi(Bn.current),h.stateNode=Le(y,c,m,h),Wi(h)):h.stateNode=c.stateNode}}else Kc=function(){},Gf=function(){},Hf=function(){};function Zc(c,h){if(!Ct)switch(c.tailMode){case"hidden":h=c.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?c.tail=null:m.sibling=null;break;case"collapsed":m=c.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:y.sibling=null}}function Wr(c){var h=c.alternate!==null&&c.alternate.child===c.child,m=0,y=0;if(h)for(var x=c.child;x!==null;)m|=x.lanes|x.childLanes,y|=14680064&x.subtreeFlags,y|=14680064&x.flags,x.return=c,x=x.sibling;else for(x=c.child;x!==null;)m|=x.lanes|x.childLanes,y|=x.subtreeFlags,y|=x.flags,x.return=c,x=x.sibling;return c.subtreeFlags|=y,c.childLanes=m,h}function mF(c,h,m){var y=h.pendingProps;switch(Zv(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wr(h),null;case 1:case 17:return _n(h.type)&&$v(),Wr(h),null;case 3:return m=h.stateNode,Ql(),At(rn),At(Rr),fy(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),c!==null&&c.child!==null||(Pf(h)?Wi(h):c===null||c.memoizedState.isDehydrated&&!(256&h.flags)||(h.flags|=1024,li!==null&&(Vy(li),li=null))),Kc(c,h),Wr(h),null;case 5:hy(h),m=Hi(Yl.current);var x=h.type;if(c!==null&&h.stateNode!=null)Gf(c,h,x,y,m),c.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!y){if(h.stateNode===null)throw Error(s(166));return Wr(h),null}if(c=Hi(Bn.current),Pf(h)){if(!qe)throw Error(s(175));c=BL(h.stateNode,h.type,h.memoizedProps,m,c,h,!$c),h.updateQueue=c,c!==null&&Wi(h)}else{var T=$(x,y,m,c,h);Qc(T,h,!1,!1),h.stateNode=T,pe(T,x,y,m,c)&&Wi(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Wr(h),null;case 6:if(c&&h.stateNode!=null)Hf(c,h,c.memoizedProps,y);else{if(typeof y!="string"&&h.stateNode===null)throw Error(s(166));if(c=Hi(Yl.current),m=Hi(Bn.current),Pf(h)){if(!qe)throw Error(s(176));if(c=h.stateNode,m=h.memoizedProps,(y=zL(c,m,h,!$c))&&(x=wn)!==null)switch(x.tag){case 3:qL(x.stateNode.containerInfo,c,m,(1&x.mode)!=0);break;case 5:YL(x.type,x.memoizedProps,x.stateNode,c,m,(1&x.mode)!=0)}y&&Wi(h)}else h.stateNode=Le(y,c,m,h)}return Wr(h),null;case 13:if(At(Bt),y=h.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(Ct&&Fn!==null&&1&h.mode&&!(128&h.flags))n2(),Vl(),h.flags|=98560,x=!1;else if(x=Pf(h),y!==null&&y.dehydrated!==null){if(c===null){if(!x)throw Error(s(318));if(!qe)throw Error(s(344));if(!(x=(x=h.memoizedState)!==null?x.dehydrated:null))throw Error(s(317));jL(x,h)}else Vl(),!(128&h.flags)&&(h.memoizedState=null),h.flags|=4;Wr(h),x=!1}else li!==null&&(Vy(li),li=null),x=!0;if(!x)return 65536&h.flags?h:null}return 128&h.flags?(h.lanes=m,h):((m=y!==null)!=(c!==null&&c.memoizedState!==null)&&m&&(h.child.flags|=8192,1&h.mode&&(c===null||1&Bt.current?er===0&&(er=3):Xy())),h.updateQueue!==null&&(h.flags|=4),Wr(h),null);case 4:return Ql(),Kc(c,h),c===null&&xn(h.stateNode.containerInfo),Wr(h),null;case 10:return iy(h.type._context),Wr(h),null;case 19:if(At(Bt),(x=h.memoizedState)===null)return Wr(h),null;if(y=(128&h.flags)!=0,(T=x.rendering)===null)if(y)Zc(x,!1);else{if(er!==0||c!==null&&128&c.flags)for(c=h.child;c!==null;){if((T=Ff(c))!==null){for(h.flags|=128,Zc(x,!1),(c=T.updateQueue)!==null&&(h.updateQueue=c,h.flags|=4),h.subtreeFlags=0,c=m,m=h.child;m!==null;)x=c,(y=m).flags&=14680066,(T=y.alternate)===null?(y.childLanes=0,y.lanes=x,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,x=T.dependencies,y.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext}),m=m.sibling;return yt(Bt,1&Bt.current|2),h.child}c=c.sibling}x.tail!==null&&cr()>jy&&(h.flags|=128,y=!0,Zc(x,!1),h.lanes=4194304)}else{if(!y)if((c=Ff(T))!==null){if(h.flags|=128,y=!0,(c=c.updateQueue)!==null&&(h.updateQueue=c,h.flags|=4),Zc(x,!0),x.tail===null&&x.tailMode==="hidden"&&!T.alternate&&!Ct)return Wr(h),null}else 2*cr()-x.renderingStartTime>jy&&m!==1073741824&&(h.flags|=128,y=!0,Zc(x,!1),h.lanes=4194304);x.isBackwards?(T.sibling=h.child,h.child=T):((c=x.last)!==null?c.sibling=T:h.child=T,x.last=T)}return x.tail!==null?(h=x.tail,x.rendering=h,x.tail=h.sibling,x.renderingStartTime=cr(),h.sibling=null,c=Bt.current,yt(Bt,y?1&c|2:1&c),h):(Wr(h),null);case 22:case 23:return Wy(),m=h.memoizedState!==null,c!==null&&c.memoizedState!==null!==m&&(h.flags|=8192),m&&1&h.mode?1073741824&Sn&&(Wr(h),Fe&&6&h.subtreeFlags&&(h.flags|=8192)):Wr(h),null;case 24:case 25:return null}throw Error(s(156,h.tag))}function gF(c,h){switch(Zv(h),h.tag){case 1:return _n(h.type)&&$v(),65536&(c=h.flags)?(h.flags=-65537&c|128,h):null;case 3:return Ql(),At(rn),At(Rr),fy(),65536&(c=h.flags)&&!(128&c)?(h.flags=-65537&c|128,h):null;case 5:return hy(h),null;case 13:if(At(Bt),(c=h.memoizedState)!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(s(340));Vl()}return 65536&(c=h.flags)?(h.flags=-65537&c|128,h):null;case 19:return At(Bt),null;case 4:return Ql(),null;case 10:return iy(h.type._context),null;case 22:case 23:return Wy(),null;default:return null}}var Xf=!1,Dr=!1,vF=typeof WeakSet=="function"?WeakSet:Set,Se=null;function Zl(c,h){var m=c.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(y){It(c,h,y)}else m.current=null}function rT(c,h,m){try{m()}catch(y){It(c,h,y)}}var nT=!1;function Jc(c,h,m){var y=h.updateQueue;if((y=y!==null?y.lastEffect:null)!==null){var x=y=y.next;do{if((x.tag&c)===c){var T=x.destroy;x.destroy=void 0,T!==void 0&&rT(h,m,T)}x=x.next}while(x!==y)}}function qf(c,h){if((h=(h=h.updateQueue)!==null?h.lastEffect:null)!==null){var m=h=h.next;do{if((m.tag&c)===c){var y=m.create;m.destroy=y()}m=m.next}while(m!==h)}}function My(c){var h=c.ref;if(h!==null){var m=c.stateNode;c.tag===5?c=W(m):c=m,typeof h=="function"?h(c):h.current=c}}function iT(c){var h=c.alternate;h!==null&&(c.alternate=null,iT(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode)!==null&&bf(h),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function sT(c){return c.tag===5||c.tag===3||c.tag===4}function oT(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||sT(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(2&c.flags||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(2&c.flags))return c.stateNode}}function ky(c,h,m){var y=c.tag;if(y===5||y===6)c=c.stateNode,h?Lv(m,c,h):Ov(m,c);else if(y!==4&&(c=c.child)!==null)for(ky(c,h,m),c=c.sibling;c!==null;)ky(c,h,m),c=c.sibling}function Ny(c,h,m){var y=c.tag;if(y===5||y===6)c=c.stateNode,h?xf(m,c,h):ho(m,c);else if(y!==4&&(c=c.child)!==null)for(Ny(c,h,m),c=c.sibling;c!==null;)Ny(c,h,m),c=c.sibling}var Xr=null,Xi=!1;function qi(c,h,m){for(m=m.child;m!==null;)Ry(c,h,m),m=m.sibling}function Ry(c,h,m){if(zi&&typeof zi.onCommitFiberUnmount=="function")try{zi.onCommitFiberUnmount(Tf,m)}catch{}switch(m.tag){case 5:Dr||Zl(m,h);case 6:if(Fe){var y=Xr,x=Xi;Xr=null,qi(c,h,m),Xi=x,(Xr=y)!==null&&(Xi?SL(Xr,m.stateNode):_f(Xr,m.stateNode))}else qi(c,h,m);break;case 18:Fe&&Xr!==null&&(Xi?WL(Xr,m.stateNode):VL(Xr,m.stateNode));break;case 4:Fe?(y=Xr,x=Xi,Xr=m.stateNode.containerInfo,Xi=!0,qi(c,h,m),Xr=y,Xi=x):(nt&&(y=m.stateNode.containerInfo,x=zE(y),Fv(y,x)),qi(c,h,m));break;case 0:case 11:case 14:case 15:if(!Dr&&(y=m.updateQueue)!==null&&(y=y.lastEffect)!==null){x=y=y.next;do{var T=x,M=T.destroy;T=T.tag,M!==void 0&&(2&T||4&T)&&rT(m,h,M),x=x.next}while(x!==y)}qi(c,h,m);break;case 1:if(!Dr&&(Zl(m,h),typeof(y=m.stateNode).componentWillUnmount=="function"))try{y.props=m.memoizedProps,y.state=m.memoizedState,y.componentWillUnmount()}catch(j){It(m,h,j)}qi(c,h,m);break;case 21:qi(c,h,m);break;case 22:1&m.mode?(Dr=(y=Dr)||m.memoizedState!==null,qi(c,h,m),Dr=y):qi(c,h,m);break;default:qi(c,h,m)}}function aT(c){var h=c.updateQueue;if(h!==null){c.updateQueue=null;var m=c.stateNode;m===null&&(m=c.stateNode=new vF),h.forEach(function(y){var x=EF.bind(null,c,y);m.has(y)||(m.add(y),y.then(x,x))})}}function ci(c,h){var m=h.deletions;if(m!==null)for(var y=0;y<m.length;y++){var x=m[y];try{var T=c,M=h;if(Fe){var j=M;e:for(;j!==null;){switch(j.tag){case 5:Xr=j.stateNode,Xi=!1;break e;case 3:case 4:Xr=j.stateNode.containerInfo,Xi=!0;break e}j=j.return}if(Xr===null)throw Error(s(160));Ry(T,M,x),Xr=null,Xi=!1}else Ry(T,M,x);var Y=x.alternate;Y!==null&&(Y.return=null),x.return=null}catch(re){It(x,h,re)}}if(12854&h.subtreeFlags)for(h=h.child;h!==null;)lT(h,c),h=h.sibling}function lT(c,h){var m=c.alternate,y=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(ci(h,c),Yi(c),4&y){try{Jc(3,c,c.return),qf(3,c)}catch(ie){It(c,c.return,ie)}try{Jc(5,c,c.return)}catch(ie){It(c,c.return,ie)}}break;case 1:ci(h,c),Yi(c),512&y&&m!==null&&Zl(m,m.return);break;case 5:if(ci(h,c),Yi(c),512&y&&m!==null&&Zl(m,m.return),Fe){if(32&c.flags){var x=c.stateNode;try{BE(x)}catch(ie){It(c,c.return,ie)}}if(4&y&&(x=c.stateNode)!=null){var T=c.memoizedProps;if(m=m!==null?m.memoizedProps:T,y=c.type,h=c.updateQueue,c.updateQueue=null,h!==null)try{Dv(x,h,y,m,T,c)}catch(ie){It(c,c.return,ie)}}}break;case 6:if(ci(h,c),Yi(c),4&y&&Fe){if(c.stateNode===null)throw Error(s(162));x=c.stateNode,T=c.memoizedProps,m=m!==null?m.memoizedProps:T;try{Fc(x,m,T)}catch(ie){It(c,c.return,ie)}}break;case 3:if(ci(h,c),Yi(c),4&y){if(Fe&&qe&&m!==null&&m.memoizedState.isDehydrated)try{GL(h.containerInfo)}catch(ie){It(c,c.return,ie)}if(nt){x=h.containerInfo,T=h.pendingChildren;try{Fv(x,T)}catch(ie){It(c,c.return,ie)}}}break;case 4:if(ci(h,c),Yi(c),4&y&&nt){x=(T=c.stateNode).containerInfo,T=T.pendingChildren;try{Fv(x,T)}catch(ie){It(c,c.return,ie)}}break;case 13:ci(h,c),Yi(c),8192&(x=c.child).flags&&(T=x.memoizedState!==null,x.stateNode.isHidden=T,!T||x.alternate!==null&&x.alternate.memoizedState!==null||(zy=cr())),4&y&&aT(c);break;case 22:var M=m!==null&&m.memoizedState!==null;if(1&c.mode?(Dr=(m=Dr)||M,ci(h,c),Dr=m):ci(h,c),Yi(c),8192&y){if(m=c.memoizedState!==null,(c.stateNode.isHidden=m)&&!M&&(1&c.mode)!=0)for(Se=c,y=c.child;y!==null;){for(h=Se=y;Se!==null;){var j=(M=Se).child;switch(M.tag){case 0:case 11:case 14:case 15:Jc(4,M,M.return);break;case 1:Zl(M,M.return);var Y=M.stateNode;if(typeof Y.componentWillUnmount=="function"){var re=M,se=M.return;try{var ge=re;Y.props=ge.memoizedProps,Y.state=ge.memoizedState,Y.componentWillUnmount()}catch(ie){It(re,se,ie)}}break;case 5:Zl(M,M.return);break;case 22:if(M.memoizedState!==null){hT(h);continue}}j!==null?(j.return=M,Se=j):hT(h)}y=y.sibling}if(Fe){e:if(y=null,Fe)for(h=c;;){if(h.tag===5){if(y===null){y=h;try{x=h.stateNode,m?EL(x):AL(h.stateNode,h.memoizedProps)}catch(ie){It(c,c.return,ie)}}}else if(h.tag===6){if(y===null)try{T=h.stateNode,m?TL(T):CL(T,h.memoizedProps)}catch(ie){It(c,c.return,ie)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===c)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break e;for(;h.sibling===null;){if(h.return===null||h.return===c)break e;y===h&&(y=null),h=h.return}y===h&&(y=null),h.sibling.return=h.return,h=h.sibling}}}break;case 19:ci(h,c),Yi(c),4&y&&aT(c);break;case 21:break;default:ci(h,c),Yi(c)}}function Yi(c){var h=c.flags;if(2&h){try{if(Fe){e:{for(var m=c.return;m!==null;){if(sT(m)){var y=m;break e}m=m.return}throw Error(s(160))}switch(y.tag){case 5:var x=y.stateNode;32&y.flags&&(BE(x),y.flags&=-33),Ny(c,oT(c),x);break;case 3:case 4:var T=y.stateNode.containerInfo;ky(c,oT(c),T);break;default:throw Error(s(161))}}}catch(M){It(c,c.return,M)}c.flags&=-3}4096&h&&(c.flags&=-4097)}function yF(c,h,m){Se=c,uT(c)}function uT(c,h,m){for(var y=(1&c.mode)!=0;Se!==null;){var x=Se,T=x.child;if(x.tag===22&&y){var M=x.memoizedState!==null||Xf;if(!M){var j=x.alternate,Y=j!==null&&j.memoizedState!==null||Dr;j=Xf;var re=Dr;if(Xf=M,(Dr=Y)&&!re)for(Se=x;Se!==null;)Y=(M=Se).child,M.tag===22&&M.memoizedState!==null?dT(x):Y!==null?(Y.return=M,Se=Y):dT(x);for(;T!==null;)Se=T,uT(T),T=T.sibling;Se=x,Xf=j,Dr=re}cT(c)}else 8772&x.subtreeFlags&&T!==null?(T.return=x,Se=T):cT(c)}}function cT(c){for(;Se!==null;){var h=Se;if(8772&h.flags){var m=h.alternate;try{if(8772&h.flags)switch(h.tag){case 0:case 11:case 15:Dr||qf(5,h);break;case 1:var y=h.stateNode;if(4&h.flags&&!Dr)if(m===null)y.componentDidMount();else{var x=h.elementType===h.type?m.memoizedProps:ui(h.type,m.memoizedProps);y.componentDidUpdate(x,m.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var T=h.updateQueue;T!==null&&l2(h,T,y);break;case 3:var M=h.updateQueue;if(M!==null){if(m=null,h.child!==null)switch(h.child.tag){case 5:m=W(h.child.stateNode);break;case 1:m=h.child.stateNode}l2(h,M,m)}break;case 5:var j=h.stateNode;m===null&&4&h.flags&&Uc(j,h.type,h.memoizedProps,h);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(qe&&h.memoizedState===null){var Y=h.alternate;if(Y!==null){var re=Y.memoizedState;if(re!==null){var se=re.dehydrated;se!==null&&HL(se)}}}break;default:throw Error(s(163))}Dr||512&h.flags&&My(h)}catch(ge){It(h,h.return,ge)}}if(h===c){Se=null;break}if((m=h.sibling)!==null){m.return=h.return,Se=m;break}Se=h.return}}function hT(c){for(;Se!==null;){var h=Se;if(h===c){Se=null;break}var m=h.sibling;if(m!==null){m.return=h.return,Se=m;break}Se=h.return}}function dT(c){for(;Se!==null;){var h=Se;try{switch(h.tag){case 0:case 11:case 15:var m=h.return;try{qf(4,h)}catch(Y){It(h,m,Y)}break;case 1:var y=h.stateNode;if(typeof y.componentDidMount=="function"){var x=h.return;try{y.componentDidMount()}catch(Y){It(h,x,Y)}}var T=h.return;try{My(h)}catch(Y){It(h,T,Y)}break;case 5:var M=h.return;try{My(h)}catch(Y){It(h,M,Y)}}}catch(Y){It(h,h.return,Y)}if(h===c){Se=null;break}var j=h.sibling;if(j!==null){j.return=h.return,Se=j;break}Se=h.return}}var Yf=0,Qf=1,Kf=2,Zf=3,Jf=4;if(typeof Symbol=="function"&&Symbol.for){var eh=Symbol.for;Yf=eh("selector.component"),Qf=eh("selector.has_pseudo_class"),Kf=eh("selector.role"),Zf=eh("selector.test_id"),Jf=eh("selector.text")}function Oy(c){var h=Hr(c);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(s(364));return h}if((c=xe(c))===null)throw Error(s(362));return c.stateNode.current}function Dy(c,h){switch(h.$$typeof){case Yf:if(c.type===h.value)return!0;break;case Qf:e:{h=h.value,c=[c,0];for(var m=0;m<c.length;){var y=c[m++],x=c[m++],T=h[x];if(y.tag!==5||!Pe(y)){for(;T!=null&&Dy(y,T);)T=h[++x];if(x===h.length){h=!0;break e}for(y=y.child;y!==null;)c.push(y,x),y=y.sibling}}h=!1}return h;case Kf:if(c.tag===5&&lt(c.stateNode,h.value))return!0;break;case Jf:if((c.tag===5||c.tag===6)&&(c=he(c))!==null&&0<=c.indexOf(h.value))return!0;break;case Zf:if(c.tag===5&&typeof(c=c.memoizedProps["data-testname"])=="string"&&c.toLowerCase()===h.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function Ly(c){switch(c.$$typeof){case Yf:return"<"+(N(c.value)||"Unknown")+">";case Qf:return":has("+(Ly(c)||"")+")";case Kf:return'[role="'+c.value+'"]';case Jf:return'"'+c.value+'"';case Zf:return'[data-testname="'+c.value+'"]';default:throw Error(s(365))}}function fT(c,h){var m=[];c=[c,0];for(var y=0;y<c.length;){var x=c[y++],T=c[y++],M=h[T];if(x.tag!==5||!Pe(x)){for(;M!=null&&Dy(x,M);)M=h[++T];if(T===h.length)m.push(x);else for(x=x.child;x!==null;)c.push(x,T),x=x.sibling}}return m}function Fy(c,h){if(!ee)throw Error(s(363));c=fT(c=Oy(c),h),h=[],c=Array.from(c);for(var m=0;m<c.length;){var y=c[m++];if(y.tag===5)Pe(y)||h.push(y.stateNode);else for(y=y.child;y!==null;)c.push(y),y=y.sibling}return h}var bF=Math.ceil,ep=o.ReactCurrentDispatcher,Uy=o.ReactCurrentOwner,Gt=o.ReactCurrentBatchConfig,et=0,fr=null,Qt=null,wr=0,Sn=0,Jl=fo(0),er=0,th=null,Fa=0,tp=0,By=0,rh=null,En=null,zy=0,jy=1/0,vo=null;function eu(){jy=cr()+500}var pT,rp=!1,$y=null,yo=null,np=!1,bo=null,ip=0,nh=0,Gy=null,sp=-1,op=0;function Lr(){return 6&et?cr():sp!==-1?sp:sp=cr()}function xo(c){return 1&c.mode?2&et&&wr!==0?wr&-wr:iF.transition!==null?(op===0&&(op=qE()),op):(c=ot)!==0?c:co():1}function jn(c,h,m,y){if(50<nh)throw nh=0,Gy=null,Error(s(185));jc(c,m,y),2&et&&c===fr||(c===fr&&(!(2&et)&&(tp|=m),er===4&&_o(c,wr)),on(c,y),m===1&&et===0&&!(1&h.mode)&&(eu(),Af&&ji()))}function on(c,h){var m=c.callbackNode;(function(x,T){for(var M=x.suspendedLanes,j=x.pingedLanes,Y=x.expirationTimes,re=x.pendingLanes;0<re;){var se=31-oi(re),ge=1<<se,ie=Y[se];ie===-1?ge&M&&!(ge&j)||(Y[se]=JL(ge,T)):ie<=T&&(x.expiredLanes|=ge),re&=~ge}})(c,h);var y=Ef(c,c===fr?wr:0);if(y===0)m!==null&&QE(m),c.callbackNode=null,c.callbackPriority=0;else if(h=y&-y,c.callbackPriority!==h){if(m!=null&&QE(m),h===1)c.tag===0?function(x){Af=!0,ZE(x)}(gT.bind(null,c)):ZE(gT.bind(null,c)),U?K(function(){!(6&et)&&ji()}):qv(Yv,ji),m=null;else{switch(YE(y)){case 1:m=Yv;break;case 4:m=rF;break;case 16:default:m=KE;break;case 536870912:m=nF}m=ET(m,mT.bind(null,c))}c.callbackPriority=h,c.callbackNode=m}}function mT(c,h){if(sp=-1,op=0,(6&et)!=0)throw Error(s(327));var m=c.callbackNode;if(Ba()&&c.callbackNode!==m)return null;var y=Ef(c,c===fr?wr:0);if(y===0)return null;if(30&y||y&c.expiredLanes||h)h=ap(c,y);else{h=y;var x=et;et|=2;var T=bT();for(fr===c&&wr===h||(vo=null,eu(),Ua(c,h));;)try{_F();break}catch(j){yT(c,j)}ny(),ep.current=T,et=x,Qt!==null?h=0:(fr=null,wr=0,h=er)}if(h!==0){if(h===2&&(x=Vv(c))!==0&&(y=x,h=Hy(c,x)),h===1)throw m=th,Ua(c,0),_o(c,y),on(c,cr()),m;if(h===6)_o(c,y);else{if(x=c.current.alternate,(30&y)==0&&!function(j){for(var Y=j;;){if(16384&Y.flags){var re=Y.updateQueue;if(re!==null&&(re=re.stores)!==null)for(var se=0;se<re.length;se++){var ge=re[se],ie=ge.getSnapshot;ge=ge.value;try{if(!ai(ie(),ge))return!1}catch{return!1}}}if(re=Y.child,16384&Y.subtreeFlags&&re!==null)re.return=Y,Y=re;else{if(Y===j)break;for(;Y.sibling===null;){if(Y.return===null||Y.return===j)return!0;Y=Y.return}Y.sibling.return=Y.return,Y=Y.sibling}}return!0}(x)&&((h=ap(c,y))===2&&(T=Vv(c))!==0&&(y=T,h=Hy(c,T)),h===1))throw m=th,Ua(c,0),_o(c,y),on(c,cr()),m;switch(c.finishedWork=x,c.finishedLanes=y,h){case 0:case 1:throw Error(s(345));case 2:case 5:tu(c,En,vo);break;case 3:if(_o(c,y),(130023424&y)===y&&10<(h=zy+500-cr())){if(Ef(c,0)!==0)break;if(((x=c.suspendedLanes)&y)!==y){Lr(),c.pingedLanes|=c.suspendedLanes&x;break}c.timeoutHandle=He(tu.bind(null,c,En,vo),h);break}tu(c,En,vo);break;case 4:if(_o(c,y),(4194240&y)===y)break;for(h=c.eventTimes,x=-1;0<y;){var M=31-oi(y);T=1<<M,(M=h[M])>x&&(x=M),y&=~T}if(y=x,10<(y=(120>(y=cr()-y)?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*bF(y/1960))-y)){c.timeoutHandle=He(tu.bind(null,c,En,vo),y);break}tu(c,En,vo);break;default:throw Error(s(329))}}}return on(c,cr()),c.callbackNode===m?mT.bind(null,c):null}function Hy(c,h){var m=rh;return c.current.memoizedState.isDehydrated&&(Ua(c,h).flags|=256),(c=ap(c,h))!==2&&(h=En,En=m,h!==null&&Vy(h)),c}function Vy(c){En===null?En=c:En.push.apply(En,c)}function _o(c,h){for(h&=~By,h&=~tp,c.suspendedLanes|=h,c.pingedLanes&=~h,c=c.expirationTimes;0<h;){var m=31-oi(h),y=1<<m;c[m]=-1,h&=~y}}function gT(c){if(6&et)throw Error(s(327));Ba();var h=Ef(c,0);if(!(1&h))return on(c,cr()),null;var m=ap(c,h);if(c.tag!==0&&m===2){var y=Vv(c);y!==0&&(h=y,m=Hy(c,y))}if(m===1)throw m=th,Ua(c,0),_o(c,h),on(c,cr()),m;if(m===6)throw Error(s(345));return c.finishedWork=c.current.alternate,c.finishedLanes=h,tu(c,En,vo),on(c,cr()),null}function vT(c){bo!==null&&bo.tag===0&&!(6&et)&&Ba();var h=et;et|=1;var m=Gt.transition,y=ot;try{if(Gt.transition=null,ot=1,c)return c()}finally{ot=y,Gt.transition=m,!(6&(et=h))&&ji()}}function Wy(){Sn=Jl.current,At(Jl)}function Ua(c,h){c.finishedWork=null,c.finishedLanes=0;var m=c.timeoutHandle;if(m!==ft&&(c.timeoutHandle=ft,dt(m)),Qt!==null)for(m=Qt.return;m!==null;){var y=m;switch(Zv(y),y.tag){case 1:(y=y.type.childContextTypes)!=null&&$v();break;case 3:Ql(),At(rn),At(Rr),fy();break;case 5:hy(y);break;case 4:Ql();break;case 13:case 19:At(Bt);break;case 10:iy(y.type._context);break;case 22:case 23:Wy()}m=m.return}if(fr=c,Qt=c=wo(c.current,null),wr=Sn=h,er=0,th=null,By=tp=Fa=0,En=rh=null,Da!==null){for(h=0;h<Da.length;h++)if((y=(m=Da[h]).interleaved)!==null){m.interleaved=null;var x=y.next,T=m.pending;if(T!==null){var M=T.next;T.next=x,y.next=M}m.pending=y}Da=null}return c}function yT(c,h){for(;;){var m=Qt;try{if(ny(),Uf.current=$f,Bf){for(var y=Rt.memoizedState;y!==null;){var x=y.queue;x!==null&&(x.pending=null),y=y.next}Bf=!1}if(La=0,dr=hr=Rt=null,Wc=!1,Xc=0,Uy.current=null,m===null||m.return===null){er=1,th=h,Qt=null;break}e:{var T=c,M=m.return,j=m,Y=h;if(h=wr,j.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var re=Y,se=j,ge=se.tag;if(!(1&se.mode)&&(ge===0||ge===11||ge===15)){var ie=se.alternate;ie?(se.updateQueue=ie.updateQueue,se.memoizedState=ie.memoizedState,se.lanes=ie.lanes):(se.updateQueue=null,se.memoizedState=null)}var ue=j2(M);if(ue!==null){ue.flags&=-257,$2(ue,M,j,0,h),1&ue.mode&&z2(T,re,h),Y=re;var Ce=(h=ue).updateQueue;if(Ce===null){var Ye=new Set;Ye.add(Y),h.updateQueue=Ye}else Ce.add(Y);break e}if(!(1&h)){z2(T,re,h),Xy();break e}Y=Error(s(426))}else if(Ct&&1&j.mode){var oe=j2(M);if(oe!==null){!(65536&oe.flags)&&(oe.flags|=256),$2(oe,M,j,0,h),ty(Kl(Y,j));break e}}T=Y=Kl(Y,j),er!==4&&(er=2),rh===null?rh=[T]:rh.push(T),T=M;do{switch(T.tag){case 3:T.flags|=65536,h&=-h,T.lanes|=h,a2(T,U2(0,Y,h));break e;case 1:j=Y;var X=T.type,te=T.stateNode;if(!(128&T.flags)&&(typeof X.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(yo===null||!yo.has(te)))){T.flags|=65536,h&=-h,T.lanes|=h,a2(T,B2(T,j,h));break e}}T=T.return}while(T!==null)}_T(m)}catch(ae){h=ae,Qt===m&&m!==null&&(Qt=m=m.return);continue}break}}function bT(){var c=ep.current;return ep.current=$f,c===null?$f:c}function Xy(){er!==0&&er!==3&&er!==2||(er=4),fr===null||!(268435455&Fa)&&!(268435455&tp)||_o(fr,wr)}function ap(c,h){var m=et;et|=2;var y=bT();for(fr===c&&wr===h||(vo=null,Ua(c,h));;)try{xF();break}catch(x){yT(c,x)}if(ny(),et=m,ep.current=y,Qt!==null)throw Error(s(261));return fr=null,wr=0,er}function xF(){for(;Qt!==null;)xT(Qt)}function _F(){for(;Qt!==null&&!eF();)xT(Qt)}function xT(c){var h=pT(c.alternate,c,Sn);c.memoizedProps=c.pendingProps,h===null?_T(c):Qt=h,Uy.current=null}function _T(c){var h=c;do{var m=h.alternate;if(c=h.return,(32768&h.flags)==0){if((m=mF(m,h,Sn))!==null)return void(Qt=m)}else{if((m=gF(m,h))!==null)return m.flags&=32767,void(Qt=m);if(c===null)return er=6,void(Qt=null);c.flags|=32768,c.subtreeFlags=0,c.deletions=null}if((h=h.sibling)!==null)return void(Qt=h);Qt=h=c}while(h!==null);er===0&&(er=5)}function tu(c,h,m){var y=ot,x=Gt.transition;try{Gt.transition=null,ot=1,function(T,M,j,Y){do Ba();while(bo!==null);if(6&et)throw Error(s(327));j=T.finishedWork;var re=T.finishedLanes;if(j===null)return null;if(T.finishedWork=null,T.finishedLanes=0,j===T.current)throw Error(s(177));T.callbackNode=null,T.callbackPriority=0;var se=j.lanes|j.childLanes;if(function(ue,Ce){var Ye=ue.pendingLanes&~Ce;ue.pendingLanes=Ce,ue.suspendedLanes=0,ue.pingedLanes=0,ue.expiredLanes&=Ce,ue.mutableReadLanes&=Ce,ue.entangledLanes&=Ce,Ce=ue.entanglements;var oe=ue.eventTimes;for(ue=ue.expirationTimes;0<Ye;){var X=31-oi(Ye),te=1<<X;Ce[X]=0,oe[X]=-1,ue[X]=-1,Ye&=~te}}(T,se),T===fr&&(Qt=fr=null,wr=0),!(2064&j.subtreeFlags)&&!(2064&j.flags)||np||(np=!0,ET(KE,function(){return Ba(),null})),se=(15990&j.flags)!=0,(15990&j.subtreeFlags)!=0||se){se=Gt.transition,Gt.transition=null;var ge=ot;ot=1;var ie=et;et|=4,Uy.current=null,function(ue,Ce){for(z(ue.containerInfo),Se=Ce;Se!==null;)if(Ce=(ue=Se).child,(1028&ue.subtreeFlags)!=0&&Ce!==null)Ce.return=ue,Se=Ce;else for(;Se!==null;){ue=Se;try{var Ye=ue.alternate;if(1024&ue.flags)switch(ue.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(Ye!==null){var oe=Ye.memoizedProps,X=Ye.memoizedState,te=ue.stateNode,ae=te.getSnapshotBeforeUpdate(ue.elementType===ue.type?oe:ui(ue.type,oe),X);te.__reactInternalSnapshotBeforeUpdate=ae}break;case 3:Fe&&IL(ue.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(Oe){It(ue,ue.return,Oe)}if((Ce=ue.sibling)!==null){Ce.return=ue.return,Se=Ce;break}Se=ue.return}Ye=nT,nT=!1}(T,j),lT(j,T),R(T.containerInfo),T.current=j,yF(j),tF(),et=ie,ot=ge,Gt.transition=se}else T.current=j;if(np&&(np=!1,bo=T,ip=re),se=T.pendingLanes,se===0&&(yo=null),function(ue){if(zi&&typeof zi.onCommitFiberRoot=="function")try{zi.onCommitFiberRoot(Tf,ue,void 0,(128&ue.current.flags)==128)}catch{}}(j.stateNode),on(T,cr()),M!==null)for(Y=T.onRecoverableError,j=0;j<M.length;j++)re=M[j],Y(re.value,{componentStack:re.stack,digest:re.digest});if(rp)throw rp=!1,T=$y,$y=null,T;1&ip&&T.tag!==0&&Ba(),se=T.pendingLanes,1&se?T===Gy?nh++:(nh=0,Gy=T):nh=0,ji()}(c,h,m,y)}finally{Gt.transition=x,ot=y}return null}function Ba(){if(bo!==null){var c=YE(ip),h=Gt.transition,m=ot;try{if(Gt.transition=null,ot=16>c?16:c,bo===null)var y=!1;else{if(c=bo,bo=null,ip=0,(6&et)!=0)throw Error(s(331));var x=et;for(et|=4,Se=c.current;Se!==null;){var T=Se,M=T.child;if(16&Se.flags){var j=T.deletions;if(j!==null){for(var Y=0;Y<j.length;Y++){var re=j[Y];for(Se=re;Se!==null;){var se=Se;switch(se.tag){case 0:case 11:case 15:Jc(8,se,T)}var ge=se.child;if(ge!==null)ge.return=se,Se=ge;else for(;Se!==null;){var ie=(se=Se).sibling,ue=se.return;if(iT(se),se===re){Se=null;break}if(ie!==null){ie.return=ue,Se=ie;break}Se=ue}}}var Ce=T.alternate;if(Ce!==null){var Ye=Ce.child;if(Ye!==null){Ce.child=null;do{var oe=Ye.sibling;Ye.sibling=null,Ye=oe}while(Ye!==null)}}Se=T}}if(2064&T.subtreeFlags&&M!==null)M.return=T,Se=M;else e:for(;Se!==null;){if(2048&(T=Se).flags)switch(T.tag){case 0:case 11:case 15:Jc(9,T,T.return)}var X=T.sibling;if(X!==null){X.return=T.return,Se=X;break e}Se=T.return}}var te=c.current;for(Se=te;Se!==null;){var ae=(M=Se).child;if(2064&M.subtreeFlags&&ae!==null)ae.return=M,Se=ae;else e:for(M=te;Se!==null;){if(2048&(j=Se).flags)try{switch(j.tag){case 0:case 11:case 15:qf(9,j)}}catch(ut){It(j,j.return,ut)}if(j===M){Se=null;break e}var Oe=j.sibling;if(Oe!==null){Oe.return=j.return,Se=Oe;break e}Se=j.return}}if(et=x,ji(),zi&&typeof zi.onPostCommitFiberRoot=="function")try{zi.onPostCommitFiberRoot(Tf,c)}catch{}y=!0}return y}finally{ot=m,Gt.transition=h}}return!1}function wT(c,h,m){c=go(c,h=U2(0,h=Kl(m,h),1),1),h=Lr(),c!==null&&(jc(c,1,h),on(c,h))}function It(c,h,m){if(c.tag===3)wT(c,c,m);else for(;h!==null;){if(h.tag===3){wT(h,c,m);break}if(h.tag===1){var y=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(yo===null||!yo.has(y))){h=go(h,c=B2(h,c=Kl(m,c),1),1),c=Lr(),h!==null&&(jc(h,1,c),on(h,c));break}}h=h.return}}function wF(c,h,m){var y=c.pingCache;y!==null&&y.delete(h),h=Lr(),c.pingedLanes|=c.suspendedLanes&m,fr===c&&(wr&m)===m&&(er===4||er===3&&(130023424&wr)===wr&&500>cr()-zy?Ua(c,0):By|=m),on(c,h)}function ST(c,h){h===0&&(1&c.mode?(h=Hv,!(130023424&(Hv<<=1))&&(Hv=4194304)):h=1);var m=Lr();(c=Gi(c,h))!==null&&(jc(c,h,m),on(c,m))}function SF(c){var h=c.memoizedState,m=0;h!==null&&(m=h.retryLane),ST(c,m)}function EF(c,h){var m=0;switch(c.tag){case 13:var y=c.stateNode,x=c.memoizedState;x!==null&&(m=x.retryLane);break;case 19:y=c.stateNode;break;default:throw Error(s(314))}y!==null&&y.delete(h),ST(c,m)}function ET(c,h){return qv(c,h)}function TF(c,h,m,y){this.tag=c,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(c,h,m,y){return new TF(c,h,m,y)}function qy(c){return!(!(c=c.prototype)||!c.isReactComponent)}function wo(c,h){var m=c.alternate;return m===null?((m=$n(c.tag,h,c.key,c.mode)).elementType=c.elementType,m.type=c.type,m.stateNode=c.stateNode,m.alternate=c,c.alternate=m):(m.pendingProps=h,m.type=c.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=14680064&c.flags,m.childLanes=c.childLanes,m.lanes=c.lanes,m.child=c.child,m.memoizedProps=c.memoizedProps,m.memoizedState=c.memoizedState,m.updateQueue=c.updateQueue,h=c.dependencies,m.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},m.sibling=c.sibling,m.index=c.index,m.ref=c.ref,m}function lp(c,h,m,y,x,T){var M=2;if(y=c,typeof c=="function")qy(c)&&(M=1);else if(typeof c=="string")M=5;else e:switch(c){case u:return za(m.children,x,T,h);case d:M=8,x|=8;break;case f:return(c=$n(12,m,h,2|x)).elementType=f,c.lanes=T,c;case b:return(c=$n(13,m,h,x)).elementType=b,c.lanes=T,c;case E:return(c=$n(19,m,h,x)).elementType=E,c.lanes=T,c;case _:return up(m,x,T,h);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case p:M=10;break e;case g:M=9;break e;case v:M=11;break e;case w:M=14;break e;case S:M=16,y=null;break e}throw Error(s(130,c==null?c:typeof c,""))}return(h=$n(M,m,h,x)).elementType=c,h.type=y,h.lanes=T,h}function za(c,h,m,y){return(c=$n(7,c,y,h)).lanes=m,c}function up(c,h,m,y){return(c=$n(22,c,y,h)).elementType=_,c.lanes=m,c.stateNode={isHidden:!1},c}function Yy(c,h,m){return(c=$n(6,c,null,h)).lanes=m,c}function Qy(c,h,m){return(h=$n(4,c.children!==null?c.children:[],c.key,h)).lanes=m,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}function AF(c,h,m,y,x){this.tag=h,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ft,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wv(0),this.expirationTimes=Wv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wv(0),this.identifierPrefix=y,this.onRecoverableError=x,qe&&(this.mutableSourceEagerHydrationData=null)}function TT(c,h,m,y,x,T,M,j,Y){return c=new AF(c,h,m,j,Y),h===1?(h=1,T===!0&&(h|=8)):h=0,T=$n(3,null,null,h),c.current=T,T.stateNode=c,T.memoizedState={element:y,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},ay(T),c}function AT(c){if(!c)return po;e:{if(k(c=c._reactInternals)!==c||c.tag!==1)throw Error(s(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(_n(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(s(171))}if(c.tag===1){var m=c.type;if(_n(m))return WE(c,m,h)}return h}function CT(c){var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(s(188)):(c=Object.keys(c).join(","),Error(s(268,c)));return(c=Q(h))===null?null:c.stateNode}function IT(c,h){if((c=c.memoizedState)!==null&&c.dehydrated!==null){var m=c.retryLane;c.retryLane=m!==0&&m<h?m:h}}function cp(c,h){IT(c,h),(c=c.alternate)&&IT(c,h)}function CF(c){return(c=Q(c))===null?null:c.stateNode}function IF(){return null}return pT=function(c,h,m){if(c!==null)if(c.memoizedProps!==h.pendingProps||rn.current)nn=!0;else{if(!(c.lanes&m)&&!(128&h.flags))return nn=!1,function(ge,ie,ue){switch(ie.tag){case 3:Y2(ie),Vl();break;case 5:g2(ie);break;case 1:_n(ie.type)&&Sf(ie);break;case 4:cy(ie,ie.stateNode.containerInfo);break;case 10:i2(0,ie.type._context,ie.memoizedProps.value);break;case 13:var Ce=ie.memoizedState;if(Ce!==null)return Ce.dehydrated!==null?(yt(Bt,1&Bt.current),ie.flags|=128,null):ue&ie.child.childLanes?K2(ge,ie,ue):(yt(Bt,1&Bt.current),(ge=Ps(ge,ie,ue))!==null?ge.sibling:null);yt(Bt,1&Bt.current);break;case 19:if(Ce=(ue&ie.childLanes)!=0,(128&ge.flags)!=0){if(Ce)return J2(ge,ie,ue);ie.flags|=128}var Ye=ie.memoizedState;if(Ye!==null&&(Ye.rendering=null,Ye.tail=null,Ye.lastEffect=null),yt(Bt,Bt.current),Ce)break;return null;case 22:case 23:return ie.lanes=0,W2(ge,ie,ue)}return Ps(ge,ie,ue)}(c,h,m);nn=(131072&c.flags)!=0}else nn=!1,Ct&&1048576&h.flags&&JE(h,If,h.index);switch(h.lanes=0,h.tag){case 2:var y=h.type;Wf(c,h),c=h.pendingProps;var x=$l(h,Rr.current);Xl(h,m),x=gy(null,h,y,c,x,m);var T=vy();return h.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,_n(y)?(T=!0,Sf(h)):T=!1,h.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,ay(h),x.updater=Df,h.stateNode=x,x._reactInternals=h,uy(h,y,c,m),h=Ty(null,h,y,!0,T,m)):(h.tag=0,Ct&&T&&Kv(h),sn(null,h,x,m),h=h.child),h;case 16:y=h.elementType;e:{switch(Wf(c,h),c=h.pendingProps,y=(x=y._init)(y._payload),h.type=y,x=h.tag=function(ge){if(typeof ge=="function")return qy(ge)?1:0;if(ge!=null){if((ge=ge.$$typeof)===v)return 11;if(ge===w)return 14}return 2}(y),c=ui(y,c),x){case 0:h=Ey(null,h,y,c,m);break e;case 1:h=q2(null,h,y,c,m);break e;case 11:h=G2(null,h,y,c,m);break e;case 14:h=H2(null,h,y,ui(y.type,c),m);break e}throw Error(s(306,y,""))}return h;case 0:return y=h.type,x=h.pendingProps,Ey(c,h,y,x=h.elementType===y?x:ui(y,x),m);case 1:return y=h.type,x=h.pendingProps,q2(c,h,y,x=h.elementType===y?x:ui(y,x),m);case 3:e:{if(Y2(h),c===null)throw Error(s(387));y=h.pendingProps,x=(T=h.memoizedState).element,o2(c,h),Of(h,y,null,m);var M=h.memoizedState;if(y=M.element,qe&&T.isDehydrated){if(T={element:y,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},h.updateQueue.baseState=T,h.memoizedState=T,256&h.flags){h=Q2(c,h,y,m,x=Kl(Error(s(423)),h));break e}if(y!==x){h=Q2(c,h,y,m,x=Kl(Error(s(424)),h));break e}for(qe&&(Fn=FL(h.stateNode.containerInfo),wn=h,Ct=!0,li=null,$c=!1),m=m2(h,null,y,m),h.child=m;m;)m.flags=-3&m.flags|4096,m=m.sibling}else{if(Vl(),y===x){h=Ps(c,h,m);break e}sn(c,h,y,m)}h=h.child}return h;case 5:return g2(h),c===null&&ey(h),y=h.type,x=h.pendingProps,T=c!==null?c.memoizedProps:null,M=x.children,Ue(y,x)?M=null:T!==null&&Ue(y,T)&&(h.flags|=32),X2(c,h),sn(c,h,M,m),h.child;case 6:return c===null&&ey(h),null;case 13:return K2(c,h,m);case 4:return cy(h,h.stateNode.containerInfo),y=h.pendingProps,c===null?h.child=ql(h,null,y,m):sn(c,h,y,m),h.child;case 11:return y=h.type,x=h.pendingProps,G2(c,h,y,x=h.elementType===y?x:ui(y,x),m);case 7:return sn(c,h,h.pendingProps,m),h.child;case 8:case 12:return sn(c,h,h.pendingProps.children,m),h.child;case 10:e:{if(y=h.type._context,x=h.pendingProps,T=h.memoizedProps,i2(0,y,M=x.value),T!==null)if(ai(T.value,M)){if(T.children===x.children&&!rn.current){h=Ps(c,h,m);break e}}else for((T=h.child)!==null&&(T.return=h);T!==null;){var j=T.dependencies;if(j!==null){M=T.child;for(var Y=j.firstContext;Y!==null;){if(Y.context===y){if(T.tag===1){(Y=Is(-1,m&-m)).tag=2;var re=T.updateQueue;if(re!==null){var se=(re=re.shared).pending;se===null?Y.next=Y:(Y.next=se.next,se.next=Y),re.pending=Y}}T.lanes|=m,(Y=T.alternate)!==null&&(Y.lanes|=m),sy(T.return,m,h),j.lanes|=m;break}Y=Y.next}}else if(T.tag===10)M=T.type===h.type?null:T.child;else if(T.tag===18){if((M=T.return)===null)throw Error(s(341));M.lanes|=m,(j=M.alternate)!==null&&(j.lanes|=m),sy(M,m,h),M=T.sibling}else M=T.child;if(M!==null)M.return=T;else for(M=T;M!==null;){if(M===h){M=null;break}if((T=M.sibling)!==null){T.return=M.return,M=T;break}M=M.return}T=M}sn(c,h,x.children,m),h=h.child}return h;case 9:return x=h.type,y=h.pendingProps.children,Xl(h,m),y=y(x=Un(x)),h.flags|=1,sn(c,h,y,m),h.child;case 14:return x=ui(y=h.type,h.pendingProps),H2(c,h,y,x=ui(y.type,x),m);case 15:return V2(c,h,h.type,h.pendingProps,m);case 17:return y=h.type,x=h.pendingProps,x=h.elementType===y?x:ui(y,x),Wf(c,h),h.tag=1,_n(y)?(c=!0,Sf(h)):c=!1,Xl(h,m),h2(h,y,x),uy(h,y,x,m),Ty(null,h,y,!0,c,m);case 19:return J2(c,h,m);case 22:return W2(c,h,m)}throw Error(s(156,h.tag))},e.attemptContinuousHydration=function(c){if(c.tag===13){var h=Gi(c,134217728);h!==null&&jn(h,c,134217728,Lr()),cp(c,134217728)}},e.attemptDiscreteHydration=function(c){if(c.tag===13){var h=Gi(c,1);h!==null&&jn(h,c,1,Lr()),cp(c,1)}},e.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var h=xo(c),m=Gi(c,h);m!==null&&jn(m,c,h,Lr()),cp(c,h)}},e.attemptSynchronousHydration=function(c){switch(c.tag){case 3:var h=c.stateNode;if(h.current.memoizedState.isDehydrated){var m=zc(h.pendingLanes);m!==0&&(Xv(h,1|m),on(h,cr()),!(6&et)&&(eu(),ji()))}break;case 13:vT(function(){var y=Gi(c,1);if(y!==null){var x=Lr();jn(y,c,1,x)}}),cp(c,1)}},e.batchedUpdates=function(c,h){var m=et;et|=1;try{return c(h)}finally{(et=m)===0&&(eu(),Af&&ji())}},e.createComponentSelector=function(c){return{$$typeof:Yf,value:c}},e.createContainer=function(c,h,m,y,x,T,M){return TT(c,h,!1,null,0,y,0,T,M)},e.createHasPseudoClassSelector=function(c){return{$$typeof:Qf,value:c}},e.createHydrationContainer=function(c,h,m,y,x,T,M,j,Y){return(c=TT(m,y,!0,c,0,T,0,j,Y)).context=AT(null),m=c.current,(T=Is(y=Lr(),x=xo(m))).callback=h??null,go(m,T,x),c.current.lanes=x,jc(c,x,y),on(c,y),c},e.createPortal=function(c,h,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:c,containerInfo:h,implementation:m}},e.createRoleSelector=function(c){return{$$typeof:Kf,value:c}},e.createTestNameSelector=function(c){return{$$typeof:Zf,value:c}},e.createTextSelector=function(c){return{$$typeof:Jf,value:c}},e.deferredUpdates=function(c){var h=ot,m=Gt.transition;try{return Gt.transition=null,ot=16,c()}finally{ot=h,Gt.transition=m}},e.discreteUpdates=function(c,h,m,y,x){var T=ot,M=Gt.transition;try{return Gt.transition=null,ot=1,c(h,m,y,x)}finally{ot=T,Gt.transition=M,et===0&&eu()}},e.findAllNodes=Fy,e.findBoundingRects=function(c,h){if(!ee)throw Error(s(363));h=Fy(c,h),c=[];for(var m=0;m<h.length;m++)c.push(me(h[m]));for(h=c.length-1;0<h;h--)for(var y=(m=c[h]).x,x=y+m.width,T=m.y,M=T+m.height,j=h-1;0<=j;j--)if(h!==j){var Y=c[j],re=Y.x,se=re+Y.width,ge=Y.y,ie=ge+Y.height;if(y>=re&&T>=ge&&x<=se&&M<=ie){c.splice(h,1);break}if(!(y!==re||m.width!==Y.width||ie<T||ge>M)){ge>T&&(Y.height+=ge-T,Y.y=T),ie<M&&(Y.height=M-ge),c.splice(h,1);break}if(!(T!==ge||m.height!==Y.height||se<y||re>x)){re>y&&(Y.width+=re-y,Y.x=y),se<x&&(Y.width=x-re),c.splice(h,1);break}}return c},e.findHostInstance=CT,e.findHostInstanceWithNoPortals=function(c){return(c=(c=H(c))!==null?F(c):null)===null?null:c.stateNode},e.findHostInstanceWithWarning=function(c){return CT(c)},e.flushControlled=function(c){var h=et;et|=1;var m=Gt.transition,y=ot;try{Gt.transition=null,ot=1,c()}finally{ot=y,Gt.transition=m,(et=h)===0&&(eu(),ji())}},e.flushPassiveEffects=Ba,e.flushSync=vT,e.focusWithin=function(c,h){if(!ee)throw Error(s(363));for(h=fT(c=Oy(c),h),h=Array.from(h),c=0;c<h.length;){var m=h[c++];if(!Pe(m)){if(m.tag===5&&Yt(m.stateNode))return!0;for(m=m.child;m!==null;)h.push(m),m=m.sibling}}return!1},e.getCurrentUpdatePriority=function(){return ot},e.getFindAllNodesFailureDescription=function(c,h){if(!ee)throw Error(s(363));var m=0,y=[];c=[Oy(c),0];for(var x=0;x<c.length;){var T=c[x++],M=c[x++],j=h[M];if((T.tag!==5||!Pe(T))&&(Dy(T,j)&&(y.push(Ly(j)),++M>m&&(m=M)),M<h.length))for(T=T.child;T!==null;)c.push(T,M),T=T.sibling}if(m<h.length){for(c=[];m<h.length;m++)c.push(Ly(h[m]));return`findAllNodes was able to match part of the selector:
  `+y.join(" > ")+`

No matching component was found for:
  `+c.join(" > ")}return null},e.getPublicRootInstance=function(c){return(c=c.current).child?c.child.tag===5?W(c.child.stateNode):c.child.stateNode:null},e.injectIntoDevTools=function(c){if(c={bundleType:c.bundleType,version:c.version,rendererPackageName:c.rendererPackageName,rendererConfig:c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:CF,findFiberByHostInstance:c.findFiberByHostInstance||IF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)c=!0;else{try{Tf=h.inject(c),zi=h}catch{}c=!!h.checkDCE}}return c},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(c,h,m,y){if(!ee)throw Error(s(363));c=Fy(c,h);var x=Vr(c,m,y).disconnect;return{disconnect:function(){x()}}},e.registerMutableSourceForHydration=function(c,h){var m=h._getVersion;m=m(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,m]:c.mutableSourceEagerHydrationData.push(h,m)},e.runWithPriority=function(c,h){var m=ot;try{return ot=c,h()}finally{ot=m}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(c,h,m,y){var x=h.current,T=Lr(),M=xo(x);return m=AT(m),h.context===null?h.context=m:h.pendingContext=m,(h=Is(T,M)).payload={element:c},(y=y===void 0?null:y)!==null&&(h.callback=y),(c=go(x,h,M))!==null&&(jn(c,x,M,T),Rf(c,x,M)),M},e}),_P}({get exports(){return H_},set exports(t){H_=t}}).exports=sq();var oq=NX(H_),C4={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},W_={},em={get exports(){return W_},set exports(t){W_=t}};(function(){var t,e,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?em.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(em.exports=function(){return(t()-i)/1e6},e=process.hrtime,n=(t=function(){var o;return 1e9*(o=e())[0]+o[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(em.exports=function(){return Date.now()-r},r=Date.now()):(em.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(kX);var EP,Uu={},Ga={};({get exports(){return Uu},set exports(t){Uu=t}}).exports=(EP||(EP=1,Ga.ConcurrentRoot=1,Ga.ContinuousEventPriority=4,Ga.DefaultEventPriority=16,Ga.DiscreteEventPriority=1,Ga.IdleEventPriority=536870912,Ga.LegacyRoot=0),Ga);var aq={};function Eb(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function I4(t,e){var r,n,i;(r=t.willUnmount)===null||r===void 0||r.call(t,t,e),((n=t.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=t.children)!==null&&i!==void 0&&i.length&&no(t.children).forEach(function(s){I4(s,t)})}function TP(t,e){var r;I4(e,t),t.removeChild(e);var n=(r=e.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,o=n.destroyChildren,a=o===void 0||o,l=n.destroyTexture,u=l!==void 0&&l,d=n.destroyBaseTexture,f=d!==void 0&&d;s&&e.destroy({children:a,texture:u,baseTexture:f})}function AP(t,e,r){var n,i;$t(e!==r,"Cannot insert node before itself"),t.children.indexOf(e)!==-1&&t.removeChild(e);var s=t.getChildIndex(r);t.addChildAt(e,s),(n=t.__reactpixi)===null||n===void 0||(i=n.root)===null||i===void 0||i.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertBefore"})}var CP=null,Ci=oq({getRootHostContext:function(){return aq},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return Uu.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Uu.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Uu.ContinuousEventPriority;default:return Uu.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=tq[t];if(typeof s=="function"&&(e=s(i,n)),!e){var o=A4[t];o&&((e=o.create(n,{root:i})).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&(e.__reactpixi={root:i},(typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:ws)(e,{},n)),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,n,i,s){return CP=function(o,a,l,u){var d=null;for(var f in l)!u.hasOwnProperty(f)&&l.hasOwnProperty(f)&&l[f]!==null&&(f===$_||(d||(d=[]),d.push(f,null)));for(var p in u){var g=u[p],v=l!==null?l[p]:void 0;!u.hasOwnProperty(p)||g===v||g===null&&v===null||p===$_||(d||(d=[]),d.push(p,g))}return d}(0,0,r,n)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(r&&n&&i)},createTextInstance:function(t,e,r){$t(!1,'Error trying to add text node "'.concat(t,'"'),"text strings as children of a Pixi component is not supported. To add some text, use &lt;Text text={string} /&gt;")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:W_,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Eb.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Eb.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Eb.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=TP.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=TP.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:AP,insertInContainerBefore:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=AP.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,n,i){var s,o,a=t&&t.applyProps;typeof a!="function"&&(a=ws),(a(t,n,i)||CP)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,n,i){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),lq=C4.dependencies["react-dom"].replace(/[^0-9.]/g,""),uq=C4.name;Ci.injectIntoDevTools({bundleType:0,version:lq,rendererPackageName:uq,findHostInstanceByFiber:Ci.findHostInstance});var ha=new Map;function P4(t){if($t(Zr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `Container`."),ha.has(t)){var e=ha.get(t).pixiFiberContainer;Ci.updateContainer(null,e,void 0,function(){ha.delete(t)})}}function M4(t){$t(Zr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `Container`.");var e=ha.get(t);if($t(!e,"createRoot should only be called once"),!e){var r=Ci.createContainer(t);e={pixiFiberContainer:r,reactRoot:{render:function(n){return Ci.updateContainer(n,r,void 0),Ci.getPublicRootInstance(r)},unmount:function(){P4(t),ha.delete(t)}}},ha.set(t,e)}return e.reactRoot}function cq(t,e,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),ha.has(e)?n=ha.get(e).reactRoot:n=M4(e),n.render(t)}function hq(t){P4(t)}function Bd(){return Bd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bd.apply(this,arguments)}function dq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fq(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S4(n.key),n)}}function Ds(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b0(t,e){return b0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},b0(t,e)}function pq(t,e){if(e&&(Mn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ds(t)}function x0(t){return x0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x0(t)}var Pv=de.createContext(null),k4=Pv.Provider,N4=Pv.Consumer,mq=function(t){var e=de.forwardRef(function(r,n){return de.createElement(N4,null,function(i){return de.createElement(t,Bd({},r,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function gq(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=x0(t);if(e){var i=x0(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return pq(this,r)}}function IP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(r),!0).forEach(function(n){Wt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var PP=function(){},R4={width:Ae.number,height:Ae.number,onMount:Ae.func,onUnmount:Ae.func,raf:Ae.bool,renderOnComponentChange:Ae.bool,children:Ae.node,options:Ae.shape({autoStart:Ae.bool,width:Ae.number,height:Ae.number,useContextAlpha:Ae.bool,backgroundAlpha:Ae.number,autoDensity:Ae.bool,antialias:Ae.bool,preserveDrawingBuffer:Ae.bool,resolution:Ae.number,forceCanvas:Ae.bool,backgroundColor:Ae.number,clearBeforeRender:Ae.bool,powerPreference:Ae.string,sharedTicker:Ae.bool,sharedLoader:Ae.bool,resizeTo:function(t,e){var r=t[e];r&&$t(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Mn(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var n=t[e];n&&$t(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Mn(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},vq={width:800,height:600,onMount:PP,onUnmount:PP,raf:!0,renderOnComponentChange:!0},X_=function(t){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&b0(s,o)})(i,de.Component);var e,r,n=gq(i);function i(){var s;dq(this,i);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return Wt(Ds(s=n.call.apply(n,[this].concat(a))),"_canvas",null),Wt(Ds(s),"_mediaQuery",null),Wt(Ds(s),"_ticker",null),Wt(Ds(s),"_needsUpdate",!0),Wt(Ds(s),"app",null),Wt(Ds(s),"updateSize",function(){var u=s.props,d=u.width,f=u.height,p=u.options;p!=null&&p.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(d,f)}),Wt(Ds(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),Wt(Ds(s),"renderStage",function(){var u=s.props,d=u.renderOnComponentChange;!u.raf&&d&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,a=s.width,l=s.height,u=s.options,d=s.raf,f=s.renderOnComponentChange;this.app=new Iv(tm(tm({width:a,height:l,view:this._canvas},u),{},{autoDensity:(u==null?void 0:u.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[d?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=Ci.createContainer(this.app.stage),Ci.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),u!=null&&u.autoDensity&&window.matchMedia&&(u==null?void 0:u.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),f&&!d&&(this._ticker=new br,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,a){var l,u=this.props,d=u.width,f=u.height,p=u.raf,g=u.renderOnComponentChange,v=u.options;(v==null?void 0:v.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(v==null?void 0:v.resolution)&&(this.app.renderer.resolution=v.resolution,this.resetInteractionManager()),s.height===f&&s.width===d&&((l=s.options)===null||l===void 0?void 0:l.resolution)===(v==null?void 0:v.resolution)||this.updateSize(),s.raf!==p&&this.app.ticker[p?"start":"stop"](),Ci.updateContainer(this.getChildren(),this.mountNode,this),s.width===d&&s.height===f&&s.raf===p&&s.renderOnComponentChange===g&&s.options===v||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return de.createElement(k4,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),Ci.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,a=this,l=this.props.options;return l&&l.view?($t(l.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):de.createElement("canvas",Bd({},(s=this.props,o=[].concat(no(Object.keys(R4)),no(Object.keys(G_))),Object.keys(s).filter(function(u){return!o.includes(u)}).reduce(function(u,d){return tm(tm({},u),{},Wt({},d,s[d]))},{})),{ref:function(u){return a._canvas=u}}))}}])&&fq(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();X_.propTypes=R4,X_.defaultProps=vq;var yq=X_;function O4(){var t=O.useContext(Pv);return $t(t instanceof Iv,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider"),t}function bq(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=O4();$t(typeof t=="function","`useTick` needs a callback function."),$t(r instanceof Iv,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider");var n=O.useRef(null);O.useEffect(function(){n.current=t},[t]),O.useEffect(function(){if(e){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[e])}function xq(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function q_(t,e,r){return q_=xq()?Reflect.construct.bind():function(n,i,s){var o=[null];o.push.apply(o,i);var a=new(Function.bind.apply(n,o));return s&&b0(a,s.prototype),a},q_.apply(null,arguments)}var _q=["children","apply"];function MP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(r),!0).forEach(function(n){Wt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var wq=function(t,e){$t(Mn(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),n=function(i){var s=i.children,o=i.apply,a=Pa(i,_q),l=O.useRef(O.useMemo(function(){return r.map(function(f){var p,g=(a==null||(p=a[f])===null||p===void 0?void 0:p.construct)||[];return q_(e[f],no(g))})},[r])),u=O.useMemo(function(){return r.reduce(function(f,p,g){return rm(rm({},f),{},Wt({},p,l.current[g]))},{})},[r]),d=O.useMemo(function(){return Object.keys(a).filter(T4(E4(r))).reduce(function(f,p){return rm(rm({},f),{},Wt({},p,a[p]))},{})},[a,r]);return r.forEach(function(f,p){return Object.assign(l.current[p],a[f])}),o&&function(){for(var f=arguments.length,p=new Array(f),g=0;g<f;g++)p[g]=arguments[g];return p.every(function(v){return typeof v=="function"})}(o)&&o.call(t,u),de.createElement(t,Bd({},d,{filters:l.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:Ae.node,apply:Ae.func},n},Sq=bn.BitmapText,Eq=bn.Container,Tq=bn.Graphics,Aq=bn.NineSlicePlane,Cq=bn.ParticleContainer,Iq=bn.Sprite,Pq=bn.AnimatedSprite,Mq=bn.Text,kq=bn.TilingSprite,Nq=bn.SimpleMesh,Rq=bn.SimpleRope;const Oq=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:Pq,AppConsumer:N4,AppContext:Pv,AppProvider:k4,BitmapText:Sq,Container:Eq,Graphics:Tq,NineSlicePlane:Aq,ParticleContainer:Cq,PixiComponent:rq,PixiFiber:Ci,SimpleMesh:Nq,SimpleRope:Rq,Sprite:Iq,Stage:yq,TYPES:bn,Text:Mq,TilingSprite:kq,applyDefaultProps:ws,createRoot:M4,eventHandlers:y0,render:cq,unmountComponentAtNode:hq,useApp:O4,useTick:bq,withFilters:wq,withPixiApp:mq},Symbol.toStringTag,{value:"Module"})),Dq=HM(Oq);fv.exports=Dq;var zd=fv.exports;const Bu={widthScale:2/3,heightScale:.8};class Fl{constructor(e,r,n){tr(this,"position");tr(this,"gameState");tr(this,"side");this.position=e,this.gameState=r,this.side=n}isValidMove(e,r){if(e>=0&&e<8&&r>=0&&r<8){const n=this.gameState.states[r][e];if(n===null||n.side!==this.side)return!0}return!1}static createPiece(e,r,n){const i=/^[0-5]$/.test(e);switch(e.toLowerCase()){case"0":case"6":return new Lq(r,n,i);case"1":case"7":return new Fq(r,n,i);case"2":case"8":return new Uq(r,n,i);case"3":case"9":return new Bq(r,n,i);case"4":case"a":return new jq(r,n,i);case"5":case"b":return new zq(r,n,i);default:throw new Error("Invalid chess piece type")}}}class Lq extends Fl{constructor(e,r,n){super(e,r,n)}getAvailableMoves(){var s,o;const e=[],r=this.position.x,n=this.position.y,i=this.side?-1:1;return this.isValidMove(r,n+i)&&(e.push({x:r,y:n+i}),(this.side&&n===6||!this.side&&n===1)&&this.isValidMove(r,n+2*i)&&e.push({x:r,y:n+2*i})),this.gameState.states[n+i]&&this.gameState.states[n+i][r-1]&&((s=this.gameState.states[n+i][r-1])==null?void 0:s.side)!==this.side&&(console.log({x:r-1,y:n+i}),e.push({x:r-1,y:n+i})),this.gameState.states[n+i]&&this.gameState.states[n+i][r+1]&&((o=this.gameState.states[n+i][r+1])==null?void 0:o.side)!==this.side&&(console.log({x:r+1,y:n+i}),e.push({x:r+1,y:n+i})),e}}class Fq extends Fl{constructor(e,r,n){super(e,r,n)}getAvailableMoves(){const e=[],r=this.position.x,n=this.position.y;for(let i=r-1;i>=0&&this.isValidMove(i,n);i--)e.push({x:i,y:n});for(let i=r+1;i<8&&this.isValidMove(i,n);i++)e.push({x:i,y:n});for(let i=n-1;i>=0&&this.isValidMove(r,i);i--)e.push({x:r,y:i});for(let i=n+1;i<8&&this.isValidMove(r,i);i++)e.push({x:r,y:i});return e}}class Uq extends Fl{constructor(e,r,n){super(e,r,n)}getAvailableMoves(){const e=[],r=this.position.x,n=this.position.y,i=[{x:r+1,y:n+2},{x:r+2,y:n+1},{x:r+2,y:n-1},{x:r+1,y:n-2},{x:r-1,y:n-2},{x:r-2,y:n-1},{x:r-2,y:n+1},{x:r-1,y:n+2}];for(const s of i)this.isValidMove(s.x,s.y)&&e.push(s);return e}}class Bq extends Fl{constructor(e,r,n){super(e,r,n)}getAvailableMoves(){const e=[],r=this.position.x,n=this.position.y;let i=r+1,s=n+1;for(;i<8&&s<8&&this.isValidMove(i,s)&&(e.push({x:i,y:s}),!this.gameState.states[s][i]);)i++,s++;for(i=r-1,s=n+1;i>=0&&s<8&&this.isValidMove(i,s)&&(e.push({x:i,y:s}),!this.gameState.states[s][i]);)i--,s++;for(i=r+1,s=n-1;i<8&&s>=0&&this.isValidMove(i,s)&&(e.push({x:i,y:s}),!this.gameState.states[s][i]);)i++,s--;for(i=r-1,s=n-1;i>=0&&s>=0&&this.isValidMove(i,s)&&(e.push({x:i,y:s}),!this.gameState.states[s][i]);)i--,s--;return e}}class zq extends Fl{constructor(e,r,n){super(e,r,n)}getAvailableMoves(){const e=[],r=this.position.x,n=this.position.y,i=[{x:r+1,y:n},{x:r+1,y:n+1},{x:r,y:n+1},{x:r-1,y:n+1},{x:r-1,y:n},{x:r-1,y:n-1},{x:r,y:n-1},{x:r+1,y:n-1}];for(const s of i)this.isValidMove(s.x,s.y)&&e.push(s);return e}}class jq extends Fl{constructor(e,r,n){super(e,r,n)}getAvailableMoves(){const e=[],r=this.position.x,n=this.position.y;for(let o=r-1;o>=0&&this.isValidMove(o,n);o--)if(e.push({x:o,y:n}),this.gameState.states[n][o])break;for(let o=r+1;o<8&&this.isValidMove(o,n);o++)if(e.push({x:o,y:n}),this.gameState.states[n][o])break;for(let o=n-1;o>=0&&this.isValidMove(r,o);o--)if(e.push({x:r,y:o}),this.gameState.states[o][r])break;for(let o=n+1;o<8&&this.isValidMove(r,o);o++)if(e.push({x:r,y:o}),this.gameState.states[o][r])break;let i=r+1,s=n+1;for(;i<8&&s<8&&this.isValidMove(i,s)&&(e.push({x:i,y:s}),!this.gameState.states[s][i]);)i++,s++;for(i=r-1,s=n+1;i>=0&&s<8&&this.isValidMove(i,s)&&(e.push({x:i,y:s}),!this.gameState.states[s][i]);)i--,s++;for(i=r+1,s=n-1;i<8&&s>=0&&this.isValidMove(i,s)&&(e.push({x:i,y:s}),!this.gameState.states[s][i]);)i++,s--;for(i=r-1,s=n-1;i>=0&&s>=0&&this.isValidMove(i,s)&&(e.push({x:i,y:s}),!this.gameState.states[s][i]);)i--,s--;return e}}const $q=t=>{if(!t)return null;const e=[];for(let n=0;n<8;n++){const i=[];for(let s=0;s<8;s++){const o=t.charAt(n*8+s);i.push(null)}e.push(i)}const r={states:e};for(let n=0;n<8;n++)for(let i=0;i<8;i++){const s=t.charAt(n*8+i);if(s!=="c"){const o=Fl.createPiece(s,{x:i,y:n},r);r.states[n][i]=o}}return r},vu={gameId:"",startGame:t=>null,gameWidth:window.innerWidth*Bu.widthScale,gameHeight:window.innerHeight*Bu.heightScale,rawGameState:null,setRawGameState:()=>null,boardSize:Math.min(window.innerWidth*Bu.widthScale,window.innerHeight*Bu.heightScale),selectedGridIndex:-1,setSelectedGridIndex:()=>null,gameState:null,getCurrentSelectedChessPiece:()=>null,doMove:()=>null},D4=O.createContext(vu);function Gq({children:t}){const[e,r]=O.useState(vu.gameWidth),[n,i]=O.useState(vu.gameHeight),[s,o]=O.useState(vu.rawGameState),[a,l]=O.useState(vu.selectedGridIndex),u=O.useMemo(()=>Math.min(e,n),[e,n]);window.addEventListener("resize",()=>{r(window.innerWidth*Bu.widthScale),i(window.innerHeight*Bu.heightScale)});const d=()=>{if(!w)return null;if(a!==-1){const _=Math.floor(a/8),A=a%8;return w.states[_][A]}return null},[f,p]=O.useState(vu.gameId),g=O.useMemo(()=>pc.game(f),[f]),{sendMessage:v,lastMessage:b,readyState:E}=uf(g);O.useEffect(()=>{if(E==si.ReadyState.OPEN){const _=JSON.stringify({message:"JSESSIONID",data:eo()});console.log(_),v(_)}},[E]),O.useEffect(()=>{if(console.log(b),!b)return;const A=JSON.parse(b==null?void 0:b.data).data;A&&A.rawGameState&&o(A.rawGameState)},[b]);const w=O.useMemo(()=>$q(s),[s]),S=_=>{v(JSON.stringify({message:"Move",data:{from:{row:_.from.y,col:_.from.x},to:{row:_.to.y,col:_.to.x}}}))};return C(D4.Provider,{value:{gameId:f,startGame:p,gameWidth:e,gameHeight:n,rawGameState:s,setRawGameState:o,boardSize:u,selectedGridIndex:a,setSelectedGridIndex:l,gameState:w,getCurrentSelectedChessPiece:d,doMove:S},children:t})}const L4=()=>{const t=O.useContext(D4);if(t===void 0)throw new Error("useGame must be used within GameProvider");return t},F4=new Tt;Nt.prototype._cacheAsBitmap=!1;Nt.prototype._cacheData=null;Nt.prototype._cacheAsBitmapResolution=null;Nt.prototype._cacheAsBitmapMultisample=null;class Hq{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Nt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new Hq),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Nt.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};Nt.prototype._initCachedDisplayObject=function(t){var p,g;if((p=this._cacheData)!=null&&p.sprite)return;const e=this.alpha;this.alpha=1,t.batch.flush();const r=this.getLocalBounds(new Ge,!0);if((g=this.filters)!=null&&g.length){const v=this.filters[0].padding;r.pad(v)}const n=this.cacheAsBitmapResolution||t.resolution;r.ceil(n),r.width=Math.max(r.width,1/n),r.height=Math.max(r.height,1/n);const i=t.renderTexture.current,s=t.renderTexture.sourceFrame.clone(),o=t.renderTexture.destinationFrame.clone(),a=t.projection.transform,l=Ll.create({width:r.width,height:r.height,resolution:n,multisample:this.cacheAsBitmapMultisample??t.multisample}),u=`cacheAsBitmap_${Il()}`;this._cacheData.textureCacheId=u,ze.addToCache(l.baseTexture,u),ve.addToCache(l,u);const d=this.transform.localTransform.copyTo(F4).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:l,clear:!0,transform:d,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=a,t.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const f=new Ts(l);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-(r.x/r.width),f.anchor.y=-(r.y/r.height),f.alpha=e,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=f.containsPoint.bind(f)};Nt.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};Nt.prototype._initCachedDisplayObjectCanvas=function(t){var d;if((d=this._cacheData)!=null&&d.sprite)return;const e=this.getLocalBounds(new Ge,!0),r=this.alpha;this.alpha=1;const n=t.canvasContext.activeContext,i=t._projTransform,s=this.cacheAsBitmapResolution||t.resolution;e.ceil(s),e.width=Math.max(e.width,1/s),e.height=Math.max(e.height,1/s);const o=Ll.create({width:e.width,height:e.height,resolution:s}),a=`cacheAsBitmap_${Il()}`;this._cacheData.textureCacheId=a,ze.addToCache(o.baseTexture,a),ve.addToCache(o,a);const l=F4;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=e.x,l.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:o,clear:!0,transform:l,skipUpdateTransform:!1}),t.canvasContext.activeContext=n,t._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const u=new Ts(o);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(e.x/e.width),u.anchor.y=-(e.y/e.height),u.alpha=r,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)};Nt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Nt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Nt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,ze.removeFromCache(this._cacheData.textureCacheId),ve.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Nt.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};Nt.prototype.name=null;Zr.prototype.getChildByName=function(t,e){for(let r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(let r=0,n=this.children.length;r<n;r++){const i=this.children[r];if(!i.getChildByName)continue;const s=i.getChildByName(t,!0);if(s)return s}return null};Nt.prototype.getGlobalPosition=function(t=new je,e=!1){return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var Vq=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class Wq extends tt{constructor(e=1){super(YV,Vq,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const Xq={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},qq=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function Yq(t){const e=Xq[t],r=e.length;let n=qq,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let l=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),l=l.replace("%value%",e[o].toString()),i+=l,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const Qq=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function Kq(t,e){const r=Math.ceil(t/2);let n=Qq,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class Y_ extends tt{constructor(e,r=8,n=4,i=tt.defaultResolution,s=5){const o=Kq(s,e),a=Yq(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=r,l=s;this.state.blend=!1,e.applyFilter(this,a,l,ls.CLEAR);for(let u=1;u<this.passes-1;u++){e.bindAndClear(a,ls.BLIT),this.uniforms.uSampler=l;const d=l;l=a,a=d,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class Zq extends tt{constructor(e=8,r=4,n=tt.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new Y_(!0,e,r,n,i),this.blurYFilter=new Y_(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,r,a,ls.CLEAR),this.blurYFilter.apply(e,a,n,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var Jq=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Q_ extends tt{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(YO,Jq,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,i,s]=gt.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),l=n+(1-n)*o,u=o*(1-n)-a*i,d=o*(1-n)+a*i,f=o*(1-n)+a*i,p=n+o*(1-n),g=o*(1-n)-a*i,v=o*(1-n)-a*i,b=o*(1-n)+a*i,E=n+o*(1-n),w=[l,u,d,0,0,f,p,g,0,0,v,b,E,0,0,0,0,0,1,0];this._loadMatrix(w,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,s){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=gt.shared,[a,l,u]=o.setValue(n).toArray(),[d,f,p]=o.setValue(i).toArray(),g=[.3,.59,.11,0,0,a,l,u,e,0,d,f,p,r,0,a-d,l-f,u-p,0,0];this._loadMatrix(g,s)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}Q_.prototype.grayscale=Q_.prototype.greyscale;var eY=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,tY=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class rY extends tt{constructor(e,r){const n=new Tt;e.renderable=!1,super(tY,eY,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new je(r,r)}apply(e,r,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var nY=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,iY=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class sY extends tt{constructor(){super(iY,nY)}}var oY=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class aY extends tt{constructor(e=.5,r=Math.random()){super(YO,oY,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const kP={AlphaFilter:Wq,BlurFilter:Zq,BlurFilterPass:Y_,ColorMatrixFilter:Q_,DisplacementFilter:rY,FXAAFilter:sY,NoiseFilter:aY};Object.entries(kP).forEach(([t,e])=>{Object.defineProperty(kP,t,{get(){return Xe("7.1.0",`filters.${t} has moved to ${t}`),e}})});class lY{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(br.system.add(this.tickerUpdate,this,ga.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(br.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const Wo=new lY;class pf{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=pf.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new je,this.page=new je,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class _0 extends pf{constructor(){super(...arguments),this.client=new je,this.movement=new je,this.offset=new je,this.global=new je,this.screen=new je}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,a,l,u,d,f,p,g,v,b){throw new Error("Method not implemented.")}}class mi extends _0{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class rc extends _0{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}rc.DOM_DELTA_PIXEL=0,rc.DOM_DELTA_LINE=1,rc.DOM_DELTA_PAGE=2;const uY=2048,cY=new je,Tb=new je;class hY{constructor(e){this.dispatch=new cf,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){Wo.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",i=this[n](this.rootTarget,this.rootTarget.eventMode,cY.set(e,r),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<uY&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let a=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Wo.pauseUpdate=!1),e.interactiveChildren&&e.children){const d=e.children;for(let f=d.length-1;f>=0;f--){const p=d[f],g=this.hitTestMoveRecursive(p,this._isInteractive(r)?r:p.eventMode,n,i,s,o||s(e,n));if(g){if(g.length>0&&!g[g.length-1].parent)continue;const v=e.isInteractive();(g.length>0||v)&&(v&&this._allInteractiveElements.push(e),g.push(e)),this._hitElements.length===0&&(this._hitElements=g),a=!0}}}const l=this._isInteractive(r),u=e.isInteractive();return l&&u&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:a?this._hitElements:l&&!s(e,n)&&i(e,n)?u?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Wo.pauseUpdate=!1),e.interactiveChildren&&e.children){const l=e.children;for(let u=l.length-1;u>=0;u--){const d=l[u],f=this.hitTestRecursive(d,this._isInteractive(r)?r:d.eventMode,n,i,s);if(f){if(f.length>0&&!f[f.length-1].parent)continue;const p=e.isInteractive();return(f.length>0||p)&&f.push(e),f}}}const o=this._isInteractive(r),a=e.isInteractive();return o&&i(e,n)?a?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,Tb),!e.hitArea.contains(Tb.x,Tb.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const n=`on${r}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof mi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var l,u;if(!(e instanceof mi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((l=i.overTargets)==null?void 0:l.length)>0&&s!==r.target){const d=e.type==="mousemove"?"mouseout":"pointerout",f=this.createPointerEvent(e,d,s);if(this.dispatchEvent(f,"pointerout"),n&&this.dispatchEvent(f,"mouseout"),!r.composedPath().includes(s)){const p=this.createPointerEvent(e,"pointerleave",s);for(p.eventPhase=p.AT_TARGET;p.target&&!r.composedPath().includes(p.target);)p.currentTarget=p.target,this.notifyTarget(p),n&&this.notifyTarget(p,"mouseleave"),p.target=p.target.parent;this.freeEvent(p)}this.freeEvent(f)}if(s!==r.target){const d=e.type==="mousemove"?"mouseover":"pointerover",f=this.clonePointerEvent(r,d);this.dispatchEvent(f,"pointerover"),n&&this.dispatchEvent(f,"mouseover");let p=s==null?void 0:s.parent;for(;p&&p!==this.rootTarget.parent&&p!==r.target;)p=p.parent;if(!p||p===this.rootTarget.parent){const g=this.clonePointerEvent(r,"pointerenter");for(g.eventPhase=g.AT_TARGET;g.target&&g.target!==s&&g.target!==this.rootTarget.parent;)g.currentTarget=g.target,this.notifyTarget(g),n&&this.notifyTarget(g,"mouseenter"),g.target=g.target.parent;this.freeEvent(g)}this.freeEvent(f)}const o=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),a&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),a&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),a&&o.push("globalmousemove"),this.cursor=(u=r.target)==null?void 0:u.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof mi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof mi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof mi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const a=n.button===2;this.dispatchEvent(n,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let a=s;for(;a&&!n.composedPath().includes(a);){if(n.currentTarget=a,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const l=n.button===2;this.notifyTarget(n,l?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(n,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:r});const l=i.clicksByButton[e.button];if(l.target===a.target&&r-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=a.target,l.timeStamp=r,a.detail=l.clickCount,a.pointerType==="mouse"){const u=a.button===2;this.dispatchEvent(a,u?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof mi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof rc)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(mi);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(rc);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(mi);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof mi&&r instanceof mi&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof _0&&r instanceof _0&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const dY=1,fY={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},K_=class Z_{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new hY(null),Wo.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new mi(null),this.rootWheelEvent=new rc(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...Z_.defaultEventFeatures},{set:(r,n,i)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=i),r[n]=i,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:r,resolution:n}=this.renderer;this.setTargetElement(r),this.resolution=n,Z_._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":r&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":r&&Object.assign(this.domElement.style,n);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,i=r.length;n<i;n++){const s=r[n],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,Wo.pointerMoved();const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const n=r!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,i[s]);a.type+=n,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,Wo.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Wo.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Wo.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,n){const i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},s=1/this.resolution;e.x=(r-i.left)*(this.domElement.width/i.width)*s,e.y=(n-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,i=e.changedTouches.length;n<i;n++){const s=e.changedTouches[n];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,r.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=dY),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,r.push(n)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=fY[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}};K_.extension={name:"events",type:[ye.RendererSystem,ye.CanvasRendererSystem]},K_.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let J_=K_;Ie.add(J_);function NP(t){return t==="dynamic"||t==="static"}const pY={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??NP(J_.defaultEventMode)},set interactive(t){Xe("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??J_.defaultEventMode},set eventMode(t){this._internalInteractive=NP(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof r=="object"?r.signal:void 0,s=typeof r=="object"?r.once===!0:!1,o=typeof e=="function"?void 0:e;t=n?`${t}capture`:t;const a=typeof e=="function"?e:e.handleEvent,l=this;i&&i.addEventListener("abort",()=>{l.off(t,a,o)}),s?l.once(t,a,o):l.on(t,a,o)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof pf))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};Nt.mixin(pY);const mY={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Nt.mixin(mY);const gY=9,nm=100,vY=0,yY=0,RP=2,OP=1,bY=-1e3,xY=-1e3,_Y=2;class U4{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,($s.tablet||$s.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${nm}px`,r.style.height=`${nm}px`,r.style.position="absolute",r.style.top=`${vY}px`,r.style.left=`${yY}px`,r.style.zIndex=RP.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${OP}px`,e.style.height=`${OP}px`,e.style.position="absolute",e.style.top=`${bY}px`,e.style.left=`${xY}px`,e.style.zIndex=_Y.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if($s.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:l}=this.renderer,u=i/o*l,d=s/a*l;let f=this.div;f.style.left=`${r}px`,f.style.top=`${n}px`,f.style.width=`${o}px`,f.style.height=`${a}px`;for(let p=0;p<this.children.length;p++){const g=this.children[p];if(g.renderId!==this.renderId)g._accessibleActive=!1,Zu(this.children,p,1),this.div.removeChild(g._accessibleDiv),this.pool.push(g._accessibleDiv),g._accessibleDiv=null,p--;else{f=g._accessibleDiv;let v=g.hitArea;const b=g.worldTransform;g.hitArea?(f.style.left=`${(b.tx+v.x*b.a)*u}px`,f.style.top=`${(b.ty+v.y*b.d)*d}px`,f.style.width=`${v.width*b.a*u}px`,f.style.height=`${v.height*b.d*d}px`):(v=g.getBounds(),this.capHitArea(v),f.style.left=`${v.x*u}px`,f.style.top=`${v.y*d}px`,f.style.width=`${v.width*u}px`,f.style.height=`${v.height*d}px`,f.title!==g.accessibleTitle&&g.accessibleTitle!==null&&(f.title=g.accessibleTitle),f.getAttribute("aria-label")!==g.accessibleHint&&g.accessibleHint!==null&&f.setAttribute("aria-label",g.accessibleHint)),(g.accessibleTitle!==f.title||g.tabIndex!==f.tabIndex)&&(f.title=g.accessibleTitle,f.tabIndex=g.tabIndex,this.debug&&this.updateDebugHTML(f))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${nm}px`,r.style.height=`${nm}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=RP.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new pf(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===gY&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}U4.extension={name:"accessibility",type:[ye.RendererPlugin,ye.CanvasRendererPlugin]};Ie.add(U4);var Tr=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t[t.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",t[t.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",t[t.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",t[t.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",t))(Tr||{});const w0={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let ns,yu;function DP(){yu={bptc:ns.getExtension("EXT_texture_compression_bptc"),astc:ns.getExtension("WEBGL_compressed_texture_astc"),etc:ns.getExtension("WEBGL_compressed_texture_etc"),s3tc:ns.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:ns.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:ns.getExtension("WEBGL_compressed_texture_pvrtc")||ns.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:ns.getExtension("WEBGL_compressed_texture_etc1"),atc:ns.getExtension("WEBGL_compressed_texture_atc")}}const wY={extension:{type:ye.DetectionParser,priority:2},test:async()=>{const t=be.ADAPTER.createCanvas().getContext("webgl");return t?(ns=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{yu||DP();const e=[];for(const r in yu)yu[r]&&e.push(r);return[...e,...t]},remove:async t=>(yu||DP(),t.filter(e=>!(e in yu)))};Ie.add(wY);class SY extends yv{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,r),this.origin=n,this.buffer=i?new y_(i):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new y_(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class yl extends SY{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=yl._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||yl._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;i.pixelStorei(i.UNPACK_ALIGNMENT,4);for(let s=0,o=this.levels;s<o;s++){const{levelID:a,levelWidth:l,levelHeight:u,levelBuffer:d}=this._levelBuffers[s];i.compressedTexImage2D(i.TEXTURE_2D,a,this.format,l,u,0,d)}return!0}onBlobLoaded(){this._levelBuffers=yl._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e===36196)return"etc1";if(e===35986||e===35987||e===34798)return"atc";if(e>=36492&&e<=36495)return"bptc";if(e===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${e}`)}static _createLevelBuffers(e,r,n,i,s,o,a){const l=new Array(n);let u=e.byteOffset,d=o,f=a,p=d+i-1&~(i-1),g=f+s-1&~(s-1),v=p*g*w0[r];for(let b=0;b<n;b++)l[b]={levelID:b,levelWidth:n>1?d:p,levelHeight:n>1?f:g,levelBuffer:new Uint8Array(e.buffer,u,v)},u+=v,d=d>>1||1,f=f>>1||1,p=d+i-1&~(i-1),g=f+s-1&~(s-1),v=p*g*w0[r];return l}}const Ab=4,im=124,EY=32,LP=20,TY=542327876,sm={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},AY={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},om={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},CY=1,IY=2,PY=4,MY=64,kY=512,NY=131072,RY=827611204,OY=861165636,DY=894720068,LY=808540228,FY=4,UY={[RY]:Tr.COMPRESSED_RGBA_S3TC_DXT1_EXT,[OY]:Tr.COMPRESSED_RGBA_S3TC_DXT3_EXT,[DY]:Tr.COMPRESSED_RGBA_S3TC_DXT5_EXT},BY={70:Tr.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Tr.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Tr.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Tr.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Tr.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Tr.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Tr.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Tr.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Tr.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:Tr.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:Tr.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:Tr.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:Tr.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function zY(t){const e=new Uint32Array(t);if(e[0]!==TY)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,im/Uint32Array.BYTES_PER_ELEMENT),n=r[sm.HEIGHT],i=r[sm.WIDTH],s=r[sm.MIPMAP_COUNT],o=new Uint32Array(t,sm.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,EY/Uint32Array.BYTES_PER_ELEMENT),a=o[CY];if(a&PY){const l=o[AY.FOURCC];if(l!==LY){const S=UY[l],_=Ab+im,A=new Uint8Array(t,_);return[new yl(A,{format:S,width:i,height:n,levels:s})]}const u=Ab+im,d=new Uint32Array(e.buffer,u,LP/Uint32Array.BYTES_PER_ELEMENT),f=d[om.DXGI_FORMAT],p=d[om.RESOURCE_DIMENSION],g=d[om.MISC_FLAG],v=d[om.ARRAY_SIZE],b=BY[f];if(b===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${f}`);if(g===FY)throw new Error("DDSParser does not support cubemap textures");if(p===6)throw new Error("DDSParser does not supported 3D texture data");const E=new Array,w=Ab+im+LP;if(v===1)E.push(new Uint8Array(t,w));else{const S=w0[b];let _=0,A=i,P=n;for(let L=0;L<s;L++){const k=Math.max(1,A+3&-4),q=Math.max(1,P+3&-4),H=k*q*S;_+=H,A=A>>>1,P=P>>>1}let N=w;for(let L=0;L<v;L++)E.push(new Uint8Array(t,N,_)),N+=_}return E.map(S=>new yl(S,{format:b,width:i,height:n,levels:s}))}throw a&MY?new Error("DDSParser does not support uncompressed texture data."):a&kY?new Error("DDSParser does not supported YUV uncompressed texture data."):a&NY?new Error("DDSParser does not support single-channel (lumninance) texture data!"):a&IY?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const FP=[171,75,84,88,32,49,49,187,13,10,26,10],jY=67305985,fi={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},ew=64,UP={[Re.UNSIGNED_BYTE]:1,[Re.UNSIGNED_SHORT]:2,[Re.INT]:4,[Re.UNSIGNED_INT]:4,[Re.FLOAT]:4,[Re.HALF_FLOAT]:8},$Y={[ce.RGBA]:4,[ce.RGB]:3,[ce.RG]:2,[ce.RED]:1,[ce.LUMINANCE]:1,[ce.LUMINANCE_ALPHA]:2,[ce.ALPHA]:1},GY={[Re.UNSIGNED_SHORT_4_4_4_4]:2,[Re.UNSIGNED_SHORT_5_5_5_1]:2,[Re.UNSIGNED_SHORT_5_6_5]:2};function HY(t,e,r=!1){const n=new DataView(e);if(!VY(t,n))return null;const i=n.getUint32(fi.ENDIANNESS,!0)===jY,s=n.getUint32(fi.GL_TYPE,i),o=n.getUint32(fi.GL_FORMAT,i),a=n.getUint32(fi.GL_INTERNAL_FORMAT,i),l=n.getUint32(fi.PIXEL_WIDTH,i),u=n.getUint32(fi.PIXEL_HEIGHT,i)||1,d=n.getUint32(fi.PIXEL_DEPTH,i)||1,f=n.getUint32(fi.NUMBER_OF_ARRAY_ELEMENTS,i)||1,p=n.getUint32(fi.NUMBER_OF_FACES,i),g=n.getUint32(fi.NUMBER_OF_MIPMAP_LEVELS,i),v=n.getUint32(fi.BYTES_OF_KEY_VALUE_DATA,i);if(u===0||d!==1)throw new Error("Only 2D textures are supported");if(p!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(f!==1)throw new Error("WebGL does not support array textures");const b=4,E=4,w=l+3&-4,S=u+3&-4,_=new Array(f);let A=l*u;s===0&&(A=w*S);let P;if(s!==0?UP[s]?P=UP[s]*$Y[o]:P=GY[s]:P=w0[a],P===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const N=r?XY(n,v,i):null;let L=A*P,k=l,q=u,H=w,Q=S,G=ew+v;for(let F=0;F<g;F++){const D=n.getUint32(G,i);let V=G+4;for(let W=0;W<f;W++){let B=_[W];B||(B=_[W]=new Array(g)),B[F]={levelID:F,levelWidth:g>1||s!==0?k:H,levelHeight:g>1||s!==0?q:Q,levelBuffer:new Uint8Array(e,V,L)},V+=L}G+=D+4,G=G%4!==0?G+4-G%4:G,k=k>>1||1,q=q>>1||1,H=k+b-1&~(b-1),Q=q+E-1&~(E-1),L=H*Q*P}return s!==0?{uncompressed:_.map(F=>{let D=F[0].levelBuffer,V=!1;return s===Re.FLOAT?D=new Float32Array(F[0].levelBuffer.buffer,F[0].levelBuffer.byteOffset,F[0].levelBuffer.byteLength/4):s===Re.UNSIGNED_INT?(V=!0,D=new Uint32Array(F[0].levelBuffer.buffer,F[0].levelBuffer.byteOffset,F[0].levelBuffer.byteLength/4)):s===Re.INT&&(V=!0,D=new Int32Array(F[0].levelBuffer.buffer,F[0].levelBuffer.byteOffset,F[0].levelBuffer.byteLength/4)),{resource:new yv(D,{width:F[0].levelWidth,height:F[0].levelHeight}),type:s,format:V?WY(o):o}}),kvData:N}:{compressed:_.map(F=>new yl(null,{format:a,width:l,height:u,levels:g,levelBuffers:F})),kvData:N}}function VY(t,e){for(let r=0;r<FP.length;r++)if(e.getUint8(r)!==FP[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function WY(t){switch(t){case ce.RGBA:return ce.RGBA_INTEGER;case ce.RGB:return ce.RGB_INTEGER;case ce.RG:return ce.RG_INTEGER;case ce.RED:return ce.RED_INTEGER;default:return t}}function XY(t,e,r){const n=new Map;let i=0;for(;i<e;){const s=t.getUint32(ew+i,r),o=ew+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<s&&t.getUint8(o+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const u=new TextDecoder().decode(new Uint8Array(t.buffer,o,l)),d=new DataView(t.buffer,o+l+1,s-l-1);n.set(u,d),i+=4+s+a}return n}const qY={extension:{type:ye.LoadParser,priority:Bi.High},name:"loadDDS",test(t){return Ia(t,".dds")},async load(t,e,r){const n=await(await be.ADAPTER.fetch(t)).arrayBuffer(),i=zY(n).map(s=>{const o=new ze(s,{mipmap:xs.OFF,alphaMode:fn.NO_PREMULTIPLIED_ALPHA,resolution:to(t),...e.data});return ff(o,r,t)});return i.length===1?i[0]:i},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};Ie.add(qY);const YY={extension:{type:ye.LoadParser,priority:Bi.High},name:"loadKTX",test(t){return Ia(t,".ktx")},async load(t,e,r){const n=await(await be.ADAPTER.fetch(t)).arrayBuffer(),{compressed:i,uncompressed:s,kvData:o}=HY(t,n),a=i??s,l={mipmap:xs.OFF,alphaMode:fn.NO_PREMULTIPLIED_ALPHA,resolution:to(t),...e.data},u=a.map(d=>{a===s&&Object.assign(l,{type:d.type,format:d.format});const f=d.resource??d,p=new ze(f,l);return p.ktxKeyValueData=o,ff(p,r,t)});return u.length===1?u[0]:u},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};Ie.add(YY);const QY=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],KY={extension:ye.ResolveParser,test:t=>{const e=_r.extname(t).slice(1);return["basis","ktx","dds"].includes(e)},parse:t=>{var n,i;const e=t.split("."),r=e.pop();if(["ktx","dds"].includes(r)){const s=e.pop();if(QY.includes(s))return{resolution:parseFloat(((n=be.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:s,src:t}}return{resolution:parseFloat(((i=be.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:r,src:t}}};Ie.add(KY);const am=new Ge,ZY=4,B4=class Uh{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,r,n,i){const s=new Image;return s.src=await this.base64(e,r,n,i),s}async base64(e,r,n,i){const s=this.canvas(e,i);if(s.toBlob!==void 0)return new Promise((o,a)=>{s.toBlob(l=>{if(!l){a(new Error("ICanvas.toBlob failed!"));return}const u=new FileReader;u.onload=()=>o(u.result),u.onerror=a,u.readAsDataURL(l)},r,n)});if(s.toDataURL!==void 0)return s.toDataURL(r,n);if(s.convertToBlob!==void 0){const o=await s.convertToBlob({type:r,quality:n});return new Promise((a,l)=>{const u=new FileReader;u.onload=()=>a(u.result),u.onerror=l,u.readAsDataURL(o)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,r);o&&Uh._flipY(n,i,s),a&&Uh._unpremultiplyAlpha(n);const l=new DH(i,s,1),u=new ImageData(new Uint8ClampedArray(n.buffer),i,s);return l.context.putImageData(u,0,0),l.canvas}pixels(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,r);return o&&Uh._flipY(n,i,s),a&&Uh._unpremultiplyAlpha(n),n}_rawPixels(e,r){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let i,s=!1,o=!1,a,l=!1;e&&(e instanceof Ll?a=e:(a=n.generateTexture(e,{region:r,resolution:n.resolution,multisample:n.multisample}),l=!0,r&&(am.width=r.width,am.height=r.height,r=am)));const u=n.gl;if(a){if(i=a.baseTexture.resolution,r=r??a.frame,s=!1,o=a.baseTexture.alphaMode>0&&a.baseTexture.format===ce.RGBA,!l){n.renderTexture.bind(a);const g=a.framebuffer.glFramebuffers[n.CONTEXT_UID];g.blitFramebuffer&&n.framebuffer.bind(g.blitFramebuffer)}}else i=n.resolution,r||(r=am,r.width=n.width/i,r.height=n.height/i),s=!0,o=this._rendererPremultipliedAlpha,n.renderTexture.bind();const d=Math.max(Math.round(r.width*i),1),f=Math.max(Math.round(r.height*i),1),p=new Uint8Array(ZY*d*f);return u.readPixels(Math.round(r.x*i),Math.round(r.y*i),d,f,u.RGBA,u.UNSIGNED_BYTE,p),l&&(a==null||a.destroy(!0)),{pixels:p,width:d,height:f,flipY:s,premultipliedAlpha:o}}destroy(){this.renderer=null}static _flipY(e,r,n){const i=r<<2,s=n>>1,o=new Uint8Array(i);for(let a=0;a<s;a++){const l=a*i,u=(n-a-1)*i;o.set(e.subarray(l,l+i)),e.copyWithin(l,u,u+i),e.set(o,u)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const r=e.length;for(let n=0;n<r;n+=4){const i=e[n+3];if(i!==0){const s=255.001/i;e[n]=e[n]*s+.5,e[n+1]=e[n+1]*s+.5,e[n+2]=e[n+2]*s+.5}}}};B4.extension={name:"extract",type:ye.RendererSystem};let JY=B4;Ie.add(JY);class eQ{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function tQ(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof ve){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function rQ(t,e){if(t.baseTexture instanceof ze){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function nQ(t,e){if(t._texture&&t._texture instanceof ve){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function iQ(t,e){return e instanceof sE?(e.updateText(!0),!0):!1}function sQ(t,e){if(e instanceof va){const r=e.toFontString();return $o.measureFont(r),!0}return!1}function oQ(t,e){if(t instanceof sE){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function aQ(t,e){return t instanceof va?(e.includes(t)||e.push(t),!0):!1}const z4=class j4{constructor(e){this.limiter=new eQ(j4.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(oQ),this.registerFindHook(aQ),this.registerFindHook(tQ),this.registerFindHook(rQ),this.registerFindHook(nQ),this.registerUploadHook(iQ),this.registerUploadHook(sQ)}upload(e){return new Promise(r=>{e&&this.add(e),this.queue.length?(this.completes.push(r),this.ticking||(this.ticking=!0,br.system.addOnce(this.tick,this,ga.UTILITY))):r()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let r=!1;if(e&&!e._destroyed){for(let n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)br.system.addOnce(this.tick,this,ga.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let r=0,n=e.length;r<n;r++)e[r]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof Zr)for(let r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this}destroy(){this.ticking&&br.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};z4.uploadsPerFrame=4;let tw=z4;Object.defineProperties(be,{UPLOADS_PER_FRAME:{get(){return tw.uploadsPerFrame},set(t){Xe("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),tw.uploadsPerFrame=t}}});function $4(t,e){return e instanceof ze?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function lQ(t,e){if(!(e instanceof ad))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&$4(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function uQ(t,e){return t instanceof ad?(e.push(t),!0):!1}class G4 extends tw{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(uQ),this.registerUploadHook($4),this.registerUploadHook(lQ)}}G4.extension={name:"prepare",type:ye.RendererSystem};Ie.add(G4);const H4=class Bh{constructor(e,r,n){this.linkedSheets=[],(e instanceof ze||e instanceof ve)&&(e={texture:e,data:r,resolutionFilename:n});const{texture:i,data:s,resolutionFilename:o=null,cachePrefix:a=""}=e;this.cachePrefix=a,this._texture=i instanceof ve?i:null,this.baseTexture=i instanceof ze?i:this._texture.baseTexture,this.textures={},this.animations={},this.data=s;const l=this.baseTexture.resource;this.resolution=this._updateResolution(o||(l?l.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:r}=this.data.meta;let n=to(e,null);return n===null&&(n=typeof r=="number"?r:parseFloat(r??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Bh.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const n=Bh.BATCH_SIZE;for(;r-e<n&&r<this._frameKeys.length;){const i=this._frameKeys[r],s=this._frames[i],o=s.frame;if(o){let a=null,l=null;const u=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,d=new Ge(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);s.rotated?a=new Ge(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new Ge(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(l=new Ge(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new ve(this.baseTexture,a,d,l,s.rotated?2:0,s.anchor,s.borders),ve.addToCache(this.textures[i],this.cachePrefix+i.toString())}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let n=0;n<e[r].length;n++){const i=e[r][n];this.animations[r].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Bh.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Bh.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};H4.BATCH_SIZE=1e3;let BP=H4;const cQ=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function V4(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[`${e.cachePrefix}${i}`]=e.textures[i]}),!r){const i=_r.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{Object.assign(n,V4([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0))})}return n}const hQ={extension:ye.Asset,cache:{test:t=>t instanceof BP,getCacheableAssets:(t,e)=>V4(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),r=e.pop(),n=e.pop();return r==="json"&&cQ.includes(n)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=be.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:ye.LoadParser,priority:Bi.Normal},async testParse(t,e){return _r.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var d,f;const{texture:n,imageFilename:i,cachePrefix:s}=(e==null?void 0:e.data)??{};let o=_r.dirname(e.src);o&&o.lastIndexOf("/")!==o.length-1&&(o+="/");let a;if(n&&n.baseTexture)a=n;else{const p=U_(o+(i??t.meta.image),e.src);a=(await r.load([p]))[p]}const l=new BP({texture:a.baseTexture,data:t,resolutionFilename:e.src,cachePrefix:s});await l.parse();const u=(d=t==null?void 0:t.meta)==null?void 0:d.related_multi_packs;if(Array.isArray(u)){const p=[];for(const v of u){if(typeof v!="string")continue;let b=o+v;(f=e.data)!=null&&f.ignoreMultiPack||(b=U_(b,e.src),p.push(r.load({src:b,data:{ignoreMultiPack:!0}})))}const g=await Promise.all(p);l.linkedSheets=g,g.forEach(v=>{v.linkedSheets=[l].concat(l.linkedSheets.filter(b=>b!==v))})}return l},unload(t){t.destroy(!0)}}};Ie.add(hQ);const rw=class bu extends va{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new bu(Object.keys(bu.defaultOptions).reduce((r,n)=>({...r,[n]:e[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete bu.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,r={}){const{availableFonts:n}=bu;if(n[e]){const i=n[e];return this._fonts.push(i),i.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return be.ADAPTER.fetch(e).then(i=>i.blob()).then(async i=>new Promise((s,o)=>{const a=URL.createObjectURL(i),l=new FileReader;l.onload=()=>s([a,l.result]),l.onerror=o,l.readAsDataURL(i)})).then(async([i,s])=>{const o=Object.assign({family:_r.basename(e,_r.extname(e)),weight:"normal",style:"normal",display:"auto",src:i,dataSrc:s,refs:1,originalUrl:e,fontFace:null},r);n[e]=o,this._fonts.push(o),this.styleID++;const a=new FontFace(o.family,`url(${o.src})`,{weight:o.weight,style:o.style,display:o.display});o.fontFace=a,await a.load(),document.fonts.add(a),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const r=e.filter(n=>!this._overrides.includes(n));r.length>0&&(this._overrides.push(...r),this.styleID++)}removeOverride(...e){const r=e.filter(n=>this._overrides.includes(n));r.length>0&&(this._overrides=this._overrides.filter(n=>!r.includes(n)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,r)=>`${e}
            @font-face {
                font-family: "${r.family}";
                src: url('${r.dataSrc}');
                font-weight: ${r.weight};
                font-style: ${r.style};
                font-display: ${r.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=vv(e)),typeof e=="number"?kH(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const r=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),i=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&r<1&&(e+=(r*255|0).toString(16).padStart(2,"0"));const s=`${n}px ${i}px`;return this.dropShadowBlur>0?`text-shadow: ${s} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${s} ${e}`}reset(){Object.assign(this,bu.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(r=>setTimeout(r,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=be.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};rw.availableFonts={},rw.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let Cb=rw;const lm=class xu extends Ts{constructor(e="",r={}){super(ve.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,i=ve.from(n,{scaleMode:be.SCALE_MODE,resourceOptions:{autoLoad:!1}});i.orig=new Ge,i.trim=new Ge,this.texture=i;const s="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xhtml",a=document.createElementNS(s,"svg"),l=document.createElementNS(s,"foreignObject"),u=document.createElementNS(o,"div"),d=document.createElementNS(o,"style");l.setAttribute("width","10000"),l.setAttribute("height","10000"),l.style.overflow="hidden",a.appendChild(l),this.maxWidth=xu.defaultMaxWidth,this.maxHeight=xu.defaultMaxHeight,this._domElement=u,this._styleElement=d,this._svgRoot=a,this._foreignObject=l,this._foreignObject.appendChild(d),this._foreignObject.appendChild(u),this._image=n,this._loadImage=new Image,this._autoResolution=xu.defaultAutoResolution,this._resolution=xu.defaultResolution??be.RESOLUTION,this.text=e,this.style=r}measureText(e){var d,f;const{text:r,style:n,resolution:i}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:r,style:n.toCSS(i)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const s=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:o,height:a}=s;(o>this.maxWidth||a>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const l=Math.min(this.maxWidth,Math.ceil(o)),u=Math.min(this.maxHeight,Math.ceil(a));return this._svgRoot.setAttribute("width",l.toString()),this._svgRoot.setAttribute("height",u.toString()),r!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:(d=this._style)==null?void 0:d.toCSS(i)}),this._styleElement.textContent=(f=this._style)==null?void 0:f.toGlobalCSS()),{width:l+n.padding*2,height:u+n.padding*2}}async updateText(e=!0){const{style:r,_image:n,_loadImage:i}=this;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;const{width:s,height:o}=this.measureText();n.width=i.width=Math.ceil(Math.max(1,s)),n.height=i.height=Math.ceil(Math.max(1,o)),this._updateID++;const a=this._updateID;await new Promise(l=>{i.onload=async()=>{if(a<this._updateID){l();return}await r.onBeforeDraw(),n.src=i.src,i.onload=null,i.src="",this.updateTexture(),l()};const u=new XMLSerializer().serializeToString(this._svgRoot);i.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(u)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:r,_image:n,resolution:i}=this,{padding:s}=e,{baseTexture:o}=r;r.trim.width=r._frame.width=n.width/i,r.trim.height=r._frame.height=n.height/i,r.trim.x=-s,r.trim.y=-s,r.orig.width=r._frame.width-s*2,r.orig.height=r._frame.height-s*2,this._onTextureUpdate(),o.setRealSize(n.width,n.height,i),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var n,i,s,o,a;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},xu.defaultDestroyOptions,e),super.destroy(e);const r=null;this.ownsStyle&&((n=this._style)==null||n.cleanFonts()),this._style=r,(i=this._svgRoot)==null||i.remove(),this._svgRoot=r,(s=this._domElement)==null||s.remove(),this._domElement=r,(o=this._foreignObject)==null||o.remove(),this._foreignObject=r,(a=this._styleElement)==null||a.remove(),this._styleElement=r,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=r,this._image.src="",this._image=r}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const r=Jo(this.scale.x)||1;this.scale.x=r*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const r=Jo(this.scale.y)||1;this.scale.y=r*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof Cb?(this.ownsStyle=!1,this._style=e):e instanceof va?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=Cb.from(e)):(this.ownsStyle=!0,this._style=new Cb(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};lm.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},lm.defaultMaxWidth=2024,lm.defaultMaxHeight=2024,lm.defaultAutoResolution=!0;const dQ={light:"/game/board/light.png",dark:"/game/board/dark.png"},fQ={0:"/game/pieces/white/Pawn.png",1:"/game/pieces/white/Rook.png",2:"/game/pieces/white/Knight.png",3:"/game/pieces/white/Bishop.png",4:"/game/pieces/white/Queen.png",5:"/game/pieces/white/King.png",6:"/game/pieces/black/Pawn.png",7:"/game/pieces/black/Rook.png",8:"/game/pieces/black/Knight.png",9:"/game/pieces/black/Bishop.png",a:"/game/pieces/black/Queen.png",b:"/game/pieces/black/King.png"};function pQ(t){const[e,r]=O.useState(!1);t.highlightMove!==e&&r(t.highlightMove??!1);const n=t.game;return J(st,{children:[C(zd.Sprite,{x:t.x,y:t.y,width:t.width,height:t.height,image:dQ[t.type]}),t.highlightMove&&C(zd.Sprite,{x:t.x,y:t.y,width:t.width,height:t.height,image:"/game/board/circle-xxl.png",visible:e,eventMode:"static",click:()=>{n.doMove({from:n.getCurrentSelectedChessPiece().position,to:{x:t.gridX,y:t.gridY}})}})]})}var mQ=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,gQ=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample top right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample bottom right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));

    // Sample bottom left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}`,vQ=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;
uniform vec4 filterClamp;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample top right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}
`;let S0=class extends tt{constructor(e=4,r=3,n=!1){super(mQ,n?vQ:gQ),this._kernels=[],this._blur=4,this._quality=3,this.uniforms.uOffset=new Float32Array(2),this._pixelSize=new je,this.pixelSize=1,this._clamp=n,Array.isArray(e)?this.kernels=e:(this._blur=e,this.quality=r)}apply(e,r,n,i){const s=this._pixelSize.x/r._frame.width,o=this._pixelSize.y/r._frame.height;let a;if(this._quality===1||this._blur===0)a=this._kernels[0]+.5,this.uniforms.uOffset[0]=a*s,this.uniforms.uOffset[1]=a*o,e.applyFilter(this,r,n,i);else{const l=e.getFilterTexture();let u=r,d=l,f;const p=this._quality-1;for(let g=0;g<p;g++)a=this._kernels[g]+.5,this.uniforms.uOffset[0]=a*s,this.uniforms.uOffset[1]=a*o,e.applyFilter(this,u,d,1),f=u,u=d,d=f;a=this._kernels[p]+.5,this.uniforms.uOffset[0]=a*s,this.uniforms.uOffset[1]=a*o,e.applyFilter(this,u,n,i),e.returnFilterTexture(l)}}_updatePadding(){this.padding=Math.ceil(this._kernels.reduce((e,r)=>e+r+.5,0))}_generateKernels(){const e=this._blur,r=this._quality,n=[e];if(e>0){let i=e;const s=e/r;for(let o=1;o<r;o++)i-=s,n.push(i)}this._kernels=n,this._updatePadding()}get kernels(){return this._kernels}set kernels(e){Array.isArray(e)&&e.length>0?(this._kernels=e,this._quality=e.length,this._blur=Math.max(...e)):(this._kernels=[0],this._quality=1)}get clamp(){return this._clamp}set pixelSize(e){typeof e=="number"?(this._pixelSize.x=e,this._pixelSize.y=e):Array.isArray(e)?(this._pixelSize.x=e[0],this._pixelSize.y=e[1]):e instanceof je?(this._pixelSize.x=e.x,this._pixelSize.y=e.y):(this._pixelSize.x=1,this._pixelSize.y=1)}get pixelSize(){return this._pixelSize}get quality(){return this._quality}set quality(e){this._quality=Math.max(1,Math.round(e)),this._generateKernels()}get blur(){return this._blur}set blur(e){this._blur=e,this._generateKernels()}};var W4=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,yQ=`
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform float threshold;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // A simple & fast algorithm for getting brightness.
    // It's inaccuracy , but good enought for this feature.
    float _max = max(max(color.r, color.g), color.b);
    float _min = min(min(color.r, color.g), color.b);
    float brightness = (_max + _min) * 0.5;

    if(brightness > threshold) {
        gl_FragColor = color;
    } else {
        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
    }
}
`;let bQ=class extends tt{constructor(e=.5){super(W4,yQ),this.threshold=e}get threshold(){return this.uniforms.threshold}set threshold(e){this.uniforms.threshold=e}};var xQ=`uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform sampler2D bloomTexture;
uniform float bloomScale;
uniform float brightness;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);
    color.rgb *= brightness;
    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);
    bloomColor.rgb *= bloomScale;
    gl_FragColor = color + bloomColor;
}
`;const X4=class extends tt{constructor(e){super(W4,xQ),this.bloomScale=1,this.brightness=1,this._resolution=be.FILTER_RESOLUTION,typeof e=="number"&&(e={threshold:e});const r=Object.assign(X4.defaults,e);this.bloomScale=r.bloomScale,this.brightness=r.brightness;const{kernels:n,blur:i,quality:s,pixelSize:o,resolution:a}=r;this._extractFilter=new bQ(r.threshold),this._extractFilter.resolution=a,this._blurFilter=n?new S0(n):new S0(i,s),this.pixelSize=o,this.resolution=a}apply(e,r,n,i,s){const o=e.getFilterTexture();this._extractFilter.apply(e,r,o,1,s);const a=e.getFilterTexture();this._blurFilter.apply(e,o,a,1),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=a,e.applyFilter(this,r,n,i),e.returnFilterTexture(a),e.returnFilterTexture(o)}get resolution(){return this._resolution}set resolution(e){this._resolution=e,this._extractFilter&&(this._extractFilter.resolution=e),this._blurFilter&&(this._blurFilter.resolution=e)}get threshold(){return this._extractFilter.threshold}set threshold(e){this._extractFilter.threshold=e}get kernels(){return this._blurFilter.kernels}set kernels(e){this._blurFilter.kernels=e}get blur(){return this._blurFilter.blur}set blur(e){this._blurFilter.blur=e}get quality(){return this._blurFilter.quality}set quality(e){this._blurFilter.quality=e}get pixelSize(){return this._blurFilter.pixelSize}set pixelSize(e){this._blurFilter.pixelSize=e}};let _Q=X4;_Q.defaults={threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:be.FILTER_RESOLUTION};var wQ=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,SQ=`uniform float radius;
uniform float strength;
uniform vec2 center;
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

void main()
{
    vec2 coord = vTextureCoord * filterArea.xy;
    coord -= center * dimensions.xy;
    float distance = length(coord);
    if (distance < radius) {
        float percent = distance / radius;
        if (strength > 0.0) {
            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);
        } else {
            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);
        }
    }
    coord += center * dimensions.xy;
    coord /= filterArea.xy;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    gl_FragColor = color;
}
`;const q4=class extends tt{constructor(e){super(wQ,SQ),this.uniforms.dimensions=new Float32Array(2),Object.assign(this,q4.defaults,e)}apply(e,r,n,i){const{width:s,height:o}=r.filterFrame;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=o,e.applyFilter(this,r,n,i)}get radius(){return this.uniforms.radius}set radius(e){this.uniforms.radius=e}get strength(){return this.uniforms.strength}set strength(e){this.uniforms.strength=e}get center(){return this.uniforms.center}set center(e){this.uniforms.center=e}};let EQ=q4;EQ.defaults={center:[.5,.5],radius:100,strength:1};var TQ=`const float PI = 3.1415926538;
const float PI_2 = PI*2.;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;
uniform sampler2D uSampler;

const int TYPE_LINEAR = 0;
const int TYPE_RADIAL = 1;
const int TYPE_CONIC = 2;
const int MAX_STOPS = 32;

uniform int uNumStops;
uniform float uAlphas[3*MAX_STOPS];
uniform vec3 uColors[MAX_STOPS];
uniform float uOffsets[MAX_STOPS];
uniform int uType;
uniform float uAngle;
uniform float uAlpha;
uniform int uMaxColors;

struct ColorStop {
    float offset;
    vec3 color;
    float alpha;
};

mat2 rotate2d(float angle){
    return mat2(cos(angle), -sin(angle),
    sin(angle), cos(angle));
}

float projectLinearPosition(vec2 pos, float angle){
    vec2 center = vec2(0.5);
    vec2 result = pos - center;
    result = rotate2d(angle) * result;
    result = result + center;
    return clamp(result.x, 0., 1.);
}

float projectRadialPosition(vec2 pos) {
    float r = distance(vFilterCoord, vec2(0.5));
    return clamp(2.*r, 0., 1.);
}

float projectAnglePosition(vec2 pos, float angle) {
    vec2 center = pos - vec2(0.5);
    float polarAngle=atan(-center.y, center.x);
    return mod(polarAngle + angle, PI_2) / PI_2;
}

float projectPosition(vec2 pos, int type, float angle) {
    if (type == TYPE_LINEAR) {
        return projectLinearPosition(pos, angle);
    } else if (type == TYPE_RADIAL) {
        return projectRadialPosition(pos);
    } else if (type == TYPE_CONIC) {
        return projectAnglePosition(pos, angle);
    }

    return pos.y;
}

void main(void) {
    // current/original color
    vec4 currentColor = texture2D(uSampler, vTextureCoord);

    // skip calculations if gradient alpha is 0
    if (0.0 == uAlpha) {
        gl_FragColor = currentColor;
        return;
    }

    // project position
    float y = projectPosition(vFilterCoord, uType, radians(uAngle));

    // check gradient bounds
    float offsetMin = uOffsets[0];
    float offsetMax = 0.0;

    for (int i = 0; i < MAX_STOPS; i++) {
        if (i == uNumStops-1){ // last index
            offsetMax = uOffsets[i];
        }
    }

    if (y  < offsetMin || y > offsetMax) {
        gl_FragColor = currentColor;
        return;
    }

    // limit colors
    if (uMaxColors > 0) {
        float stepSize = 1./float(uMaxColors);
        float stepNumber = float(floor(y/stepSize));
        y = stepSize * (stepNumber + 0.5);// offset by 0.5 to use color from middle of segment
    }

    // find color stops
    ColorStop from;
    ColorStop to;

    for (int i = 0; i < MAX_STOPS; i++) {
        if (y >= uOffsets[i]) {
            from = ColorStop(uOffsets[i], uColors[i], uAlphas[i]);
            to = ColorStop(uOffsets[i+1], uColors[i+1], uAlphas[i+1]);
        }

        if (i == uNumStops-1){ // last index
            break;
        }
    }

    // mix colors from stops
    vec4 colorFrom = vec4(from.color * from.alpha, from.alpha);
    vec4 colorTo = vec4(to.color * to.alpha, to.alpha);

    float segmentHeight = to.offset - from.offset;
    float relativePos = y - from.offset;// position from 0 to [segmentHeight]
    float relativePercent = relativePos / segmentHeight;// position in percent between [from.offset] and [to.offset].

    float gradientAlpha = uAlpha * currentColor.a;
    vec4 gradientColor = mix(colorFrom, colorTo, relativePercent) * gradientAlpha;

    // mix resulting color with current color
    gl_FragColor = gradientColor + currentColor*(1.-gradientColor.a);
}
`,AQ=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform vec4 inputSize;
uniform vec4 outputFrame;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
    vFilterCoord = vTextureCoord * inputSize.xy / outputFrame.zw;
}
`,Ul=Ul||{};Ul.stringify=function(){var t={"visit_linear-gradient":function(e){return t.visit_gradient(e)},"visit_repeating-linear-gradient":function(e){return t.visit_gradient(e)},"visit_radial-gradient":function(e){return t.visit_gradient(e)},"visit_repeating-radial-gradient":function(e){return t.visit_gradient(e)},visit_gradient:function(e){var r=t.visit(e.orientation);return r&&(r+=", "),e.type+"("+r+t.visit(e.colorStops)+")"},visit_shape:function(e){var r=e.value,n=t.visit(e.at),i=t.visit(e.style);return i&&(r+=" "+i),n&&(r+=" at "+n),r},"visit_default-radial":function(e){var r="",n=t.visit(e.at);return n&&(r+=n),r},"visit_extent-keyword":function(e){var r=e.value,n=t.visit(e.at);return n&&(r+=" at "+n),r},"visit_position-keyword":function(e){return e.value},visit_position:function(e){return t.visit(e.value.x)+" "+t.visit(e.value.y)},"visit_%":function(e){return e.value+"%"},visit_em:function(e){return e.value+"em"},visit_px:function(e){return e.value+"px"},visit_literal:function(e){return t.visit_color(e.value,e)},visit_hex:function(e){return t.visit_color("#"+e.value,e)},visit_rgb:function(e){return t.visit_color("rgb("+e.value.join(", ")+")",e)},visit_rgba:function(e){return t.visit_color("rgba("+e.value.join(", ")+")",e)},visit_color:function(e,r){var n=e,i=t.visit(r.length);return i&&(n+=" "+i),n},visit_angular:function(e){return e.value+"deg"},visit_directional:function(e){return"to "+e.value},visit_array:function(e){var r="",n=e.length;return e.forEach(function(i,s){r+=t.visit(i),s<n-1&&(r+=", ")}),r},visit:function(e){if(!e)return"";var r="";if(e instanceof Array)return t.visit_array(e,r);if(e.type){var n=t["visit_"+e.type];if(n)return n(e);throw Error("Missing visitor visit_"+e.type)}else throw Error("Invalid node.")}};return function(e){return t.visit(e)}}();var Ul=Ul||{};Ul.parse=function(){var t={linearGradient:/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,repeatingLinearGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,radialGradient:/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,repeatingRadialGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},e="";function r(B){var I=new Error(e+": "+B);throw I.source=e,I}function n(){var B=i();return e.length>0&&r("Invalid input not EOF"),B}function i(){return _(s)}function s(){return o("linear-gradient",t.linearGradient,l)||o("repeating-linear-gradient",t.repeatingLinearGradient,l)||o("radial-gradient",t.radialGradient,f)||o("repeating-radial-gradient",t.repeatingRadialGradient,f)}function o(B,I,z){return a(I,function(R){var $=z();return $&&(V(t.comma)||r("Missing comma before color stops")),{type:B,orientation:$,colorStops:_(A)}})}function a(B,I){var z=V(B);if(z){V(t.startCall)||r("Missing (");var R=I(z);return V(t.endCall)||r("Missing )"),R}}function l(){return u()||d()}function u(){return D("directional",t.sideOrCorner,1)}function d(){return D("angular",t.angleValue,1)}function f(){var B,I=p(),z;return I&&(B=[],B.push(I),z=e,V(t.comma)&&(I=p(),I?B.push(I):e=z)),B}function p(){var B=g()||v();if(B)B.at=E();else{var I=b();if(I){B=I;var z=E();z&&(B.at=z)}else{var R=w();R&&(B={type:"default-radial",at:R})}}return B}function g(){var B=D("shape",/^(circle)/i,0);return B&&(B.style=F()||b()),B}function v(){var B=D("shape",/^(ellipse)/i,0);return B&&(B.style=Q()||b()),B}function b(){return D("extent-keyword",t.extentKeywords,1)}function E(){if(D("position",/^at/,0)){var B=w();return B||r("Missing positioning value"),B}}function w(){var B=S();if(B.x||B.y)return{type:"position",value:B}}function S(){return{x:Q(),y:Q()}}function _(B){var I=B(),z=[];if(I)for(z.push(I);V(t.comma);)I=B(),I?z.push(I):r("One extra comma");return z}function A(){var B=P();return B||r("Expected color definition"),B.length=Q(),B}function P(){return L()||q()||k()||N()}function N(){return D("literal",t.literalColor,0)}function L(){return D("hex",t.hexColor,1)}function k(){return a(t.rgbColor,function(){return{type:"rgb",value:_(H)}})}function q(){return a(t.rgbaColor,function(){return{type:"rgba",value:_(H)}})}function H(){return V(t.number)[1]}function Q(){return D("%",t.percentageValue,1)||G()||F()}function G(){return D("position-keyword",t.positionKeywords,1)}function F(){return D("px",t.pixelValue,1)||D("em",t.emValue,1)}function D(B,I,z){var R=V(I);if(R)return{type:B,value:R[z]}}function V(B){var I,z;return z=/^[\n\r\t\s]+/.exec(e),z&&W(z[0].length),I=B.exec(e),I&&W(I[0].length),I}function W(B){e=e.substr(B)}return function(B){return e=B.toString(),n()}}();var CQ=Ul.parse;Ul.stringify;var zP={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},jP={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function IQ(t){var e,r=[],n=1,i;if(typeof t=="string")if(zP[t])r=zP[t].slice(),i="rgb";else if(t==="transparent")n=0,i="rgb",r=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(t)){var s=t.slice(1),o=s.length,a=o<=4;n=1,a?(r=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],o===4&&(n=parseInt(s[3]+s[3],16)/255)):(r=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],o===8&&(n=parseInt(s[6]+s[7],16)/255)),r[0]||(r[0]=0),r[1]||(r[1]=0),r[2]||(r[2]=0),i="rgb"}else if(e=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(t)){var l=e[1],u=l==="rgb",s=l.replace(/a$/,"");i=s;var o=s==="cmyk"?4:s==="gray"?1:3;r=e[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(p,g){if(/%$/.test(p))return g===o?parseFloat(p)/100:s==="rgb"?parseFloat(p)*255/100:parseFloat(p);if(s[g]==="h"){if(/deg$/.test(p))return parseFloat(p);if(jP[p]!==void 0)return jP[p]}return parseFloat(p)}),l===s&&r.push(1),n=u||r[o]===void 0?1:r[o],r=r.slice(0,o)}else t.length>10&&/[0-9](?:\s|\/)/.test(t)&&(r=t.match(/([0-9]+)/g).map(function(d){return parseFloat(d)}),i=t.match(/([a-z])/ig).join("").toLowerCase());else isNaN(t)?Array.isArray(t)||t.length?(r=[t[0],t[1],t[2]],i="rgb",n=t.length===4?t[3]:1):t instanceof Object&&(t.r!=null||t.red!=null||t.R!=null?(i="rgb",r=[t.r||t.red||t.R||0,t.g||t.green||t.G||0,t.b||t.blue||t.B||0]):(i="hsl",r=[t.h||t.hue||t.H||0,t.s||t.saturation||t.S||0,t.l||t.lightness||t.L||t.b||t.brightness]),n=t.a||t.alpha||t.opacity||1,t.opacity!=null&&(n/=100)):(i="rgb",r=[t>>>16,(t&65280)>>>8,t&255]);return{space:i,values:r,alpha:n}}var nw={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]},Ib={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100,i,s,o,a,l;if(r===0)return l=n*255,[l,l,l];n<.5?s=n*(1+r):s=n+r-n*r,i=2*n-s,a=[0,0,0];for(var u=0;u<3;u++)o=e+1/3*-(u-1),o<0?o++:o>1&&o--,6*o<1?l=i+(s-i)*6*o:2*o<1?l=s:3*o<2?l=i+(s-i)*(2/3-o)*6:l=i,a[u]=l*255;return a}};nw.hsl=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=s-i,a,l,u;return s===i?a=0:e===s?a=(r-n)/o:r===s?a=2+(n-e)/o:n===s&&(a=4+(e-r)/o),a=Math.min(a*60,360),a<0&&(a+=360),u=(i+s)/2,s===i?l=0:u<=.5?l=o/(s+i):l=o/(2-s-i),[a,l*100,u*100]};function PQ(t){Array.isArray(t)&&t.raw&&(t=String.raw(...arguments));var e,r=IQ(t);if(!r.space)return[];const n=r.space[0]==="h"?Ib.min:nw.min,i=r.space[0]==="h"?Ib.max:nw.max;return e=Array(3),e[0]=Math.min(Math.max(r.values[0],n[0]),i[0]),e[1]=Math.min(Math.max(r.values[1],n[1]),i[1]),e[2]=Math.min(Math.max(r.values[2],n[2]),i[2]),r.space[0]==="h"&&(e=Ib.rgb(e)),e.push(Math.min(Math.max(r.alpha,0),1)),e}function Y4(t){switch(typeof t){case"string":return MQ(t);case"number":return gv(t);default:return t}}function MQ(t){const e=PQ(t);if(!e)throw new Error(`Unable to parse color "${t}" as RGBA.`);return[e[0]/255,e[1]/255,e[2]/255,e[3]]}function kQ(t){const e=CQ(zQ(t));if(e.length===0)throw new Error("Invalid CSS gradient.");if(e.length!==1)throw new Error("Unsupported CSS gradient (multiple gradients is not supported).");const r=e[0],n=NQ(r.type),i=RQ(r.colorStops),s=UQ(r.orientation);return{type:n,stops:i,angle:s}}function NQ(t){const e={"linear-gradient":0,"radial-gradient":1};if(!(t in e))throw new Error(`Unsupported gradient type "${t}"`);return e[t]}function RQ(t){const e=LQ(t),r=[];for(let n=0;n<t.length;n++){const i=OQ(t[n]);r.push({offset:e[n],color:i.slice(0,3),alpha:i[3]})}return r}function OQ(t){return Y4(DQ(t))}function DQ(t){switch(t.type){case"hex":return`#${t.value}`;case"literal":return t.value;default:return`${t.type}(${t.value.join(",")})`}}function LQ(t){const e=[];for(let i=0;i<t.length;i++){const s=t[i];let o=-1;s.type==="literal"&&s.length&&"type"in s.length&&s.length.type==="%"&&"value"in s.length&&(o=parseFloat(s.length.value)/100),e.push(o)}const r=i=>{for(let s=i;s<e.length;s++)if(e[s]!==-1)return{indexDelta:s-i,offset:e[s]};return{indexDelta:e.length-1-i,offset:1}};let n=0;for(let i=0;i<e.length;i++){const s=e[i];if(s!==-1)n=s;else if(i===0)e[i]=0;else if(i+1===e.length)e[i]=1;else{const o=r(i),a=(o.offset-n)/(1+o.indexDelta);for(let l=0;l<=o.indexDelta;l++)e[i+l]=n+(l+1)*a;i+=o.indexDelta,n=e[i]}}return e.map(FQ)}function FQ(t){return t.toString().length>6?parseFloat(t.toString().substring(0,6)):t}function UQ(t){if(typeof t>"u")return 0;if("type"in t&&"value"in t)switch(t.type){case"angular":return parseFloat(t.value);case"directional":return BQ(t.value)}return 0}function BQ(t){const e={left:270,top:0,bottom:180,right:90,"left top":315,"top left":315,"left bottom":225,"bottom left":225,"right top":45,"top right":45,"right bottom":135,"bottom right":135};if(!(t in e))throw new Error(`Unsupported directional value "${t}"`);return e[t]}function zQ(t){let e=t.replace(/\s{2,}/gu," ");return e=e.replace(/;/g,""),e=e.replace(/ ,/g,","),e=e.replace(/\( /g,"("),e=e.replace(/ \)/g,")"),e.trim()}var jQ=Object.defineProperty,$Q=Object.defineProperties,GQ=Object.getOwnPropertyDescriptors,$P=Object.getOwnPropertySymbols,HQ=Object.prototype.hasOwnProperty,VQ=Object.prototype.propertyIsEnumerable,GP=(t,e,r)=>e in t?jQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Pb=(t,e)=>{for(var r in e||(e={}))HQ.call(e,r)&&GP(t,r,e[r]);if($P)for(var r of $P(e))VQ.call(e,r)&&GP(t,r,e[r]);return t},WQ=(t,e)=>$Q(t,GQ(e));const HP=90;function XQ(t){return[...t].sort((e,r)=>e.offset-r.offset)}const hE=class extends tt{constructor(e){e&&"css"in e&&(e=WQ(Pb({},kQ(e.css||"")),{alpha:e.alpha,maxColors:e.maxColors}));const r=Pb(Pb({},hE.defaults),e);if(!r.stops||r.stops.length<2)throw new Error("ColorGradientFilter requires at least 2 color stops.");super(AQ,TQ),this._stops=[],this.autoFit=!1,Object.assign(this,r)}get stops(){return this._stops}set stops(e){const r=XQ(e),n=new Float32Array(r.length*3),i=0,s=1,o=2;for(let a=0;a<r.length;a++){const l=Y4(r[a].color),u=a*3;n[u+i]=l[i],n[u+s]=l[s],n[u+o]=l[o]}this.uniforms.uColors=n,this.uniforms.uOffsets=r.map(a=>a.offset),this.uniforms.uAlphas=r.map(a=>a.alpha),this.uniforms.uNumStops=r.length,this._stops=r}set type(e){this.uniforms.uType=e}get type(){return this.uniforms.uType}set angle(e){this.uniforms.uAngle=e-HP}get angle(){return this.uniforms.uAngle+HP}set alpha(e){this.uniforms.uAlpha=e}get alpha(){return this.uniforms.uAlpha}set maxColors(e){this.uniforms.uMaxColors=e}get maxColors(){return this.uniforms.uMaxColors}};let um=hE;um.LINEAR=0,um.RADIAL=1,um.CONIC=2,um.defaults={type:hE.LINEAR,stops:[{offset:0,color:16711680,alpha:1},{offset:1,color:255,alpha:1}],alpha:1,angle:90,maxColors:0};var qQ=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,YQ=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec2 dimensions;

const float SQRT_2 = 1.414213;

const float light = 1.0;

uniform float curvature;
uniform float lineWidth;
uniform float lineContrast;
uniform bool verticalLine;
uniform float noise;
uniform float noiseSize;

uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;

uniform float seed;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 dir = vec2(vTextureCoord.xy * filterArea.xy / dimensions - vec2(0.5, 0.5));
    
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 rgb = gl_FragColor.rgb;

    if (noise > 0.0 && noiseSize > 0.0)
    {
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        rgb += _noise * noise;
    }

    if (lineWidth > 0.0)
    {
        float _c = curvature > 0. ? curvature : 1.;
        float k = curvature > 0. ?(length(dir * dir) * 0.25 * _c * _c + 0.935 * _c) : 1.;
        vec2 uv = dir * k;

        float v = (verticalLine ? uv.x * dimensions.x : uv.y * dimensions.y) * min(1.0, 2.0 / lineWidth ) / _c;
        float j = 1. + cos(v * 1.2 - time) * 0.5 * lineContrast;
        rgb *= j;
        float segment = verticalLine ? mod((dir.x + .5) * dimensions.x, 4.) : mod((dir.y + .5) * dimensions.y, 4.);
        rgb *= 0.99 + ceil(segment) * 0.015;
    }

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    gl_FragColor.rgb = rgb;
}
`;const Q4=class extends tt{constructor(e){super(qQ,YQ),this.time=0,this.seed=0,this.uniforms.dimensions=new Float32Array(2),Object.assign(this,Q4.defaults,e)}apply(e,r,n,i){const{width:s,height:o}=r.filterFrame;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=o,this.uniforms.seed=this.seed,this.uniforms.time=this.time,e.applyFilter(this,r,n,i)}set curvature(e){this.uniforms.curvature=e}get curvature(){return this.uniforms.curvature}set lineWidth(e){this.uniforms.lineWidth=e}get lineWidth(){return this.uniforms.lineWidth}set lineContrast(e){this.uniforms.lineContrast=e}get lineContrast(){return this.uniforms.lineContrast}set verticalLine(e){this.uniforms.verticalLine=e}get verticalLine(){return this.uniforms.verticalLine}set noise(e){this.uniforms.noise=e}get noise(){return this.uniforms.noise}set noiseSize(e){this.uniforms.noiseSize=e}get noiseSize(){return this.uniforms.noiseSize}set vignetting(e){this.uniforms.vignetting=e}get vignetting(){return this.uniforms.vignetting}set vignettingAlpha(e){this.uniforms.vignettingAlpha=e}get vignettingAlpha(){return this.uniforms.vignettingAlpha}set vignettingBlur(e){this.uniforms.vignettingBlur=e}get vignettingBlur(){return this.uniforms.vignettingBlur}};let QQ=Q4;QQ.defaults={curvature:1,lineWidth:1,lineContrast:.25,verticalLine:!1,noise:0,noiseSize:1,seed:0,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3,time:0};var KQ=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,ZQ=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float alpha;
uniform vec3 color;

uniform vec2 shift;
uniform vec4 inputSize;

void main(void){
    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);

    // Premultiply alpha
    sample.rgb = color.rgb * sample.a;

    // alpha user alpha
    sample *= alpha;

    gl_FragColor = sample;
}`,JQ=Object.defineProperty,VP=Object.getOwnPropertySymbols,eK=Object.prototype.hasOwnProperty,tK=Object.prototype.propertyIsEnumerable,WP=(t,e,r)=>e in t?JQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,XP=(t,e)=>{for(var r in e||(e={}))eK.call(e,r)&&WP(t,r,e[r]);if(VP)for(var r of VP(e))tK.call(e,r)&&WP(t,r,e[r]);return t};const iw=class extends tt{constructor(e){super(),this.angle=45,this._distance=5,this._resolution=be.FILTER_RESOLUTION;const r=e?XP(XP({},iw.defaults),e):iw.defaults,{kernels:n,blur:i,quality:s,pixelSize:o,resolution:a}=r;this._offset=new Ai(this._updatePadding,this),this._tintFilter=new tt(KQ,ZQ),this._tintFilter.uniforms.color=new Float32Array(4),this._tintFilter.uniforms.shift=this._offset,this._tintFilter.resolution=a,this._blurFilter=n?new S0(n):new S0(i,s),this.pixelSize=o,this.resolution=a;const{shadowOnly:l,rotation:u,distance:d,offset:f,alpha:p,color:g}=r;this.shadowOnly=l,u!==void 0&&d!==void 0?(this.rotation=u,this.distance=d):this.offset=f,this.alpha=p,this.color=g}apply(e,r,n,i){const s=e.getFilterTexture();this._tintFilter.apply(e,r,s,1),this._blurFilter.apply(e,s,n,i),this.shadowOnly!==!0&&e.applyFilter(this,r,n,0),e.returnFilterTexture(s)}_updatePadding(){const e=Math.max(Math.abs(this._offset.x),Math.abs(this._offset.y));this.padding=e+this.blur*2}_updateShift(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))}set offset(e){this._offset.copyFrom(e),this._updatePadding()}get offset(){return this._offset}get resolution(){return this._resolution}set resolution(e){this._resolution=e,this._tintFilter&&(this._tintFilter.resolution=e),this._blurFilter&&(this._blurFilter.resolution=e)}get distance(){return this._distance}set distance(e){Xe("5.3.0","DropShadowFilter distance is deprecated, use offset"),this._distance=e,this._updatePadding(),this._updateShift()}get rotation(){return this.angle/Dd}set rotation(e){Xe("5.3.0","DropShadowFilter rotation is deprecated, use offset"),this.angle=e*Dd,this._updateShift()}get alpha(){return this._tintFilter.uniforms.alpha}set alpha(e){this._tintFilter.uniforms.alpha=e}get color(){return vv(this._tintFilter.uniforms.color)}set color(e){gv(e,this._tintFilter.uniforms.color)}get kernels(){return this._blurFilter.kernels}set kernels(e){this._blurFilter.kernels=e}get blur(){return this._blurFilter.blur}set blur(e){this._blurFilter.blur=e,this._updatePadding()}get quality(){return this._blurFilter.quality}set quality(e){this._blurFilter.quality=e}get pixelSize(){return this._blurFilter.pixelSize}set pixelSize(e){this._blurFilter.pixelSize=e}};let rK=iw;rK.defaults={offset:{x:4,y:4},color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:be.FILTER_RESOLUTION};var nK=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,iK=`// precision highp float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;
uniform float aspect;

uniform sampler2D displacementMap;
uniform float offset;
uniform float sinDir;
uniform float cosDir;
uniform int fillMode;

uniform float seed;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

const int TRANSPARENT = 0;
const int ORIGINAL = 1;
const int LOOP = 2;
const int CLAMP = 3;
const int MIRROR = 4;

void main(void)
{
    vec2 coord = (vTextureCoord * filterArea.xy) / dimensions;

    if (coord.x > 1.0 || coord.y > 1.0) {
        return;
    }

    float cx = coord.x - 0.5;
    float cy = (coord.y - 0.5) * aspect;
    float ny = (-sinDir * cx + cosDir * cy) / aspect + 0.5;

    // displacementMap: repeat
    // ny = ny > 1.0 ? ny - 1.0 : (ny < 0.0 ? 1.0 + ny : ny);

    // displacementMap: mirror
    ny = ny > 1.0 ? 2.0 - ny : (ny < 0.0 ? -ny : ny);

    vec4 dc = texture2D(displacementMap, vec2(0.5, ny));

    float displacement = (dc.r - dc.g) * (offset / filterArea.x);

    coord = vTextureCoord + vec2(cosDir * displacement, sinDir * displacement * aspect);

    if (fillMode == CLAMP) {
        coord = clamp(coord, filterClamp.xy, filterClamp.zw);
    } else {
        if( coord.x > filterClamp.z ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x -= filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x = filterClamp.z * 2.0 - coord.x;
            }
        } else if( coord.x < filterClamp.x ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x += filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x *= -filterClamp.z;
            }
        }

        if( coord.y > filterClamp.w ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y -= filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y = filterClamp.w * 2.0 - coord.y;
            }
        } else if( coord.y < filterClamp.y ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y += filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y *= -filterClamp.w;
            }
        }
    }

    gl_FragColor.r = texture2D(uSampler, coord + red * (1.0 - seed * 0.4) / filterArea.xy).r;
    gl_FragColor.g = texture2D(uSampler, coord + green * (1.0 - seed * 0.3) / filterArea.xy).g;
    gl_FragColor.b = texture2D(uSampler, coord + blue * (1.0 - seed * 0.2) / filterArea.xy).b;
    gl_FragColor.a = texture2D(uSampler, coord).a;
}
`;const sw=class extends tt{constructor(e){super(nK,iK),this.offset=100,this.fillMode=sw.TRANSPARENT,this.average=!1,this.seed=0,this.minSize=8,this.sampleSize=512,this._slices=0,this._offsets=new Float32Array(1),this._sizes=new Float32Array(1),this._direction=-1,this.uniforms.dimensions=new Float32Array(2),this._canvas=document.createElement("canvas"),this._canvas.width=4,this._canvas.height=this.sampleSize,this.texture=ve.from(this._canvas,{scaleMode:Ti.NEAREST}),Object.assign(this,sw.defaults,e)}apply(e,r,n,i){const{width:s,height:o}=r.filterFrame;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=o,this.uniforms.aspect=o/s,this.uniforms.seed=this.seed,this.uniforms.offset=this.offset,this.uniforms.fillMode=this.fillMode,e.applyFilter(this,r,n,i)}_randomizeSizes(){const e=this._sizes,r=this._slices-1,n=this.sampleSize,i=Math.min(this.minSize/n,.9/this._slices);if(this.average){const s=this._slices;let o=1;for(let a=0;a<r;a++){const l=o/(s-a),u=Math.max(l*(1-Math.random()*.6),i);e[a]=u,o-=u}e[r]=o}else{let s=1;const o=Math.sqrt(1/this._slices);for(let a=0;a<r;a++){const l=Math.max(o*s*Math.random(),i);e[a]=l,s-=l}e[r]=s}this.shuffle()}shuffle(){const e=this._sizes,r=this._slices-1;for(let n=r;n>0;n--){const i=Math.random()*n>>0,s=e[n];e[n]=e[i],e[i]=s}}_randomizeOffsets(){for(let e=0;e<this._slices;e++)this._offsets[e]=Math.random()*(Math.random()<.5?-1:1)}refresh(){this._randomizeSizes(),this._randomizeOffsets(),this.redraw()}redraw(){const e=this.sampleSize,r=this.texture,n=this._canvas.getContext("2d");n.clearRect(0,0,8,e);let i,s=0;for(let o=0;o<this._slices;o++){i=Math.floor(this._offsets[o]*256);const a=this._sizes[o]*e,l=i>0?i:0,u=i<0?-i:0;n.fillStyle=`rgba(${l}, ${u}, 0, 1)`,n.fillRect(0,s>>0,e,a+1>>0),s+=a}r.baseTexture.update(),this.uniforms.displacementMap=r}set sizes(e){const r=Math.min(this._slices,e.length);for(let n=0;n<r;n++)this._sizes[n]=e[n]}get sizes(){return this._sizes}set offsets(e){const r=Math.min(this._slices,e.length);for(let n=0;n<r;n++)this._offsets[n]=e[n]}get offsets(){return this._offsets}get slices(){return this._slices}set slices(e){this._slices!==e&&(this._slices=e,this.uniforms.slices=e,this._sizes=this.uniforms.slicesWidth=new Float32Array(e),this._offsets=this.uniforms.slicesOffset=new Float32Array(e),this.refresh())}get direction(){return this._direction}set direction(e){if(this._direction===e)return;this._direction=e;const r=e*Dd;this.uniforms.sinDir=Math.sin(r),this.uniforms.cosDir=Math.cos(r)}get red(){return this.uniforms.red}set red(e){this.uniforms.red=e}get green(){return this.uniforms.green}set green(e){this.uniforms.green=e}get blue(){return this.uniforms.blue}set blue(e){this.uniforms.blue=e}destroy(){var e;(e=this.texture)==null||e.destroy(!0),this.texture=this._canvas=this.red=this.green=this.blue=this._sizes=this._offsets=null}};let du=sw;du.defaults={slices:5,offset:100,direction:0,fillMode:0,average:!1,seed:0,red:[0,0],green:[0,0],blue:[0,0],minSize:8,sampleSize:512},du.TRANSPARENT=0,du.ORIGINAL=1,du.LOOP=2,du.CLAMP=3,du.MIRROR=4;var sK=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,oK=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

uniform float outerStrength;
uniform float innerStrength;

uniform vec4 glowColor;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform bool knockout;
uniform float alpha;

const float PI = 3.14159265358979323846264;

const float DIST = __DIST__;
const float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.0);
const float ANGLE_STEP_NUM = ceil(PI * 2.0 / ANGLE_STEP_SIZE);

const float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.0) / 2.0;

void main(void) {
    vec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);

    float totalAlpha = 0.0;

    vec2 direction;
    vec2 displaced;
    vec4 curColor;

    for (float angle = 0.0; angle < PI * 2.0; angle += ANGLE_STEP_SIZE) {
       direction = vec2(cos(angle), sin(angle)) * px;

       for (float curDistance = 0.0; curDistance < DIST; curDistance++) {
           displaced = clamp(vTextureCoord + direction * 
                   (curDistance + 1.0), filterClamp.xy, filterClamp.zw);

           curColor = texture2D(uSampler, displaced);

           totalAlpha += (DIST - curDistance) * curColor.a;
       }
    }
    
    curColor = texture2D(uSampler, vTextureCoord);

    float alphaRatio = (totalAlpha / MAX_TOTAL_ALPHA);

    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * curColor.a;
    float innerGlowStrength = min(1.0, innerGlowAlpha);
    
    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);

    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a);
    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);

    if (knockout) {
      float resultAlpha = (outerGlowAlpha + innerGlowAlpha) * alpha;
      gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);
    }
    else {
      vec4 outerGlowColor = outerGlowStrength * glowColor.rgba * alpha;
      gl_FragColor = innerColor + outerGlowColor;
    }
}
`;const K4=class extends tt{constructor(t){const e=Object.assign({},K4.defaults,t),{outerStrength:r,innerStrength:n,color:i,knockout:s,quality:o,alpha:a}=e,l=Math.round(e.distance);super(sK,oK.replace(/__ANGLE_STEP_SIZE__/gi,`${(1/o/l).toFixed(7)}`).replace(/__DIST__/gi,`${l.toFixed(0)}.0`)),this.uniforms.glowColor=new Float32Array([0,0,0,1]),this.uniforms.alpha=1,Object.assign(this,{color:i,outerStrength:r,innerStrength:n,padding:l,knockout:s,alpha:a})}get color(){return vv(this.uniforms.glowColor)}set color(t){gv(t,this.uniforms.glowColor)}get outerStrength(){return this.uniforms.outerStrength}set outerStrength(t){this.uniforms.outerStrength=t}get innerStrength(){return this.uniforms.innerStrength}set innerStrength(t){this.uniforms.innerStrength=t}get knockout(){return this.uniforms.knockout}set knockout(t){this.uniforms.knockout=t}get alpha(){return this.uniforms.alpha}set alpha(t){this.uniforms.alpha=t}};let aK=K4;aK.defaults={distance:10,outerStrength:4,innerStrength:0,color:16777215,quality:.1,knockout:!1,alpha:1};var lK=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,uK=`vec3 mod289(vec3 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 mod289(vec4 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 permute(vec4 x)
{
    return mod289(((x * 34.0) + 1.0) * x);
}
vec4 taylorInvSqrt(vec4 r)
{
    return 1.79284291400159 - 0.85373472095314 * r;
}
vec3 fade(vec3 t)
{
    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);
}
// Classic Perlin noise, periodic variant
float pnoise(vec3 P, vec3 rep)
{
    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period
    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period
    Pi0 = mod289(Pi0);
    Pi1 = mod289(Pi1);
    vec3 Pf0 = fract(P); // Fractional part for interpolation
    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
    vec4 iy = vec4(Pi0.yy, Pi1.yy);
    vec4 iz0 = Pi0.zzzz;
    vec4 iz1 = Pi1.zzzz;
    vec4 ixy = permute(permute(ix) + iy);
    vec4 ixy0 = permute(ixy + iz0);
    vec4 ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0);
    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
    vec4 sz0 = step(gz0, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5);
    gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    vec4 gx1 = ixy1 * (1.0 / 7.0);
    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx1 = fract(gx1);
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
    vec4 sz1 = step(gz1, vec4(0.0));
    gx1 -= sz1 * (step(0.0, gx1) - 0.5);
    gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);
    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);
    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);
    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);
    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);
    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);
    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);
    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
    g000 *= norm0.x;
    g010 *= norm0.y;
    g100 *= norm0.z;
    g110 *= norm0.w;
    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
    g001 *= norm1.x;
    g011 *= norm1.y;
    g101 *= norm1.z;
    g111 *= norm1.w;
    float n000 = dot(g000, Pf0);
    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
    float n111 = dot(g111, Pf1);
    vec3 fade_xyz = fade(Pf0);
    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
    return 2.2 * n_xyz;
}
float turb(vec3 P, vec3 rep, float lacunarity, float gain)
{
    float sum = 0.0;
    float sc = 1.0;
    float totalgain = 1.0;
    for (float i = 0.0; i < 6.0; i++)
    {
        sum += totalgain * pnoise(P * sc, rep);
        sc *= lacunarity;
        totalgain *= gain;
    }
    return abs(sum);
}
`,cK=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform vec2 light;
uniform bool parallel;
uniform float aspect;

uniform float gain;
uniform float lacunarity;
uniform float time;
uniform float alpha;

\${perlin}

void main(void) {
    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    float d;

    if (parallel) {
        float _cos = light.x;
        float _sin = light.y;
        d = (_cos * coord.x) + (_sin * coord.y * aspect);
    } else {
        float dx = coord.x - light.x / dimensions.x;
        float dy = (coord.y - light.y / dimensions.y) * aspect;
        float dis = sqrt(dx * dx + dy * dy) + 0.00001;
        d = dy / dis;
    }

    vec3 dir = vec3(d, d, 0.0);

    float noise = turb(dir + vec3(time, 0.0, 62.1 + time) * 0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);
    noise = mix(noise, 0.0, 0.3);
    //fade vertically.
    vec4 mist = vec4(noise, noise, noise, 1.0) * (1.0 - coord.y);
    mist.a = 1.0;
    // apply user alpha
    mist *= alpha;

    gl_FragColor = texture2D(uSampler, vTextureCoord) + mist;

}
`;const Z4=class extends tt{constructor(e){super(lK,cK.replace("${perlin}",uK)),this.parallel=!0,this.time=0,this._angle=0,this.uniforms.dimensions=new Float32Array(2);const r=Object.assign(Z4.defaults,e);this._angleLight=new je,this.angle=r.angle,this.gain=r.gain,this.lacunarity=r.lacunarity,this.alpha=r.alpha,this.parallel=r.parallel,this.center=r.center,this.time=r.time}apply(e,r,n,i){const{width:s,height:o}=r.filterFrame;this.uniforms.light=this.parallel?this._angleLight:this.center,this.uniforms.parallel=this.parallel,this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=o,this.uniforms.aspect=o/s,this.uniforms.time=this.time,this.uniforms.alpha=this.alpha,e.applyFilter(this,r,n,i)}get angle(){return this._angle}set angle(e){this._angle=e;const r=e*Dd;this._angleLight.x=Math.cos(r),this._angleLight.y=Math.sin(r)}get gain(){return this.uniforms.gain}set gain(e){this.uniforms.gain=e}get lacunarity(){return this.uniforms.lacunarity}set lacunarity(e){this.uniforms.lacunarity=e}get alpha(){return this.uniforms.alpha}set alpha(e){this.uniforms.alpha=e}};let hK=Z4;hK.defaults={angle:30,gain:.5,lacunarity:2.5,time:0,parallel:!0,center:[0,0],alpha:1};var dK=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,fK=`precision mediump float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float uHue;
uniform float uAlpha;
uniform bool uColorize;
uniform float uSaturation;
uniform float uLightness;

// https://en.wikipedia.org/wiki/Luma_(video)
const vec3 weight = vec3(0.299, 0.587, 0.114);

float getWeightedAverage(vec3 rgb) {
    return rgb.r * weight.r + rgb.g * weight.g + rgb.b * weight.b;
}

// https://gist.github.com/mairod/a75e7b44f68110e1576d77419d608786?permalink_comment_id=3195243#gistcomment-3195243
const vec3 k = vec3(0.57735, 0.57735, 0.57735);

vec3 hueShift(vec3 color, float angle) {
    float cosAngle = cos(angle);
    return vec3(
    color * cosAngle +
    cross(k, color) * sin(angle) +
    k * dot(k, color) * (1.0 - cosAngle)
    );
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    vec4 result = color;

    // colorize
    if (uColorize) {
        result.rgb = vec3(getWeightedAverage(result.rgb), 0., 0.);
    }

    // hue
    result.rgb = hueShift(result.rgb, uHue);

    // saturation
    // https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/huesaturation.js
    float average = (result.r + result.g + result.b) / 3.0;

    if (uSaturation > 0.) {
        result.rgb += (average - result.rgb) * (1. - 1. / (1.001 - uSaturation));
    } else {
        result.rgb -= (average - result.rgb) * uSaturation;
    }

    // lightness
    result.rgb = mix(result.rgb, vec3(ceil(uLightness)) * color.a, abs(uLightness));

    // alpha
    gl_FragColor = mix(color, result, uAlpha);
}
`;const J4=class extends tt{constructor(t){super(dK,fK),this._hue=0;const e=Object.assign({},J4.defaults,t);Object.assign(this,e)}get hue(){return this._hue}set hue(t){this._hue=t,this.uniforms.uHue=this._hue*(Math.PI/180)}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}get colorize(){return this.uniforms.uColorize}set colorize(t){this.uniforms.uColorize=t}get lightness(){return this.uniforms.uLightness}set lightness(t){this.uniforms.uLightness=t}get saturation(){return this.uniforms.uSaturation}set saturation(t){this.uniforms.uSaturation=t}};let pK=J4;pK.defaults={hue:0,saturation:0,lightness:0,colorize:!1,alpha:1};var mK=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,gK=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform float sepia;
uniform float noise;
uniform float noiseSize;
uniform float scratch;
uniform float scratchDensity;
uniform float scratchWidth;
uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;
uniform float seed;

const float SQRT_2 = 1.414213;
const vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

vec3 Overlay(vec3 src, vec3 dst)
{
    // if (dst <= 0.5) then: 2 * src * dst
    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)
    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),
                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),
                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));
}


void main()
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 color = gl_FragColor.rgb;

    if (sepia > 0.0)
    {
        float gray = (color.x + color.y + color.z) / 3.0;
        vec3 grayscale = vec3(gray);

        color = Overlay(SEPIA_RGB, grayscale);

        color = grayscale + sepia * (color - grayscale);
    }

    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        vec2 dir = vec2(vec2(0.5, 0.5) - coord);
        dir.y *= dimensions.y / dimensions.x;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    if (scratchDensity > seed && scratch != 0.0)
    {
        float phase = seed * 256.0;
        float s = mod(floor(phase), 2.0);
        float dist = 1.0 / scratchDensity;
        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));
        if (d < seed * 0.6 + 0.4)
        {
            highp float period = scratchDensity * 10.0;

            float xx = coord.x * period + phase;
            float aa = abs(mod(xx, 0.5) * 4.0);
            float bb = mod(floor(xx / 0.5), 2.0);
            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);

            float kk = 2.0 * period;
            float dw = scratchWidth / dimensions.x * (0.75 + seed);
            float dh = dw * kk;

            float tine = (yy - (2.0 - dh));

            if (tine > 0.0) {
                float _sign = sign(scratch);

                tine = s * tine / period + scratch + 0.1;
                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);

                color.rgb *= tine;
            }
        }
    }

    if (noise > 0.0 && noiseSize > 0.0)
    {
        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);
        // float _noise = snoise(d) * 0.5;
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        color += _noise * noise;
    }

    gl_FragColor.rgb = color;
}
`;const eD=class extends tt{constructor(e,r=0){super(mK,gK),this.seed=0,this.uniforms.dimensions=new Float32Array(2),typeof e=="number"?(this.seed=e,e=void 0):this.seed=r,Object.assign(this,eD.defaults,e)}apply(e,r,n,i){var s,o;this.uniforms.dimensions[0]=(s=r.filterFrame)==null?void 0:s.width,this.uniforms.dimensions[1]=(o=r.filterFrame)==null?void 0:o.height,this.uniforms.seed=this.seed,e.applyFilter(this,r,n,i)}set sepia(e){this.uniforms.sepia=e}get sepia(){return this.uniforms.sepia}set noise(e){this.uniforms.noise=e}get noise(){return this.uniforms.noise}set noiseSize(e){this.uniforms.noiseSize=e}get noiseSize(){return this.uniforms.noiseSize}set scratch(e){this.uniforms.scratch=e}get scratch(){return this.uniforms.scratch}set scratchDensity(e){this.uniforms.scratchDensity=e}get scratchDensity(){return this.uniforms.scratchDensity}set scratchWidth(e){this.uniforms.scratchWidth=e}get scratchWidth(){return this.uniforms.scratchWidth}set vignetting(e){this.uniforms.vignetting=e}get vignetting(){return this.uniforms.vignetting}set vignettingAlpha(e){this.uniforms.vignettingAlpha=e}get vignettingAlpha(){return this.uniforms.vignettingAlpha}set vignettingBlur(e){this.uniforms.vignettingBlur=e}get vignettingBlur(){return this.uniforms.vignettingBlur}};let vK=eD;vK.defaults={sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3};var yK=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,bK=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterClamp;

uniform float uAlpha;
uniform vec2 uThickness;
uniform vec4 uColor;
uniform bool uKnockout;

const float DOUBLE_PI = 2. * 3.14159265358979323846264;
const float ANGLE_STEP = \${angleStep};

float outlineMaxAlphaAtPos(vec2 pos) {
    if (uThickness.x == 0. || uThickness.y == 0.) {
        return 0.;
    }

    vec4 displacedColor;
    vec2 displacedPos;
    float maxAlpha = 0.;

    for (float angle = 0.; angle <= DOUBLE_PI; angle += ANGLE_STEP) {
        displacedPos.x = vTextureCoord.x + uThickness.x * cos(angle);
        displacedPos.y = vTextureCoord.y + uThickness.y * sin(angle);
        displacedColor = texture2D(uSampler, clamp(displacedPos, filterClamp.xy, filterClamp.zw));
        maxAlpha = max(maxAlpha, displacedColor.a);
    }

    return maxAlpha;
}

void main(void) {
    vec4 sourceColor = texture2D(uSampler, vTextureCoord);
    vec4 contentColor = sourceColor * float(!uKnockout);
    float outlineAlpha = uAlpha * outlineMaxAlphaAtPos(vTextureCoord.xy) * (1.-sourceColor.a);
    vec4 outlineColor = vec4(vec3(uColor) * outlineAlpha, outlineAlpha);
    gl_FragColor = contentColor + outlineColor;
}
`;const rg=class extends tt{constructor(e=1,r=0,n=.1,i=1,s=!1){super(yK,bK.replace(/\$\{angleStep\}/,rg.getAngleStep(n))),this._thickness=1,this._alpha=1,this._knockout=!1,this.uniforms.uThickness=new Float32Array([0,0]),this.uniforms.uColor=new Float32Array([0,0,0,1]),this.uniforms.uAlpha=i,this.uniforms.uKnockout=s,Object.assign(this,{thickness:e,color:r,quality:n,alpha:i,knockout:s})}static getAngleStep(e){const r=Math.max(e*rg.MAX_SAMPLES,rg.MIN_SAMPLES);return(Math.PI*2/r).toFixed(7)}apply(e,r,n,i){this.uniforms.uThickness[0]=this._thickness/r._frame.width,this.uniforms.uThickness[1]=this._thickness/r._frame.height,this.uniforms.uAlpha=this._alpha,this.uniforms.uKnockout=this._knockout,e.applyFilter(this,r,n,i)}get alpha(){return this._alpha}set alpha(e){this._alpha=e}get color(){return vv(this.uniforms.uColor)}set color(e){gv(e,this.uniforms.uColor)}get knockout(){return this._knockout}set knockout(e){this._knockout=e}get thickness(){return this._thickness}set thickness(e){this._thickness=e,this.padding=e}};let ow=rg;ow.MIN_SAMPLES=1,ow.MAX_SAMPLES=100;var xK=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,_K=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

uniform bool mirror;
uniform float boundary;
uniform vec2 amplitude;
uniform vec2 waveLength;
uniform vec2 alpha;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 coord = pixelCoord / dimensions;

    if (coord.y < boundary) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    float k = (coord.y - boundary) / (1. - boundary + 0.0001);
    float areaY = boundary * dimensions.y / filterArea.y;
    float v = areaY + areaY - vTextureCoord.y;
    float y = mirror ? v : vTextureCoord.y;

    float _amplitude = ((amplitude.y - amplitude.x) * k + amplitude.x ) / filterArea.x;
    float _waveLength = ((waveLength.y - waveLength.x) * k + waveLength.x) / filterArea.y;
    float _alpha = (alpha.y - alpha.x) * k + alpha.x;

    float x = vTextureCoord.x + cos(v * 6.28 / _waveLength - time) * _amplitude;
    x = clamp(x, filterClamp.x, filterClamp.z);

    vec4 color = texture2D(uSampler, vec2(x, y));

    gl_FragColor = color * _alpha;
}
`;const tD=class extends tt{constructor(e){super(xK,_K),this.time=0,this.uniforms.amplitude=new Float32Array(2),this.uniforms.waveLength=new Float32Array(2),this.uniforms.alpha=new Float32Array(2),this.uniforms.dimensions=new Float32Array(2),Object.assign(this,tD.defaults,e)}apply(e,r,n,i){var s,o;this.uniforms.dimensions[0]=(s=r.filterFrame)==null?void 0:s.width,this.uniforms.dimensions[1]=(o=r.filterFrame)==null?void 0:o.height,this.uniforms.time=this.time,e.applyFilter(this,r,n,i)}set mirror(e){this.uniforms.mirror=e}get mirror(){return this.uniforms.mirror}set boundary(e){this.uniforms.boundary=e}get boundary(){return this.uniforms.boundary}set amplitude(e){this.uniforms.amplitude[0]=e[0],this.uniforms.amplitude[1]=e[1]}get amplitude(){return this.uniforms.amplitude}set waveLength(e){this.uniforms.waveLength[0]=e[0],this.uniforms.waveLength[1]=e[1]}get waveLength(){return this.uniforms.waveLength}set alpha(e){this.uniforms.alpha[0]=e[0],this.uniforms.alpha[1]=e[1]}get alpha(){return this.uniforms.alpha}};let wK=tD;wK.defaults={mirror:!0,boundary:.5,amplitude:[0,20],waveLength:[30,100],alpha:[1,1],time:0};var SK=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,EK=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec4 filterClamp;

uniform vec2 center;

uniform float amplitude;
uniform float wavelength;
// uniform float power;
uniform float brightness;
uniform float speed;
uniform float radius;

uniform float time;

const float PI = 3.14159;

void main()
{
    float halfWavelength = wavelength * 0.5 / filterArea.x;
    float maxRadius = radius / filterArea.x;
    float currentRadius = time * speed / filterArea.x;

    float fade = 1.0;

    if (maxRadius > 0.0) {
        if (currentRadius > maxRadius) {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);
    }

    vec2 dir = vec2(vTextureCoord - center / filterArea.xy);
    dir.y *= filterArea.y / filterArea.x;
    float dist = length(dir);

    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    vec2 diffUV = normalize(dir);

    float diff = (dist - currentRadius) / halfWavelength;

    float p = 1.0 - pow(abs(diff), 2.0);

    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );
    float powDiff = 1.25 * sin(diff * PI) * p * ( amplitude * fade );

    vec2 offset = diffUV * powDiff / filterArea.xy;

    // Do clamp :
    vec2 coord = vTextureCoord + offset;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    // No clamp :
    // gl_FragColor = texture2D(uSampler, vTextureCoord + offset);

    color.rgb *= 1.0 + (brightness - 1.0) * p * fade;

    gl_FragColor = color;
}
`;const rD=class extends tt{constructor(e=[0,0],r,n=0){super(SK,EK),this.center=e,Object.assign(this,rD.defaults,r),this.time=n}apply(e,r,n,i){this.uniforms.time=this.time,e.applyFilter(this,r,n,i)}get center(){return this.uniforms.center}set center(e){this.uniforms.center=e}get amplitude(){return this.uniforms.amplitude}set amplitude(e){this.uniforms.amplitude=e}get wavelength(){return this.uniforms.wavelength}set wavelength(e){this.uniforms.wavelength=e}get brightness(){return this.uniforms.brightness}set brightness(e){this.uniforms.brightness=e}get speed(){return this.uniforms.speed}set speed(e){this.uniforms.speed=e}get radius(){return this.uniforms.radius}set radius(e){this.uniforms.radius=e}};let TK=rD;TK.defaults={amplitude:30,wavelength:160,brightness:1,speed:500,radius:-1};var AK=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,CK=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float blur;
uniform float gradientBlur;
uniform vec2 start;
uniform vec2 end;
uniform vec2 delta;
uniform vec2 texSize;

float random(vec3 scale, float seed)
{
    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);
}

void main(void)
{
    vec4 color = vec4(0.0);
    float total = 0.0;

    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);
    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));
    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;

    for (float t = -30.0; t <= 30.0; t++)
    {
        float percent = (t + offset - 0.5) / 30.0;
        float weight = 1.0 - abs(percent);
        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);
        sample.rgb *= sample.a;
        color += sample * weight;
        total += weight;
    }

    color /= total;
    color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`;let nD=class extends tt{constructor(e){var r,n;super(AK,CK),this.uniforms.blur=e.blur,this.uniforms.gradientBlur=e.gradientBlur,this.uniforms.start=(r=e.start)!=null?r:new je(0,window.innerHeight/2),this.uniforms.end=(n=e.end)!=null?n:new je(600,window.innerHeight/2),this.uniforms.delta=new je(30,30),this.uniforms.texSize=new je(window.innerWidth,window.innerHeight),this.updateDelta()}updateDelta(){this.uniforms.delta.x=0,this.uniforms.delta.y=0}get blur(){return this.uniforms.blur}set blur(e){this.uniforms.blur=e}get gradientBlur(){return this.uniforms.gradientBlur}set gradientBlur(e){this.uniforms.gradientBlur=e}get start(){return this.uniforms.start}set start(e){this.uniforms.start=e,this.updateDelta()}get end(){return this.uniforms.end}set end(e){this.uniforms.end=e,this.updateDelta()}},IK=class extends nD{updateDelta(){const e=this.uniforms.end.x-this.uniforms.start.x,r=this.uniforms.end.y-this.uniforms.start.y,n=Math.sqrt(e*e+r*r);this.uniforms.delta.x=e/n,this.uniforms.delta.y=r/n}},PK=class extends nD{updateDelta(){const e=this.uniforms.end.x-this.uniforms.start.x,r=this.uniforms.end.y-this.uniforms.start.y,n=Math.sqrt(e*e+r*r);this.uniforms.delta.x=-r/n,this.uniforms.delta.y=e/n}};const iD=class extends tt{constructor(e,r,n,i){super(),typeof e=="number"&&(Xe("5.3.0","TiltShiftFilter constructor arguments is deprecated, use options."),e={blur:e,gradientBlur:r,start:n,end:i}),e=Object.assign({},iD.defaults,e),this.tiltShiftXFilter=new IK(e),this.tiltShiftYFilter=new PK(e)}apply(e,r,n,i){const s=e.getFilterTexture();this.tiltShiftXFilter.apply(e,r,s,1),this.tiltShiftYFilter.apply(e,s,n,i),e.returnFilterTexture(s)}get blur(){return this.tiltShiftXFilter.blur}set blur(e){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=e}get gradientBlur(){return this.tiltShiftXFilter.gradientBlur}set gradientBlur(e){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=e}get start(){return this.tiltShiftXFilter.start}set start(e){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=e}get end(){return this.tiltShiftXFilter.end}set end(e){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=e}};let MK=iD;MK.defaults={blur:100,gradientBlur:600,start:void 0,end:void 0};var kK=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,NK=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float radius;
uniform float angle;
uniform vec2 offset;
uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 twist(vec2 coord)
{
    coord -= offset;

    float dist = length(coord);

    if (dist < radius)
    {
        float ratioDist = (radius - dist) / radius;
        float angleMod = ratioDist * ratioDist * angle;
        float s = sin(angleMod);
        float c = cos(angleMod);
        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);
    }

    coord += offset;

    return coord;
}

void main(void)
{

    vec2 coord = mapCoord(vTextureCoord);

    coord = twist(coord);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord );

}
`;const sD=class extends tt{constructor(t){super(kK,NK),Object.assign(this,sD.defaults,t)}get offset(){return this.uniforms.offset}set offset(t){this.uniforms.offset=t}get radius(){return this.uniforms.radius}set radius(t){this.uniforms.radius=t}get angle(){return this.uniforms.angle}set angle(t){this.uniforms.angle=t}};let RK=sD;RK.defaults={radius:200,angle:4,padding:20,offset:new je};var OK=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,DK=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uCenter;
uniform float uStrength;
uniform float uInnerRadius;
uniform float uRadius;

const float MAX_KERNEL_SIZE = \${maxKernelSize};

// author: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/
highp float rand(vec2 co, float seed) {
    const highp float a = 12.9898, b = 78.233, c = 43758.5453;
    highp float dt = dot(co + seed, vec2(a, b)), sn = mod(dt, 3.14159);
    return fract(sin(sn) * c + seed);
}

void main() {

    float minGradient = uInnerRadius * 0.3;
    float innerRadius = (uInnerRadius + minGradient * 0.5) / filterArea.x;

    float gradient = uRadius * 0.3;
    float radius = (uRadius - gradient * 0.5) / filterArea.x;

    float countLimit = MAX_KERNEL_SIZE;

    vec2 dir = vec2(uCenter.xy / filterArea.xy - vTextureCoord);
    float dist = length(vec2(dir.x, dir.y * filterArea.y / filterArea.x));

    float strength = uStrength;

    float delta = 0.0;
    float gap;
    if (dist < innerRadius) {
        delta = innerRadius - dist;
        gap = minGradient;
    } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity
        delta = dist - radius;
        gap = gradient;
    }

    if (delta > 0.0) {
        float normalCount = gap / filterArea.x;
        delta = (normalCount - delta) / normalCount;
        countLimit *= delta;
        strength *= delta;
        if (countLimit < 1.0)
        {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
    }

    // randomize the lookup values to hide the fixed number of samples
    float offset = rand(vTextureCoord, 0.0);

    float total = 0.0;
    vec4 color = vec4(0.0);

    dir *= strength;

    for (float t = 0.0; t < MAX_KERNEL_SIZE; t++) {
        float percent = (t + offset) / MAX_KERNEL_SIZE;
        float weight = 4.0 * (percent - percent * percent);
        vec2 p = vTextureCoord + dir * percent;
        vec4 sample = texture2D(uSampler, p);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample * weight;
        total += weight;

        if (t > countLimit){
            break;
        }
    }

    color /= total;
    // switch back from pre-multiplied alpha
    // color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`,qP=Object.getOwnPropertySymbols,LK=Object.prototype.hasOwnProperty,FK=Object.prototype.propertyIsEnumerable,UK=(t,e)=>{var r={};for(var n in t)LK.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&qP)for(var n of qP(t))e.indexOf(n)<0&&FK.call(t,n)&&(r[n]=t[n]);return r};const oD=class extends tt{constructor(t){const e=Object.assign(oD.defaults,t),{maxKernelSize:r}=e,n=UK(e,["maxKernelSize"]);super(OK,DK.replace("${maxKernelSize}",r.toFixed(1))),Object.assign(this,n)}get center(){return this.uniforms.uCenter}set center(t){this.uniforms.uCenter=t}get strength(){return this.uniforms.uStrength}set strength(t){this.uniforms.uStrength=t}get innerRadius(){return this.uniforms.uInnerRadius}set innerRadius(t){this.uniforms.uInnerRadius=t}get radius(){return this.uniforms.uRadius}set radius(t){(t<0||t===1/0)&&(t=-1),this.uniforms.uRadius=t}};let BK=oD;BK.defaults={strength:.1,center:[0,0],innerRadius:0,radius:-1,maxKernelSize:32};function zK(t){const[e,r]=O.useState(t.isSelected?.6:.2);O.useEffect(()=>{t.isSelected?r(.6):r(.2)},[t.game.selectedGridIndex]);const n=O.useMemo(()=>new ow(2,16777215,1,e),[e]),i=t.game;return C(zd.Sprite,{x:t.x,y:t.y,width:t.width,height:t.height,image:fQ[t.type],filters:[n],eventMode:"static",onmouseenter:()=>{t.isSelected||r(.4)},onmouseleave:()=>{t.isSelected||r(.2)},click:()=>{console.log("Hello"),t.isSelected?i.setSelectedGridIndex(-1):i.setSelectedGridIndex(t.index)}})}function jK(t){const e=O.useMemo(()=>t.width/8,[t.width]),r=O.useMemo(()=>t.height/8,[t.height]),n=t.game,i=n.getCurrentSelectedChessPiece(),s=i?i.getAvailableMoves():[];return n.gameState?J(zd.Container,{x:n.gameWidth/2,y:n.gameHeight/2,children:[[...Array(8*8).keys()].map(o=>C(pQ,{game:n,x:Math.floor(o%8)*e-n.boardSize/2,y:Math.floor(o/8)*r-n.boardSize/2,gridX:o%8,gridY:Math.floor(o/8),width:e,height:r,type:(o+Math.floor(o/8))%2==0?"light":"dark",highlightMove:s.some(a=>a.x===o%8&&a.y===Math.floor(o/8))},"b"+o)),[...Array(8*8).keys()].map(o=>n.rawGameState[o]!=="c"?C(zK,{game:n,x:Math.floor(o%8)*e-n.boardSize/2,y:Math.floor(o/8)*r-n.boardSize/2,width:e,height:r,index:o,isSelected:o===n.selectedGridIndex,type:n.rawGameState[o]},"c"+o):C(st,{}))]}):C(st,{})}function $K(t){const e=L4();return be.SCALE_MODE=Ti.NEAREST,C(st,{children:C(zd.Stage,{width:e.gameWidth,height:e.gameHeight,options:{antialias:!0,resolution:window.devicePixelRatio},children:C(jK,{game:e,width:e.boardSize,height:e.boardSize})})})}function GK(){const{gameId:t}=Ac(),e=L4();return O.useEffect(()=>{e.startGame(t??"")},[t]),O.useEffect(()=>{},[e.gameState]),e.gameState?C($K,{}):C(st,{children:"Loading..."})}/**
 * @license
 * Copyright (c) 2023, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const Br="w",Hn="b",mr="p",aw="n",ng="b",zh="r",Go="q",rr="k",Mb="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",an=-1,HK={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},VK=["a8","b8","c8","d8","e8","f8","g8","h8","a7","b7","c7","d7","e7","f7","g7","h7","a6","b6","c6","d6","e6","f6","g6","h6","a5","b5","c5","d5","e5","f5","g5","h5","a4","b4","c4","d4","e4","f4","g4","h4","a3","b3","c3","d3","e3","f3","g3","h3","a2","b2","c2","d2","e2","f2","g2","h2","a1","b1","c1","d1","e1","f1","g1","h1"],Be={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},Ve={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},kb={b:[16,32,17,15],w:[-16,-32,-17,-15]},YP={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},WK=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],XK=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],qK={p:1,n:2,b:4,r:8,q:16,k:32},YK="pnbrqkPNBRQK",QP=[aw,ng,zh,Go],QK=7,KK=6,ZK=1,JK=0,cm={[rr]:Be.KSIDE_CASTLE,[Go]:Be.QSIDE_CASTLE},Po={w:[{square:Ve.a1,flag:Be.QSIDE_CASTLE},{square:Ve.h1,flag:Be.KSIDE_CASTLE}],b:[{square:Ve.a8,flag:Be.QSIDE_CASTLE},{square:Ve.h8,flag:Be.KSIDE_CASTLE}]},eZ={b:ZK,w:KK},tZ=["1-0","0-1","1/2-1/2","*"];function bl(t){return t>>4}function jd(t){return t&15}function aD(t){return"0123456789".indexOf(t)!==-1}function An(t){const e=jd(t),r=bl(t);return"abcdefgh".substring(e,e+1)+"87654321".substring(r,r+1)}function Sh(t){return t===Br?Hn:Br}function rZ(t){const e=t.split(/\s+/);if(e.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const r=parseInt(e[5],10);if(isNaN(r)||r<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const n=parseInt(e[4],10);if(isNaN(n)||n<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(e[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(e[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(e[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const i=e[0].split("/");if(i.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let o=0;o<i.length;o++){let a=0,l=!1;for(let u=0;u<i[o].length;u++)if(aD(i[o][u])){if(l)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};a+=parseInt(i[o][u],10),l=!0}else{if(!/^[prnbqkPRNBQK]$/.test(i[o][u]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};a+=1,l=!1}if(a!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(e[3][1]=="3"&&e[1]=="w"||e[3][1]=="6"&&e[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const s=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:o,regex:a}of s){if(!a.test(e[0]))return{ok:!1,error:`Invalid FEN: missing ${o} king`};if((e[0].match(a)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${o} kings`}}return Array.from(i[0]+i[7]).some(o=>o.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function nZ(t,e){const r=t.from,n=t.to,i=t.piece;let s=0,o=0,a=0;for(let l=0,u=e.length;l<u;l++){const d=e[l].from,f=e[l].to,p=e[l].piece;i===p&&r!==d&&n===f&&(s++,bl(r)===bl(d)&&o++,jd(r)===jd(d)&&a++)}return s>0?o>0&&a>0?An(r):a>0?An(r).charAt(1):An(r).charAt(0):""}function Mo(t,e,r,n,i,s=void 0,o=Be.NORMAL){const a=bl(n);if(i===mr&&(a===QK||a===JK))for(let l=0;l<QP.length;l++){const u=QP[l];t.push({color:e,from:r,to:n,piece:i,captured:s,promotion:u,flags:o|Be.PROMOTION})}else t.push({color:e,from:r,to:n,piece:i,captured:s,flags:o})}function KP(t){let e=t.charAt(0);return e>="a"&&e<="h"?t.match(/[a-h]\d.*[a-h]\d/)?void 0:mr:(e=e.toLowerCase(),e==="o"?rr:e)}function Nb(t){return t.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}function Rb(t){return t.split(" ").slice(0,4).join(" ")}class hm{constructor(e=Mb){tr(this,"_board",new Array(128));tr(this,"_turn",Br);tr(this,"_header",{});tr(this,"_kings",{w:an,b:an});tr(this,"_epSquare",-1);tr(this,"_halfMoves",0);tr(this,"_moveNumber",0);tr(this,"_history",[]);tr(this,"_comments",{});tr(this,"_castling",{w:0,b:0});tr(this,"_positionCount",{});this.load(e)}clear({preserveHeaders:e=!1}={}){this._board=new Array(128),this._kings={w:an,b:an},this._turn=Br,this._castling={w:0,b:0},this._epSquare=an,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=e?this._header:{},this._positionCount={},delete this._header.SetUp,delete this._header.FEN}removeHeader(e){e in this._header&&delete this._header[e]}load(e,{skipValidation:r=!1,preserveHeaders:n=!1}={}){let i=e.split(/\s+/);if(i.length>=2&&i.length<6){const a=["-","-","0","1"];e=i.concat(a.slice(-(6-i.length))).join(" ")}if(i=e.split(/\s+/),!r){const{ok:a,error:l}=rZ(e);if(!a)throw new Error(l)}const s=i[0];let o=0;this.clear({preserveHeaders:n});for(let a=0;a<s.length;a++){const l=s.charAt(a);if(l==="/")o+=8;else if(aD(l))o+=parseInt(l,10);else{const u=l<"a"?Br:Hn;this._put({type:l.toLowerCase(),color:u},An(o)),o++}}this._turn=i[1],i[2].indexOf("K")>-1&&(this._castling.w|=Be.KSIDE_CASTLE),i[2].indexOf("Q")>-1&&(this._castling.w|=Be.QSIDE_CASTLE),i[2].indexOf("k")>-1&&(this._castling.b|=Be.KSIDE_CASTLE),i[2].indexOf("q")>-1&&(this._castling.b|=Be.QSIDE_CASTLE),this._epSquare=i[3]==="-"?an:Ve[i[3]],this._halfMoves=parseInt(i[4],10),this._moveNumber=parseInt(i[5],10),this._updateSetup(e),this._incPositionCount(e)}fen(){var s,o;let e=0,r="";for(let a=Ve.a8;a<=Ve.h1;a++){if(this._board[a]){e>0&&(r+=e,e=0);const{color:l,type:u}=this._board[a];r+=l===Br?u.toUpperCase():u.toLowerCase()}else e++;a+1&136&&(e>0&&(r+=e),a!==Ve.h1&&(r+="/"),e=0,a+=8)}let n="";this._castling[Br]&Be.KSIDE_CASTLE&&(n+="K"),this._castling[Br]&Be.QSIDE_CASTLE&&(n+="Q"),this._castling[Hn]&Be.KSIDE_CASTLE&&(n+="k"),this._castling[Hn]&Be.QSIDE_CASTLE&&(n+="q"),n=n||"-";let i="-";if(this._epSquare!==an){const a=this._epSquare+(this._turn===Br?16:-16),l=[a+1,a-1];for(const u of l){if(u&136)continue;const d=this._turn;if(((s=this._board[u])==null?void 0:s.color)===d&&((o=this._board[u])==null?void 0:o.type)===mr){this._makeMove({color:d,from:u,to:this._epSquare,piece:mr,captured:mr,flags:Be.EP_CAPTURE});const f=!this._isKingAttacked(d);if(this._undoMove(),f){i=An(this._epSquare);break}}}}return[r,this._turn,n,i,this._halfMoves,this._moveNumber].join(" ")}_updateSetup(e){this._history.length>0||(e!==Mb?(this._header.SetUp="1",this._header.FEN=e):(delete this._header.SetUp,delete this._header.FEN))}reset(){this.load(Mb)}get(e){return this._board[Ve[e]]||!1}put({type:e,color:r},n){return this._put({type:e,color:r},n)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_put({type:e,color:r},n){if(YK.indexOf(e.toLowerCase())===-1||!(n in Ve))return!1;const i=Ve[n];if(e==rr&&!(this._kings[r]==an||this._kings[r]==i))return!1;const s=this._board[i];return s&&s.type===rr&&(this._kings[s.color]=an),this._board[i]={type:e,color:r},e===rr&&(this._kings[r]=i),!0}remove(e){const r=this.get(e);return delete this._board[Ve[e]],r&&r.type===rr&&(this._kings[r.color]=an),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),r}_updateCastlingRights(){var n,i,s,o,a,l,u,d,f,p,g,v;const e=((n=this._board[Ve.e1])==null?void 0:n.type)===rr&&((i=this._board[Ve.e1])==null?void 0:i.color)===Br,r=((s=this._board[Ve.e8])==null?void 0:s.type)===rr&&((o=this._board[Ve.e8])==null?void 0:o.color)===Hn;(!e||((a=this._board[Ve.a1])==null?void 0:a.type)!==zh||((l=this._board[Ve.a1])==null?void 0:l.color)!==Br)&&(this._castling.w&=~Be.QSIDE_CASTLE),(!e||((u=this._board[Ve.h1])==null?void 0:u.type)!==zh||((d=this._board[Ve.h1])==null?void 0:d.color)!==Br)&&(this._castling.w&=~Be.KSIDE_CASTLE),(!r||((f=this._board[Ve.a8])==null?void 0:f.type)!==zh||((p=this._board[Ve.a8])==null?void 0:p.color)!==Hn)&&(this._castling.b&=~Be.QSIDE_CASTLE),(!r||((g=this._board[Ve.h8])==null?void 0:g.type)!==zh||((v=this._board[Ve.h8])==null?void 0:v.color)!==Hn)&&(this._castling.b&=~Be.KSIDE_CASTLE)}_updateEnPassantSquare(){var s,o;if(this._epSquare===an)return;const e=this._epSquare+(this._turn===Br?-16:16),r=this._epSquare+(this._turn===Br?16:-16),n=[r+1,r-1];if(this._board[e]!==null||this._board[this._epSquare]!==null||((s=this._board[r])==null?void 0:s.color)!==Sh(this._turn)||((o=this._board[r])==null?void 0:o.type)!==mr){this._epSquare=an;return}const i=a=>{var l,u;return!(a&136)&&((l=this._board[a])==null?void 0:l.color)===this._turn&&((u=this._board[a])==null?void 0:u.type)===mr};n.some(i)||(this._epSquare=an)}_attacked(e,r){for(let n=Ve.a8;n<=Ve.h1;n++){if(n&136){n+=7;continue}if(this._board[n]===void 0||this._board[n].color!==e)continue;const i=this._board[n],s=n-r;if(s===0)continue;const o=s+119;if(WK[o]&qK[i.type]){if(i.type===mr){if(s>0){if(i.color===Br)return!0}else if(i.color===Hn)return!0;continue}if(i.type==="n"||i.type==="k")return!0;const a=XK[o];let l=n+a,u=!1;for(;l!==r;){if(this._board[l]!=null){u=!0;break}l+=a}if(!u)return!0}}return!1}_isKingAttacked(e){const r=this._kings[e];return r===-1?!1:this._attacked(Sh(e),r)}isAttacked(e,r){return this._attacked(r,Ve[e])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const e={b:0,n:0,r:0,q:0,k:0,p:0},r=[];let n=0,i=0;for(let s=Ve.a8;s<=Ve.h1;s++){if(i=(i+1)%2,s&136){s+=7;continue}const o=this._board[s];o&&(e[o.type]=o.type in e?e[o.type]+1:1,o.type===ng&&r.push(i),n++)}if(n===2)return!0;if(n===3&&(e[ng]===1||e[aw]===1))return!0;if(n===e[ng]+2){let s=0;const o=r.length;for(let a=0;a<o;a++)s+=r[a];if(s===0||s===o)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this.fen())>=3}isDraw(){return this._halfMoves>=100||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isStalemate()||this.isDraw()}moves({verbose:e=!1,square:r=void 0,piece:n=void 0}={}){const i=this._moves({square:r,piece:n});return e?i.map(s=>this._makePretty(s)):i.map(s=>this._moveToSan(s,i))}_moves({legal:e=!0,piece:r=void 0,square:n=void 0}={}){var g;const i=n?n.toLowerCase():void 0,s=r==null?void 0:r.toLowerCase(),o=[],a=this._turn,l=Sh(a);let u=Ve.a8,d=Ve.h1,f=!1;if(i)if(i in Ve)u=d=Ve[i],f=!0;else return[];for(let v=u;v<=d;v++){if(v&136){v+=7;continue}if(!this._board[v]||this._board[v].color===l)continue;const{type:b}=this._board[v];let E;if(b===mr){if(s&&s!==b)continue;E=v+kb[a][0],this._board[E]||(Mo(o,a,v,E,mr),E=v+kb[a][1],eZ[a]===bl(v)&&!this._board[E]&&Mo(o,a,v,E,mr,void 0,Be.BIG_PAWN));for(let w=2;w<4;w++)E=v+kb[a][w],!(E&136)&&(((g=this._board[E])==null?void 0:g.color)===l?Mo(o,a,v,E,mr,this._board[E].type,Be.CAPTURE):E===this._epSquare&&Mo(o,a,v,E,mr,mr,Be.EP_CAPTURE))}else{if(s&&s!==b)continue;for(let w=0,S=YP[b].length;w<S;w++){const _=YP[b][w];for(E=v;E+=_,!(E&136);){if(!this._board[E])Mo(o,a,v,E,b);else{if(this._board[E].color===a)break;Mo(o,a,v,E,b,this._board[E].type,Be.CAPTURE);break}if(b===aw||b===rr)break}}}}if((s===void 0||s===rr)&&(!f||d===this._kings[a])){if(this._castling[a]&Be.KSIDE_CASTLE){const v=this._kings[a],b=v+2;!this._board[v+1]&&!this._board[b]&&!this._attacked(l,this._kings[a])&&!this._attacked(l,v+1)&&!this._attacked(l,b)&&Mo(o,a,this._kings[a],b,rr,void 0,Be.KSIDE_CASTLE)}if(this._castling[a]&Be.QSIDE_CASTLE){const v=this._kings[a],b=v-2;!this._board[v-1]&&!this._board[v-2]&&!this._board[v-3]&&!this._attacked(l,this._kings[a])&&!this._attacked(l,v-1)&&!this._attacked(l,b)&&Mo(o,a,this._kings[a],b,rr,void 0,Be.QSIDE_CASTLE)}}if(!e||this._kings[a]===-1)return o;const p=[];for(let v=0,b=o.length;v<b;v++)this._makeMove(o[v]),this._isKingAttacked(a)||p.push(o[v]),this._undoMove();return p}move(e,{strict:r=!1}={}){let n=null;if(typeof e=="string")n=this._moveFromSan(e,r);else if(typeof e=="object"){const s=this._moves();for(let o=0,a=s.length;o<a;o++)if(e.from===An(s[o].from)&&e.to===An(s[o].to)&&(!("promotion"in s[o])||e.promotion===s[o].promotion)){n=s[o];break}}if(!n)throw typeof e=="string"?new Error(`Invalid move: ${e}`):new Error(`Invalid move: ${JSON.stringify(e)}`);const i=this._makePretty(n);return this._makeMove(n),this._incPositionCount(i.after),i}_push(e){this._history.push({move:e,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_makeMove(e){const r=this._turn,n=Sh(r);if(this._push(e),this._board[e.to]=this._board[e.from],delete this._board[e.from],e.flags&Be.EP_CAPTURE&&(this._turn===Hn?delete this._board[e.to-16]:delete this._board[e.to+16]),e.promotion&&(this._board[e.to]={type:e.promotion,color:r}),this._board[e.to].type===rr){if(this._kings[r]=e.to,e.flags&Be.KSIDE_CASTLE){const i=e.to-1,s=e.to+1;this._board[i]=this._board[s],delete this._board[s]}else if(e.flags&Be.QSIDE_CASTLE){const i=e.to+1,s=e.to-2;this._board[i]=this._board[s],delete this._board[s]}this._castling[r]=0}if(this._castling[r]){for(let i=0,s=Po[r].length;i<s;i++)if(e.from===Po[r][i].square&&this._castling[r]&Po[r][i].flag){this._castling[r]^=Po[r][i].flag;break}}if(this._castling[n]){for(let i=0,s=Po[n].length;i<s;i++)if(e.to===Po[n][i].square&&this._castling[n]&Po[n][i].flag){this._castling[n]^=Po[n][i].flag;break}}e.flags&Be.BIG_PAWN?r===Hn?this._epSquare=e.to-16:this._epSquare=e.to+16:this._epSquare=an,e.piece===mr?this._halfMoves=0:e.flags&(Be.CAPTURE|Be.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,r===Hn&&this._moveNumber++,this._turn=n}undo(){const e=this._undoMove();if(e){const r=this._makePretty(e);return this._decPositionCount(r.after),r}return null}_undoMove(){const e=this._history.pop();if(e===void 0)return null;const r=e.move;this._kings=e.kings,this._turn=e.turn,this._castling=e.castling,this._epSquare=e.epSquare,this._halfMoves=e.halfMoves,this._moveNumber=e.moveNumber;const n=this._turn,i=Sh(n);if(this._board[r.from]=this._board[r.to],this._board[r.from].type=r.piece,delete this._board[r.to],r.captured)if(r.flags&Be.EP_CAPTURE){let s;n===Hn?s=r.to-16:s=r.to+16,this._board[s]={type:mr,color:i}}else this._board[r.to]={type:r.captured,color:i};if(r.flags&(Be.KSIDE_CASTLE|Be.QSIDE_CASTLE)){let s,o;r.flags&Be.KSIDE_CASTLE?(s=r.to+1,o=r.to-1):(s=r.to-2,o=r.to+1),this._board[s]=this._board[o],delete this._board[o]}return r}pgn({newline:e=`
`,maxWidth:r=0}={}){const n=[];let i=!1;for(const p in this._header)n.push("["+p+' "'+this._header[p]+'"]'+e),i=!0;i&&this._history.length&&n.push(e);const s=p=>{const g=this._comments[this.fen()];if(typeof g<"u"){const v=p.length>0?" ":"";p=`${p}${v}{${g}}`}return p},o=[];for(;this._history.length>0;)o.push(this._undoMove());const a=[];let l="";for(o.length===0&&a.push(s(""));o.length>0;){l=s(l);const p=o.pop();if(!p)break;if(!this._history.length&&p.color==="b"){const g=`${this._moveNumber}. ...`;l=l?`${l} ${g}`:g}else p.color==="w"&&(l.length&&a.push(l),l=this._moveNumber+".");l=l+" "+this._moveToSan(p,this._moves({legal:!0})),this._makeMove(p)}if(l.length&&a.push(s(l)),typeof this._header.Result<"u"&&a.push(this._header.Result),r===0)return n.join("")+a.join(" ");const u=function(){return n.length>0&&n[n.length-1]===" "?(n.pop(),!0):!1},d=function(p,g){for(const v of g.split(" "))if(v){if(p+v.length>r){for(;u();)p--;n.push(e),p=0}n.push(v),p+=v.length,n.push(" "),p++}return u()&&p--,p};let f=0;for(let p=0;p<a.length;p++){if(f+a[p].length>r&&a[p].includes("{")){f=d(f,a[p]);continue}f+a[p].length>r&&p!==0?(n[n.length-1]===" "&&n.pop(),n.push(e),f=0):p!==0&&(n.push(" "),f++),n.push(a[p]),f+=a[p].length}return n.join("")}header(...e){for(let r=0;r<e.length;r+=2)typeof e[r]=="string"&&typeof e[r+1]=="string"&&(this._header[e[r]]=e[r+1]);return this._header}loadPgn(e,{strict:r=!1,newlineChar:n=`\r?
`}={}){function i(_){return _.replace(/\\/g,"\\")}function s(_){const A={},P=_.split(new RegExp(i(n)));let N="",L="";for(let k=0;k<P.length;k++){const q=/^\s*\[\s*([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;N=P[k].replace(q,"$1"),L=P[k].replace(q,"$2"),N.trim().length>0&&(A[N]=L)}return A}e=e.trim();const a=new RegExp("^(\\[((?:"+i(n)+")|.)*\\])((?:\\s*"+i(n)+"){2}|(?:\\s*"+i(n)+")*$)").exec(e),l=a&&a.length>=2?a[1]:"";this.reset();const u=s(l);let d="";for(const _ in u)_.toLowerCase()==="fen"&&(d=u[_]),this.header(_,u[_]);if(!r)d&&this.load(d,{preserveHeaders:!0});else if(u.SetUp==="1"){if(!("FEN"in u))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(u.FEN,{preserveHeaders:!0})}function f(_){return Array.from(_).map(function(A){return A.charCodeAt(0)<128?A.charCodeAt(0).toString(16):encodeURIComponent(A).replace(/%/g,"").toLowerCase()}).join("")}function p(_){return _.length==0?"":decodeURIComponent("%"+(_.match(/.{1,2}/g)||[]).join("%"))}const g=function(_){return _=_.replace(new RegExp(i(n),"g")," "),`{${f(_.slice(1,_.length-1))}}`},v=function(_){if(_.startsWith("{")&&_.endsWith("}"))return p(_.slice(1,_.length-1))};let b=e.replace(l,"").replace(new RegExp(`({[^}]*})+?|;([^${i(n)}]*)`,"g"),function(_,A,P){return A!==void 0?g(A):" "+g(`{${P.slice(1)}}`)}).replace(new RegExp(i(n),"g")," ");const E=/(\([^()]+\))+?/g;for(;E.test(b);)b=b.replace(E,"");b=b.replace(/\d+\.(\.\.)?/g,""),b=b.replace(/\.\.\./g,""),b=b.replace(/\$\d+/g,"");let w=b.trim().split(new RegExp(/\s+/));w=w.filter(_=>_!=="");let S="";for(let _=0;_<w.length;_++){const A=v(w[_]);if(A!==void 0){this._comments[this.fen()]=A;continue}const P=this._moveFromSan(w[_],r);if(P==null)if(tZ.indexOf(w[_])>-1)S=w[_];else throw new Error(`Invalid move in PGN: ${w[_]}`);else S="",this._makeMove(P),this._incPositionCount(this.fen())}S&&Object.keys(this._header).length&&!this._header.Result&&this.header("Result",S)}_moveToSan(e,r){let n="";if(e.flags&Be.KSIDE_CASTLE)n="O-O";else if(e.flags&Be.QSIDE_CASTLE)n="O-O-O";else{if(e.piece!==mr){const i=nZ(e,r);n+=e.piece.toUpperCase()+i}e.flags&(Be.CAPTURE|Be.EP_CAPTURE)&&(e.piece===mr&&(n+=An(e.from)[0]),n+="x"),n+=An(e.to),e.promotion&&(n+="="+e.promotion.toUpperCase())}return this._makeMove(e),this.isCheck()&&(this.isCheckmate()?n+="#":n+="+"),this._undoMove(),n}_moveFromSan(e,r=!1){const n=Nb(e);let i=KP(n),s=this._moves({legal:!0,piece:i});for(let p=0,g=s.length;p<g;p++)if(n===Nb(this._moveToSan(s[p],s)))return s[p];if(r)return null;let o,a,l,u,d,f=!1;if(a=n.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),a?(o=a[1],l=a[2],u=a[3],d=a[4],l.length==1&&(f=!0)):(a=n.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),a&&(o=a[1],l=a[2],u=a[3],d=a[4],l.length==1&&(f=!0))),i=KP(n),s=this._moves({legal:!0,piece:o||i}),!u)return null;for(let p=0,g=s.length;p<g;p++)if(l){if((!o||o.toLowerCase()==s[p].piece)&&Ve[l]==s[p].from&&Ve[u]==s[p].to&&(!d||d.toLowerCase()==s[p].promotion))return s[p];if(f){const v=An(s[p].from);if((!o||o.toLowerCase()==s[p].piece)&&Ve[u]==s[p].to&&(l==v[0]||l==v[1])&&(!d||d.toLowerCase()==s[p].promotion))return s[p]}}else if(n===Nb(this._moveToSan(s[p],s)).replace("x",""))return s[p];return null}ascii(){let e=`   +------------------------+
`;for(let r=Ve.a8;r<=Ve.h1;r++){if(jd(r)===0&&(e+=" "+"87654321"[bl(r)]+" |"),this._board[r]){const n=this._board[r].type,s=this._board[r].color===Br?n.toUpperCase():n.toLowerCase();e+=" "+s+" "}else e+=" . ";r+1&136&&(e+=`|
`,r+=8)}return e+=`   +------------------------+
`,e+="     a  b  c  d  e  f  g  h",e}perft(e){const r=this._moves({legal:!1});let n=0;const i=this._turn;for(let s=0,o=r.length;s<o;s++)this._makeMove(r[s]),this._isKingAttacked(i)||(e-1>0?n+=this.perft(e-1):n++),this._undoMove();return n}_makePretty(e){const{color:r,piece:n,from:i,to:s,flags:o,captured:a,promotion:l}=e;let u="";for(const g in Be)Be[g]&o&&(u+=HK[g]);const d=An(i),f=An(s),p={color:r,piece:n,from:d,to:f,san:this._moveToSan(e,this._moves({legal:!0})),flags:u,lan:d+f,before:this.fen(),after:""};return this._makeMove(e),p.after=this.fen(),this._undoMove(),a&&(p.captured=a),l&&(p.promotion=l,p.lan+=l),p}turn(){return this._turn}board(){const e=[];let r=[];for(let n=Ve.a8;n<=Ve.h1;n++)this._board[n]==null?r.push(null):r.push({square:An(n),type:this._board[n].type,color:this._board[n].color}),n+1&136&&(e.push(r),r=[],n+=8);return e}squareColor(e){if(e in Ve){const r=Ve[e];return(bl(r)+jd(r))%2===0?"light":"dark"}return null}history({verbose:e=!1}={}){const r=[],n=[];for(;this._history.length>0;)r.push(this._undoMove());for(;;){const i=r.pop();if(!i)break;e?n.push(this._makePretty(i)):n.push(this._moveToSan(i,this._moves())),this._makeMove(i)}return n}_getPositionCount(e){const r=Rb(e);return this._positionCount[r]||0}_incPositionCount(e){const r=Rb(e);this._positionCount[r]===void 0&&(this._positionCount[r]=0),this._positionCount[r]+=1}_decPositionCount(e){const r=Rb(e);this._positionCount[r]===1?delete this._positionCount[r]:this._positionCount[r]-=1}_pruneComments(){const e=[],r={},n=i=>{i in this._comments&&(r[i]=this._comments[i])};for(;this._history.length>0;)e.push(this._undoMove());for(n(this.fen());;){const i=e.pop();if(!i)break;this._makeMove(i),n(this.fen())}this._comments=r}getComment(){return this._comments[this.fen()]}setComment(e){this._comments[this.fen()]=e.replace("{","[").replace("}","]")}deleteComment(){const e=this._comments[this.fen()];return delete this._comments[this.fen()],e}getComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>({fen:e,comment:this._comments[e]}))}deleteComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>{const r=this._comments[e];return delete this._comments[e],{fen:e,comment:r}})}setCastlingRights(e,r){for(const i of[rr,Go])r[i]!==void 0&&(r[i]?this._castling[e]|=cm[i]:this._castling[e]&=~cm[i]);this._updateCastlingRights();const n=this.getCastlingRights(e);return(r[rr]===void 0||r[rr]===n[rr])&&(r[Go]===void 0||r[Go]===n[Go])}getCastlingRights(e){return{[rr]:(this._castling[e]&cm[rr])!==0,[Go]:(this._castling[e]&cm[Go])!==0}}moveNumber(){return this._moveNumber}}var $d=(t=>(t[t.PVP=0]="PVP",t[t.BOT=1]="BOT",t))($d||{}),Fs=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WIN=1]="WIN",t[t.LOSE=2]="LOSE",t[t.DRAW=3]="DRAW",t))(Fs||{});const ZP={botDifficulty:1},ig={core:null,gameId:"",side:void 0,startGame:()=>null,fen:"",setFen:()=>null,lastMove:[],moveHistories:[],setLastMove:()=>null,getMoveableDests:()=>new Map,turn:void 0,move:()=>null,isPromoting:!1,promote:()=>null,result:0,opponentId:null,resign:()=>null,onEnd:()=>null},lD=O.createContext(ig);function iZ({children:t}){const[e,r]=O.useState(0),[n,i]=O.useState(""),[s,o]=O.useState("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"),[a,l]=O.useState(new hm),[u,d]=O.useState(void 0),[f,p]=O.useState([]),[g,v]=O.useState(ig.moveHistories),[b,E]=O.useState(!1),[w,S]=O.useState([]),[_,A]=O.useState(void 0),[P,N]=O.useState(ig.result),[L,k]=O.useState(ZP),[q,H]=O.useState(ig.opponentId),Q=($,Z=0,pe=ZP)=>{r(Z),k(L),i($),N(0)};O.useEffect(()=>{if(s!=(a==null?void 0:a.fen())){const $=new hm(s);l($)}a!=null&&a.isGameOver()&&u&&(console.log(_,u),_==u?N(2):_!=u?N(1):N(3))},[s]);const G=O.useMemo(()=>e==0?pc.pvpgamev2(n,eo()):pc.botgamev2(n,eo()),[n,e]),{sendMessage:F,lastMessage:D,readyState:V}=uf(G);O.useEffect(()=>{V==si.ReadyState.OPEN?(console.log("Connected to game socket"),N(0)):console.log(V)},[V]),O.useEffect(()=>{if(!D)return;const $=JSON.parse(D==null?void 0:D.data);console.log($);const Z=$.data;if($.message==="Player joined"&&Z.gamePlayer&&(Z.gamePlayer.id===Tl().id?d(Z.gamePlayer.white?"white":"black"):H(Z.gamePlayer.id)),$.message,$.message==="Resign"&&Z.resignSide!=null){const pe=Z.resignSide?"white":"black";N(pe===u?2:1)}if(Z&&(Z.fen&&o(Z.fen),Z.white!=null&&A(Z.white?"white":"black"),Z.moveHistories&&(v(Z.moveHistories),Z.moveHistories.length>0))){const pe=Z.moveHistories[Z.moveHistories.length-1];p([pe.from.toLowerCase(),pe.to.toLowerCase()])}},[D]);const W=($,Z)=>{if(!a||_!==u)return;const pe=a.moves({verbose:!0});for(let fe=0,Ue=pe.length;fe<Ue;fe++)if(pe[fe].flags.indexOf("p")!==-1&&pe[fe].from===$){S([$,Z]),E(!0);return}try{if(a.move({from:$,to:Z,promotion:"x"})){p([$,Z]);const fe={message:"Move",data:{from:$,to:Z}};console.log("Sending",JSON.stringify(fe)),F(JSON.stringify(fe)),o(a.fen())}}catch(fe){console.log(fe),o(a.fen()),l(new hm(a.fen()))}},B=()=>{const $=new Map;return a&&VK.forEach(Z=>{const pe=a.moves({square:Z,verbose:!0});pe.length&&$.set(Z,pe.map(fe=>fe.to))}),$},I=$=>{if(E(!1),!!a){if(!$){o(a.fen()),l(new hm(a.fen()));return}if(a.move({from:w[0],to:w[1],promotion:$})){p(w);const Z=(u=="white"?"WHITE_":"BLACK_")+($=="b"?"BISHOP":$=="n"?"KNIGHT":$=="q"?"QUEEN":"ROOK");console.log(Z);const pe={message:"Promotion",data:{from:w[0],to:w[1],promotion:Z}};F(JSON.stringify(pe)),o(a.fen())}}},z=()=>{console.log({message:"Resign"}),F(JSON.stringify({message:"Resign"}))},R=()=>{N(0)};return C(lD.Provider,{value:{gameId:n,startGame:Q,core:a,fen:s,side:u,setFen:o,lastMove:f,moveHistories:g,setLastMove:p,getMoveableDests:B,turn:_,move:W,isPromoting:b,promote:I,result:P,opponentId:q,resign:z,onEnd:R},children:t})}const dE=()=>{const t=O.useContext(lD);if(t===void 0)throw new Error("useGame must be used within GameProvider");return t},sZ=["white","black"],fE=["a","b","c","d","e","f","g","h"],pE=["1","2","3","4","5","6","7","8"],oZ=[...pE].reverse(),mE=Array.prototype.concat(...fE.map(t=>pE.map(e=>t+e))),Qn=t=>mE[8*t[0]+t[1]],Xt=t=>[t.charCodeAt(0)-97,t.charCodeAt(1)-49],uD=mE.map(Xt);function aZ(t){let e;const r=()=>(e===void 0&&(e=t()),e);return r.clear=()=>{e=void 0},r}const lZ=()=>{let t;return{start(){t=performance.now()},cancel(){t=void 0},stop(){if(!t)return 0;const e=performance.now()-t;return t=void 0,e}}},gE=t=>t==="white"?"black":"white",Gd=(t,e)=>{const r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n},lw=(t,e)=>t.role===e.role&&t.color===e.color,mf=t=>(e,r)=>[(r?e[0]:7-e[0])*t.width/8,(r?7-e[1]:e[1])*t.height/8],as=(t,e)=>{t.style.transform=`translate(${e[0]}px,${e[1]}px)`},cD=(t,e,r=1)=>{t.style.transform=`translate(${e[0]}px,${e[1]}px) scale(${r})`},vE=(t,e)=>{t.style.visibility=e?"visible":"hidden"},Bl=t=>{var e;if(t.clientX||t.clientX===0)return[t.clientX,t.clientY];if(!((e=t.targetTouches)===null||e===void 0)&&e[0])return[t.targetTouches[0].clientX,t.targetTouches[0].clientY]},hD=t=>t.buttons===2||t.button===2,Hs=(t,e)=>{const r=document.createElement(t);return e&&(r.className=e),r};function dD(t,e,r){const n=Xt(t);return e||(n[0]=7-n[0],n[1]=7-n[1]),[r.left+r.width*n[0]/8+r.width/16,r.top+r.height*(7-n[1])/8+r.height/16]}const Pl=(t,e)=>Math.abs(t-e),uZ=t=>(e,r,n,i)=>Pl(e,n)<2&&(t==="white"?i===r+1||r<=1&&i===r+2&&e===n:i===r-1||r>=6&&i===r-2&&e===n),fD=(t,e,r,n)=>{const i=Pl(t,r),s=Pl(e,n);return i===1&&s===2||i===2&&s===1},pD=(t,e,r,n)=>Pl(t,r)===Pl(e,n),mD=(t,e,r,n)=>t===r||e===n,gD=(t,e,r,n)=>pD(t,e,r,n)||mD(t,e,r,n),cZ=(t,e,r)=>(n,i,s,o)=>Pl(n,s)<2&&Pl(i,o)<2||r&&i===o&&i===(t==="white"?0:7)&&(n===4&&(s===2&&e.includes(0)||s===6&&e.includes(7))||e.includes(s));function hZ(t,e){const r=e==="white"?"1":"8",n=[];for(const[i,s]of t)i[1]===r&&s.color===e&&s.role==="rook"&&n.push(Xt(i)[0]);return n}function vD(t,e,r){const n=t.get(e);if(!n)return[];const i=Xt(e),s=n.role,o=s==="pawn"?uZ(n.color):s==="knight"?fD:s==="bishop"?pD:s==="rook"?mD:s==="queen"?gD:cZ(n.color,hZ(t,n.color),r);return uD.filter(a=>(i[0]!==a[0]||i[1]!==a[1])&&o(i[0],i[1],a[0],a[1])).map(Qn)}function vn(t,...e){t&&setTimeout(()=>t(...e),1)}function dZ(t){t.orientation=gE(t.orientation),t.animation.current=t.draggable.current=t.selected=void 0}function fZ(t,e){for(const[r,n]of e)n?t.pieces.set(r,n):t.pieces.delete(r)}function pZ(t,e){if(t.check=void 0,e===!0&&(e=t.turnColor),e)for(const[r,n]of t.pieces)n.role==="king"&&n.color===e&&(t.check=r)}function mZ(t,e,r,n){ka(t),t.premovable.current=[e,r],vn(t.premovable.events.set,e,r,n)}function Ma(t){t.premovable.current&&(t.premovable.current=void 0,vn(t.premovable.events.unset))}function gZ(t,e,r){Ma(t),t.predroppable.current={role:e,key:r},vn(t.predroppable.events.set,e,r)}function ka(t){const e=t.predroppable;e.current&&(e.current=void 0,vn(e.events.unset))}function vZ(t,e,r){if(!t.autoCastle)return!1;const n=t.pieces.get(e);if(!n||n.role!=="king")return!1;const i=Xt(e),s=Xt(r);if(i[1]!==0&&i[1]!==7||i[1]!==s[1])return!1;i[0]===4&&!t.pieces.has(r)&&(s[0]===6?r=Qn([7,s[1]]):s[0]===2&&(r=Qn([0,s[1]])));const o=t.pieces.get(r);return!o||o.color!==n.color||o.role!=="rook"?!1:(t.pieces.delete(e),t.pieces.delete(r),i[0]<s[0]?(t.pieces.set(Qn([6,s[1]]),n),t.pieces.set(Qn([5,s[1]]),o)):(t.pieces.set(Qn([2,s[1]]),n),t.pieces.set(Qn([3,s[1]]),o)),!0)}function yD(t,e,r){const n=t.pieces.get(e),i=t.pieces.get(r);if(e===r||!n)return!1;const s=i&&i.color!==n.color?i:void 0;return r===t.selected&&ri(t),vn(t.events.move,e,r,s),vZ(t,e,r)||(t.pieces.set(r,n),t.pieces.delete(e)),t.lastMove=[e,r],t.check=void 0,vn(t.events.change),s||!0}function yE(t,e,r,n){if(t.pieces.has(r))if(n)t.pieces.delete(r);else return!1;return vn(t.events.dropNewPiece,e,r),t.pieces.set(r,e),t.lastMove=[r],t.check=void 0,vn(t.events.change),t.movable.dests=void 0,t.turnColor=gE(t.turnColor),!0}function bD(t,e,r){const n=yD(t,e,r);return n&&(t.movable.dests=void 0,t.turnColor=gE(t.turnColor),t.animation.current=void 0),n}function xD(t,e,r){if(bE(t,e,r)){const n=bD(t,e,r);if(n){const i=t.hold.stop();ri(t);const s={premove:!1,ctrlKey:t.stats.ctrlKey,holdTime:i};return n!==!0&&(s.captured=n),vn(t.movable.events.after,e,r,s),!0}}else if(bZ(t,e,r))return mZ(t,e,r,{ctrlKey:t.stats.ctrlKey}),ri(t),!0;return ri(t),!1}function _D(t,e,r,n){const i=t.pieces.get(e);i&&(yZ(t,e,r)||n)?(t.pieces.delete(e),yE(t,i,r,n),vn(t.movable.events.afterNewPiece,i.role,r,{premove:!1,predrop:!1})):i&&xZ(t,e,r)?gZ(t,i.role,r):(Ma(t),ka(t)),t.pieces.delete(e),ri(t)}function uw(t,e,r){if(vn(t.events.select,e),t.selected){if(t.selected===e&&!t.draggable.enabled){ri(t),t.hold.cancel();return}else if((t.selectable.enabled||r)&&t.selected!==e&&xD(t,t.selected,e)){t.stats.dragged=!1;return}}(t.selectable.enabled||t.draggable.enabled)&&(SD(t,e)||xE(t,e))&&(wD(t,e),t.hold.start())}function wD(t,e){t.selected=e,xE(t,e)?t.premovable.dests=vD(t.pieces,e,t.premovable.castle):t.premovable.dests=void 0}function ri(t){t.selected=void 0,t.premovable.dests=void 0,t.hold.cancel()}function SD(t,e){const r=t.pieces.get(e);return!!r&&(t.movable.color==="both"||t.movable.color===r.color&&t.turnColor===r.color)}const bE=(t,e,r)=>{var n,i;return e!==r&&SD(t,e)&&(t.movable.free||!!(!((i=(n=t.movable.dests)===null||n===void 0?void 0:n.get(e))===null||i===void 0)&&i.includes(r)))};function yZ(t,e,r){const n=t.pieces.get(e);return!!n&&(e===r||!t.pieces.has(r))&&(t.movable.color==="both"||t.movable.color===n.color&&t.turnColor===n.color)}function xE(t,e){const r=t.pieces.get(e);return!!r&&t.premovable.enabled&&t.movable.color===r.color&&t.turnColor!==r.color}const bZ=(t,e,r)=>e!==r&&xE(t,e)&&vD(t.pieces,e,t.premovable.castle).includes(r);function xZ(t,e,r){const n=t.pieces.get(e),i=t.pieces.get(r);return!!n&&(!i||i.color!==t.movable.color)&&t.predroppable.enabled&&(n.role!=="pawn"||r[1]!=="1"&&r[1]!=="8")&&t.movable.color===n.color&&t.turnColor!==n.color}function _Z(t,e){const r=t.pieces.get(e);return!!r&&t.draggable.enabled&&(t.movable.color==="both"||t.movable.color===r.color&&(t.turnColor===r.color||t.premovable.enabled))}function wZ(t){const e=t.premovable.current;if(!e)return!1;const r=e[0],n=e[1];let i=!1;if(bE(t,r,n)){const s=bD(t,r,n);if(s){const o={premove:!0};s!==!0&&(o.captured=s),vn(t.movable.events.after,r,n,o),i=!0}}return Ma(t),i}function SZ(t,e){const r=t.predroppable.current;let n=!1;if(!r)return!1;if(e(r)){const i={role:r.role,color:t.movable.color};yE(t,i,r.key)&&(vn(t.movable.events.afterNewPiece,r.role,r.key,{premove:!1,predrop:!0}),n=!0)}return ka(t),n}function _E(t){Ma(t),ka(t),ri(t)}function JP(t){t.movable.color=t.movable.dests=t.animation.current=void 0,_E(t)}function zl(t,e,r){let n=Math.floor(8*(t[0]-r.left)/r.width);e||(n=7-n);let i=7-Math.floor(8*(t[1]-r.top)/r.height);return e||(i=7-i),n>=0&&n<8&&i>=0&&i<8?Qn([n,i]):void 0}function EZ(t,e,r,n){const i=Xt(t),s=uD.filter(u=>gD(i[0],i[1],u[0],u[1])||fD(i[0],i[1],u[0],u[1])),a=s.map(u=>dD(Qn(u),r,n)).map(u=>Gd(e,u)),[,l]=a.reduce((u,d,f)=>u[0]<d?u:[d,f],[a[0],0]);return Qn(s[l])}const yn=t=>t.orientation==="white",ED="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR",TZ={p:"pawn",r:"rook",n:"knight",b:"bishop",q:"queen",k:"king"},AZ={pawn:"p",rook:"r",knight:"n",bishop:"b",queen:"q",king:"k"};function TD(t){t==="start"&&(t=ED);const e=new Map;let r=7,n=0;for(const i of t)switch(i){case" ":case"[":return e;case"/":if(--r,r<0)return e;n=0;break;case"~":{const s=e.get(Qn([n-1,r]));s&&(s.promoted=!0);break}default:{const s=i.charCodeAt(0);if(s<57)n+=s-48;else{const o=i.toLowerCase();e.set(Qn([n,r]),{role:TZ[o],color:i===o?"black":"white"}),++n}}}return e}function CZ(t){return oZ.map(e=>fE.map(r=>{const n=t.get(r+e);if(n){let i=AZ[n.role];return n.color==="white"&&(i=i.toUpperCase()),n.promoted&&(i+="~"),i}else return"1"}).join("")).join("/").replace(/1{2,}/g,e=>e.length.toString())}function AD(t,e){e.animation&&(wE(t.animation,e.animation),(t.animation.duration||0)<70&&(t.animation.enabled=!1))}function CD(t,e){var r,n;if(!((r=e.movable)===null||r===void 0)&&r.dests&&(t.movable.dests=void 0),!((n=e.drawable)===null||n===void 0)&&n.autoShapes&&(t.drawable.autoShapes=[]),wE(t,e),e.fen&&(t.pieces=TD(e.fen),t.drawable.shapes=[]),"check"in e&&pZ(t,e.check||!1),"lastMove"in e&&!e.lastMove?t.lastMove=void 0:e.lastMove&&(t.lastMove=e.lastMove),t.selected&&wD(t,t.selected),AD(t,e),!t.movable.rookCastle&&t.movable.dests){const i=t.movable.color==="white"?"1":"8",s="e"+i,o=t.movable.dests.get(s),a=t.pieces.get(s);if(!o||!a||a.role!=="king")return;t.movable.dests.set(s,o.filter(l=>!(l==="a"+i&&o.includes("c"+i))&&!(l==="h"+i&&o.includes("g"+i))))}}function wE(t,e){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(Object.prototype.hasOwnProperty.call(t,r)&&eM(t[r])&&eM(e[r])?wE(t[r],e[r]):t[r]=e[r])}function eM(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null}const Ja=(t,e)=>e.animation.enabled?MZ(t,e):Do(t,e);function Do(t,e){const r=t(e);return e.dom.redraw(),r}const Ob=(t,e)=>({key:t,pos:Xt(t),piece:e}),IZ=(t,e)=>e.sort((r,n)=>Gd(t.pos,r.pos)-Gd(t.pos,n.pos))[0];function PZ(t,e){const r=new Map,n=[],i=new Map,s=[],o=[],a=new Map;let l,u,d;for(const[f,p]of t)a.set(f,Ob(f,p));for(const f of mE)l=e.pieces.get(f),u=a.get(f),l?u?lw(l,u.piece)||(s.push(u),o.push(Ob(f,l))):o.push(Ob(f,l)):u&&s.push(u);for(const f of o)u=IZ(f,s.filter(p=>lw(f.piece,p.piece))),u&&(d=[u.pos[0]-f.pos[0],u.pos[1]-f.pos[1]],r.set(f.key,d.concat(d)),n.push(u.key));for(const f of s)n.includes(f.key)||i.set(f.key,f.piece);return{anims:r,fadings:i}}function ID(t,e){const r=t.animation.current;if(r===void 0){t.dom.destroyed||t.dom.redrawNow();return}const n=1-(e-r.start)*r.frequency;if(n<=0)t.animation.current=void 0,t.dom.redrawNow();else{const i=kZ(n);for(const s of r.plan.anims.values())s[2]=s[0]*i,s[3]=s[1]*i;t.dom.redrawNow(!0),requestAnimationFrame((s=performance.now())=>ID(t,s))}}function MZ(t,e){const r=new Map(e.pieces),n=t(e),i=PZ(r,e);if(i.anims.size||i.fadings.size){const s=e.animation.current&&e.animation.current.start;e.animation.current={start:performance.now(),frequency:1/e.animation.duration,plan:i},s||ID(e,performance.now())}else e.dom.redraw();return n}const kZ=t=>t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1,NZ=["green","red","blue","yellow"];function RZ(t,e){if(e.touches&&e.touches.length>1)return;e.stopPropagation(),e.preventDefault(),e.ctrlKey?ri(t):_E(t);const r=Bl(e),n=zl(r,yn(t),t.dom.bounds());n&&(t.drawable.current={orig:n,pos:r,brush:FZ(e),snapToValidMove:t.drawable.defaultSnapToValidMove},PD(t))}function PD(t){requestAnimationFrame(()=>{const e=t.drawable.current;if(e){const r=zl(e.pos,yn(t),t.dom.bounds());r||(e.snapToValidMove=!1);const n=e.snapToValidMove?EZ(e.orig,e.pos,yn(t),t.dom.bounds()):r;n!==e.mouseSq&&(e.mouseSq=n,e.dest=n!==e.orig?n:void 0,t.dom.redrawNow()),PD(t)}})}function OZ(t,e){t.drawable.current&&(t.drawable.current.pos=Bl(e))}function DZ(t){const e=t.drawable.current;e&&(e.mouseSq&&UZ(t.drawable,e),MD(t))}function MD(t){t.drawable.current&&(t.drawable.current=void 0,t.dom.redraw())}function LZ(t){t.drawable.shapes.length&&(t.drawable.shapes=[],t.dom.redraw(),kD(t.drawable))}function FZ(t){var e;const r=(t.shiftKey||t.ctrlKey)&&hD(t),n=t.altKey||t.metaKey||((e=t.getModifierState)===null||e===void 0?void 0:e.call(t,"AltGraph"));return NZ[(r?1:0)+(n?2:0)]}function UZ(t,e){const r=i=>i.orig===e.orig&&i.dest===e.dest,n=t.shapes.find(r);n&&(t.shapes=t.shapes.filter(i=>!r(i))),(!n||n.brush!==e.brush)&&t.shapes.push(e),kD(t)}function kD(t){t.onChange&&t.onChange(t.shapes)}function BZ(t,e){if(!e.isTrusted||e.button!==void 0&&e.button!==0||e.touches&&e.touches.length>1)return;const r=t.dom.bounds(),n=Bl(e),i=zl(n,yn(t),r);if(!i)return;const s=t.pieces.get(i),o=t.selected;!o&&t.drawable.enabled&&(t.drawable.eraseOnClick||!s||s.color!==t.turnColor)&&LZ(t),e.cancelable!==!1&&(!e.touches||t.blockTouchScroll||s||o||zZ(t,n))&&e.preventDefault();const a=!!t.premovable.current,l=!!t.predroppable.current;t.stats.ctrlKey=e.ctrlKey,t.selected&&bE(t,t.selected,i)?Ja(f=>uw(f,i),t):uw(t,i);const u=t.selected===i,d=RD(t,i);if(s&&d&&u&&_Z(t,i)){t.draggable.current={orig:i,piece:s,origPos:n,pos:n,started:t.draggable.autoDistance&&t.stats.dragged,element:d,previouslySelected:o,originTarget:e.target,keyHasChanged:!1},d.cgDragging=!0,d.classList.add("dragging");const f=t.dom.elements.ghost;f&&(f.className=`ghost ${s.color} ${s.role}`,as(f,mf(r)(Xt(i),yn(t))),vE(f,!0)),SE(t)}else a&&Ma(t),l&&ka(t);t.dom.redraw()}function zZ(t,e){const r=yn(t),n=t.dom.bounds(),i=Math.pow(n.width/8,2);for(const s of t.pieces.keys()){const o=dD(s,r,n);if(Gd(o,e)<=i)return!0}return!1}function jZ(t,e,r,n){const i="a0";t.pieces.set(i,e),t.dom.redraw();const s=Bl(r);t.draggable.current={orig:i,piece:e,origPos:s,pos:s,started:!0,element:()=>RD(t,i),originTarget:r.target,newPiece:!0,force:!!n,keyHasChanged:!1},SE(t)}function SE(t){requestAnimationFrame(()=>{var e;const r=t.draggable.current;if(!r)return;!((e=t.animation.current)===null||e===void 0)&&e.plan.anims.has(r.orig)&&(t.animation.current=void 0);const n=t.pieces.get(r.orig);if(!n||!lw(n,r.piece))E0(t);else if(!r.started&&Gd(r.pos,r.origPos)>=Math.pow(t.draggable.distance,2)&&(r.started=!0),r.started){if(typeof r.element=="function"){const s=r.element();if(!s)return;s.cgDragging=!0,s.classList.add("dragging"),r.element=s}const i=t.dom.bounds();as(r.element,[r.pos[0]-i.left-i.width/16,r.pos[1]-i.top-i.height/16]),r.keyHasChanged||(r.keyHasChanged=r.orig!==zl(r.pos,yn(t),i))}SE(t)})}function $Z(t,e){t.draggable.current&&(!e.touches||e.touches.length<2)&&(t.draggable.current.pos=Bl(e))}function GZ(t,e){const r=t.draggable.current;if(!r)return;if(e.type==="touchend"&&e.cancelable!==!1&&e.preventDefault(),e.type==="touchend"&&r.originTarget!==e.target&&!r.newPiece){t.draggable.current=void 0;return}Ma(t),ka(t);const n=Bl(e)||r.pos,i=zl(n,yn(t),t.dom.bounds());i&&r.started&&r.orig!==i?r.newPiece?_D(t,r.orig,i,r.force):(t.stats.ctrlKey=e.ctrlKey,xD(t,r.orig,i)&&(t.stats.dragged=!0)):r.newPiece?t.pieces.delete(r.orig):t.draggable.deleteOnDropOff&&!i&&(t.pieces.delete(r.orig),vn(t.events.change)),(r.orig===r.previouslySelected||r.keyHasChanged)&&(r.orig===i||!i)?ri(t):t.selectable.enabled||ri(t),ND(t),t.draggable.current=void 0,t.dom.redraw()}function E0(t){const e=t.draggable.current;e&&(e.newPiece&&t.pieces.delete(e.orig),t.draggable.current=void 0,ri(t),ND(t),t.dom.redraw())}function ND(t){const e=t.dom.elements;e.ghost&&vE(e.ghost,!1)}function RD(t,e){let r=t.dom.elements.board.firstChild;for(;r;){if(r.cgKey===e&&r.tagName==="PIECE")return r;r=r.nextSibling}}function HZ(t,e){t.exploding={stage:1,keys:e},t.dom.redraw(),setTimeout(()=>{tM(t,2),setTimeout(()=>tM(t,void 0),120)},120)}function tM(t,e){t.exploding&&(e?t.exploding.stage=e:t.exploding=void 0,t.dom.redraw())}function VZ(t,e){function r(){dZ(t),e()}return{set(n){n.orientation&&n.orientation!==t.orientation&&r(),AD(t,n),(n.fen?Ja:Do)(i=>CD(i,n),t)},state:t,getFen:()=>CZ(t.pieces),toggleOrientation:r,setPieces(n){Ja(i=>fZ(i,n),t)},selectSquare(n,i){n?Ja(s=>uw(s,n,i),t):t.selected&&(ri(t),t.dom.redraw())},move(n,i){Ja(s=>yD(s,n,i),t)},newPiece(n,i){Ja(s=>yE(s,n,i),t)},playPremove(){if(t.premovable.current){if(Ja(wZ,t))return!0;t.dom.redraw()}return!1},playPredrop(n){if(t.predroppable.current){const i=SZ(t,n);return t.dom.redraw(),i}return!1},cancelPremove(){Do(Ma,t)},cancelPredrop(){Do(ka,t)},cancelMove(){Do(n=>{_E(n),E0(n)},t)},stop(){Do(n=>{JP(n),E0(n)},t)},explode(n){HZ(t,n)},setAutoShapes(n){Do(i=>i.drawable.autoShapes=n,t)},setShapes(n){Do(i=>i.drawable.shapes=n,t)},getKeyAtDomPos(n){return zl(n,yn(t),t.dom.bounds())},redrawAll:e,dragNewPiece(n,i,s){jZ(t,n,i,s)},destroy(){JP(t),t.dom.unbind&&t.dom.unbind(),t.dom.destroyed=!0}}}function WZ(){return{pieces:TD(ED),orientation:"white",turnColor:"white",coordinates:!0,ranksPosition:"right",autoCastle:!0,viewOnly:!1,disableContextMenu:!1,addPieceZIndex:!1,blockTouchScroll:!1,pieceKey:!1,highlight:{lastMove:!0,check:!0},animation:{enabled:!0,duration:200},movable:{free:!0,color:"both",showDests:!0,events:{},rookCastle:!0},premovable:{enabled:!0,showDests:!0,castle:!0,events:{}},predroppable:{enabled:!1,events:{}},draggable:{enabled:!0,distance:3,autoDistance:!0,showGhost:!0,deleteOnDropOff:!1},dropmode:{active:!1},selectable:{enabled:!0},stats:{dragged:!("ontouchstart"in window)},events:{},drawable:{enabled:!0,visible:!0,defaultSnapToValidMove:!0,eraseOnClick:!0,shapes:[],autoShapes:[],brushes:{green:{key:"g",color:"#15781B",opacity:1,lineWidth:10},red:{key:"r",color:"#882020",opacity:1,lineWidth:10},blue:{key:"b",color:"#003088",opacity:1,lineWidth:10},yellow:{key:"y",color:"#e68f00",opacity:1,lineWidth:10},paleBlue:{key:"pb",color:"#003088",opacity:.4,lineWidth:15},paleGreen:{key:"pg",color:"#15781B",opacity:.4,lineWidth:15},paleRed:{key:"pr",color:"#882020",opacity:.4,lineWidth:15},paleGrey:{key:"pgr",color:"#4a4a4a",opacity:.35,lineWidth:15}},prevSvgHash:""},hold:lZ()}}function cw(t,e,r){const n=new Map,i=[];for(const a of t)n.set(a.hash,!1);let s=e.firstChild,o;for(;s;)o=s.getAttribute("cgHash"),n.has(o)?n.set(o,!0):i.push(s),s=s.nextSibling;for(const a of i)e.removeChild(a);for(const a of t)n.get(a.hash)||e.appendChild(r(a))}function wi(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function XZ(t,e,r){const n=t.drawable,i=n.current,s=i&&i.mouseSq?i:void 0,o=new Map,a=t.dom.bounds(),l=n.autoShapes.filter(v=>!v.piece);for(const v of n.shapes.concat(l).concat(s?[s]:[]))v.dest&&o.set(v.dest,(o.get(v.dest)||0)+1);const u=n.shapes.concat(l).map(v=>({shape:v,current:!1,hash:rM(v,o,!1,a)}));s&&u.push({shape:s,current:!0,hash:rM(s,o,!0,a)});const d=u.map(v=>v.hash).join(";");if(d===t.drawable.prevSvgHash)return;t.drawable.prevSvgHash=d;const f=e.querySelector("defs"),p=e.querySelector("g"),g=r.querySelector("g");qZ(n,u,f),cw(u.filter(v=>!v.shape.customSvg),p,v=>nM(t,v,n.brushes,o,a)),cw(u.filter(v=>v.shape.customSvg),g,v=>nM(t,v,n.brushes,o,a))}function qZ(t,e,r){const n=new Map;let i;for(const a of e)a.shape.dest&&(i=t.brushes[a.shape.brush],a.shape.modifiers&&(i=OD(i,a.shape.modifiers)),n.set(i.key,i));const s=new Set;let o=r.firstChild;for(;o;)s.add(o.getAttribute("cgKey")),o=o.nextSibling;for(const[a,l]of n.entries())s.has(a)||r.appendChild(tJ(l))}function rM({orig:t,dest:e,brush:r,piece:n,modifiers:i,customSvg:s},o,a,l){return[l.width,l.height,a,t,e,r,e&&(o.get(e)||0)>1,n&&YZ(n),i&&QZ(i),s&&KZ(s)].filter(u=>u).join(",")}function YZ(t){return[t.color,t.role,t.scale].filter(e=>e).join(",")}function QZ(t){return""+(t.lineWidth||"")}function KZ(t){let e=0;for(let r=0;r<t.length;r++)e=(e<<5)-e+t.charCodeAt(r)>>>0;return"custom-"+e.toString()}function nM(t,{shape:e,current:r,hash:n},i,s,o){let a;const l=iM(Xt(e.orig),t.orientation);if(e.customSvg)a=ZZ(e.customSvg,l,o);else if(e.dest){let u=i[e.brush];e.modifiers&&(u=OD(u,e.modifiers)),a=eJ(u,l,iM(Xt(e.dest),t.orientation),r,(s.get(e.dest)||0)>1,o)}else a=JZ(i[e.brush],l,r,o);return a.setAttribute("cgHash",n),a}function ZZ(t,e,r){const[n,i]=T0(e,r),s=ya(wi("g"),{transform:`translate(${n},${i})`}),o=ya(wi("svg"),{width:1,height:1,viewBox:"0 0 100 100"});return s.appendChild(o),o.innerHTML=t,s}function JZ(t,e,r,n){const i=T0(e,n),s=rJ(),o=(n.width+n.height)/(4*Math.max(n.width,n.height));return ya(wi("circle"),{stroke:t.color,"stroke-width":s[r?0:1],fill:"none",opacity:DD(t,r),cx:i[0],cy:i[1],r:o-s[1]/2})}function eJ(t,e,r,n,i,s){const o=iJ(i&&!n),a=T0(e,s),l=T0(r,s),u=l[0]-a[0],d=l[1]-a[1],f=Math.atan2(d,u),p=Math.cos(f)*o,g=Math.sin(f)*o;return ya(wi("line"),{stroke:t.color,"stroke-width":nJ(t,n),"stroke-linecap":"round","marker-end":"url(#arrowhead-"+t.key+")",opacity:DD(t,n),x1:a[0],y1:a[1],x2:l[0]-p,y2:l[1]-g})}function tJ(t){const e=ya(wi("marker"),{id:"arrowhead-"+t.key,orient:"auto",markerWidth:4,markerHeight:8,refX:2.05,refY:2.01});return e.appendChild(ya(wi("path"),{d:"M0,0 V4 L3,2 Z",fill:t.color})),e.setAttribute("cgKey",t.key),e}function ya(t,e){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.setAttribute(r,e[r]);return t}function iM(t,e){return e==="white"?t:[7-t[0],7-t[1]]}function OD(t,e){return{color:t.color,opacity:Math.round(t.opacity*10)/10,lineWidth:Math.round(e.lineWidth||t.lineWidth),key:[t.key,e.lineWidth].filter(r=>r).join("")}}function rJ(){return[3/64,4/64]}function nJ(t,e){return(t.lineWidth||10)*(e?.85:1)/64}function DD(t,e){return(t.opacity||1)*(e?.9:1)}function iJ(t){return(t?20:10)/64}function T0(t,e){const r=Math.min(1,e.width/e.height),n=Math.min(1,e.height/e.width);return[(t[0]-3.5)*r,(3.5-t[1])*n]}function sJ(t,e){t.innerHTML="",t.classList.add("cg-wrap");for(const l of sZ)t.classList.toggle("orientation-"+l,e.orientation===l);t.classList.toggle("manipulable",!e.viewOnly);const r=Hs("cg-container");t.appendChild(r);const n=Hs("cg-board");r.appendChild(n);let i,s,o;if(e.drawable.visible&&(i=ya(wi("svg"),{class:"cg-shapes",viewBox:"-4 -4 8 8",preserveAspectRatio:"xMidYMid slice"}),i.appendChild(wi("defs")),i.appendChild(wi("g")),s=ya(wi("svg"),{class:"cg-custom-svgs",viewBox:"-3.5 -3.5 8 8",preserveAspectRatio:"xMidYMid slice"}),s.appendChild(wi("g")),o=Hs("cg-auto-pieces"),r.appendChild(i),r.appendChild(s),r.appendChild(o)),e.coordinates){const l=e.orientation==="black"?" black":"",u=e.ranksPosition==="left"?" left":"";r.appendChild(sM(pE,"ranks"+l+u)),r.appendChild(sM(fE,"files"+l))}let a;return e.draggable.enabled&&e.draggable.showGhost&&(a=Hs("piece","ghost"),vE(a,!1),r.appendChild(a)),{board:n,container:r,wrap:t,ghost:a,svg:i,customSvg:s,autoPieces:o}}function sM(t,e){const r=Hs("coords",e);let n;for(const i of t)n=Hs("coord"),n.textContent=i,r.appendChild(n);return r}function oJ(t,e){if(!t.dropmode.active)return;Ma(t),ka(t);const r=t.dropmode.piece;if(r){t.pieces.set("a0",r);const n=Bl(e),i=n&&zl(n,yn(t),t.dom.bounds());i&&_D(t,"a0",i)}t.dom.redraw()}function aJ(t,e){const r=t.dom.elements.board;if("ResizeObserver"in window&&new ResizeObserver(e).observe(t.dom.elements.wrap),t.viewOnly)return;const n=uJ(t);r.addEventListener("touchstart",n,{passive:!1}),r.addEventListener("mousedown",n,{passive:!1}),(t.disableContextMenu||t.drawable.enabled)&&r.addEventListener("contextmenu",i=>i.preventDefault())}function lJ(t,e){const r=[];if("ResizeObserver"in window||r.push(Eh(document.body,"chessground.resize",e)),!t.viewOnly){const n=oM(t,$Z,OZ),i=oM(t,GZ,DZ);for(const o of["touchmove","mousemove"])r.push(Eh(document,o,n));for(const o of["touchend","mouseup"])r.push(Eh(document,o,i));const s=()=>t.dom.bounds.clear();r.push(Eh(document,"scroll",s,{capture:!0,passive:!0})),r.push(Eh(window,"resize",s,{passive:!0}))}return()=>r.forEach(n=>n())}function Eh(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}const uJ=t=>e=>{t.draggable.current?E0(t):t.drawable.current?MD(t):e.shiftKey||hD(e)?t.drawable.enabled&&RZ(t,e):t.viewOnly||(t.dropmode.active?oJ(t,e):BZ(t,e))},oM=(t,e,r)=>n=>{t.drawable.current?t.drawable.enabled&&r(t,n):t.viewOnly||e(t,n)};function cJ(t){const e=yn(t),r=mf(t.dom.bounds()),n=t.dom.elements.board,i=t.pieces,s=t.animation.current,o=s?s.plan.anims:new Map,a=s?s.plan.fadings:new Map,l=t.draggable.current,u=dJ(t),d=new Set,f=new Set,p=new Map,g=new Map;let v,b,E,w,S,_,A,P,N,L;for(b=n.firstChild;b;){if(v=b.cgKey,LD(b))if(E=i.get(v),S=o.get(v),_=a.get(v),w=b.cgPiece,b.cgDragging&&(!l||l.orig!==v)&&(b.classList.remove("dragging"),as(b,r(Xt(v),e)),b.cgDragging=!1),!_&&b.cgFading&&(b.cgFading=!1,b.classList.remove("fading")),E){if(S&&b.cgAnimating&&w===Th(E)){const k=Xt(v);k[0]+=S[2],k[1]+=S[3],b.classList.add("anim"),as(b,r(k,e))}else b.cgAnimating&&(b.cgAnimating=!1,b.classList.remove("anim"),as(b,r(Xt(v),e)),t.addPieceZIndex&&(b.style.zIndex=Db(Xt(v),e)));w===Th(E)&&(!_||!b.cgFading)?d.add(v):_&&w===Th(_)?(b.classList.add("fading"),b.cgFading=!0):Lb(p,w,b)}else Lb(p,w,b);else if(FD(b)){const k=b.className;u.get(v)===k?f.add(v):Lb(g,k,b)}b=b.nextSibling}for(const[k,q]of u)if(!f.has(k)){N=g.get(q),L=N&&N.pop();const H=r(Xt(k),e);if(L)L.cgKey=k,as(L,H);else{const Q=Hs("square",q);Q.cgKey=k,as(Q,H),n.insertBefore(Q,n.firstChild)}}for(const[k,q]of i)if(S=o.get(k),!d.has(k))if(A=p.get(Th(q)),P=A&&A.pop(),P){P.cgKey=k,P.cgFading&&(P.classList.remove("fading"),P.cgFading=!1);const H=Xt(k);t.addPieceZIndex&&(P.style.zIndex=Db(H,e)),S&&(P.cgAnimating=!0,P.classList.add("anim"),H[0]+=S[2],H[1]+=S[3]),as(P,r(H,e))}else{const H=Th(q),Q=Hs("piece",H),G=Xt(k);Q.cgPiece=H,Q.cgKey=k,S&&(Q.cgAnimating=!0,G[0]+=S[2],G[1]+=S[3]),as(Q,r(G,e)),t.addPieceZIndex&&(Q.style.zIndex=Db(G,e)),n.appendChild(Q)}for(const k of p.values())lM(t,k);for(const k of g.values())lM(t,k)}function hJ(t){const e=yn(t),r=mf(t.dom.bounds());let n=t.dom.elements.board.firstChild;for(;n;)(LD(n)&&!n.cgAnimating||FD(n))&&as(n,r(Xt(n.cgKey),e)),n=n.nextSibling}function aM(t){var e,r;const n=t.dom.elements.wrap.getBoundingClientRect(),i=t.dom.elements.container,s=n.height/n.width,o=Math.floor(n.width*window.devicePixelRatio/8)*8/window.devicePixelRatio,a=o*s;i.style.width=o+"px",i.style.height=a+"px",t.dom.bounds.clear(),(e=t.addDimensionsCssVarsTo)===null||e===void 0||e.style.setProperty("--cg-width",o+"px"),(r=t.addDimensionsCssVarsTo)===null||r===void 0||r.style.setProperty("--cg-height",a+"px")}const LD=t=>t.tagName==="PIECE",FD=t=>t.tagName==="SQUARE";function lM(t,e){for(const r of e)t.dom.elements.board.removeChild(r)}function Db(t,e){const n=t[1];return`${e?3+7-n:3+n}`}const Th=t=>`${t.color} ${t.role}`;function dJ(t){var e;const r=new Map;if(t.lastMove&&t.highlight.lastMove)for(const s of t.lastMove)ko(r,s,"last-move");if(t.check&&t.highlight.check&&ko(r,t.check,"check"),t.selected&&(ko(r,t.selected,"selected"),t.movable.showDests)){const s=(e=t.movable.dests)===null||e===void 0?void 0:e.get(t.selected);if(s)for(const a of s)ko(r,a,"move-dest"+(t.pieces.has(a)?" oc":""));const o=t.premovable.dests;if(o)for(const a of o)ko(r,a,"premove-dest"+(t.pieces.has(a)?" oc":""))}const n=t.premovable.current;if(n)for(const s of n)ko(r,s,"current-premove");else t.predroppable.current&&ko(r,t.predroppable.current.key,"current-premove");const i=t.exploding;if(i)for(const s of i.keys)ko(r,s,"exploding"+i.stage);return r}function ko(t,e,r){const n=t.get(e);n?t.set(e,`${n} ${r}`):t.set(e,r)}function Lb(t,e,r){const n=t.get(e);n?n.push(r):t.set(e,[r])}function fJ(t,e){const n=t.drawable.autoShapes.filter(i=>i.piece).map(i=>({shape:i,hash:gJ(i),current:!1}));cw(n,e,i=>mJ(t,i,t.dom.bounds()))}function pJ(t){var e;const r=yn(t),n=mf(t.dom.bounds());let i=(e=t.dom.elements.autoPieces)===null||e===void 0?void 0:e.firstChild;for(;i;)cD(i,n(Xt(i.cgKey),r),i.cgScale),i=i.nextSibling}function mJ(t,{shape:e,hash:r},n){var i,s,o;const a=e.orig,l=(i=e.piece)===null||i===void 0?void 0:i.role,u=(s=e.piece)===null||s===void 0?void 0:s.color,d=(o=e.piece)===null||o===void 0?void 0:o.scale,f=Hs("piece",`${l} ${u}`);return f.setAttribute("cgHash",r),f.cgKey=a,f.cgScale=d,cD(f,mf(n)(Xt(a),yn(t)),d),f}const gJ=t=>{var e,r,n;return[t.orig,(e=t.piece)===null||e===void 0?void 0:e.role,(r=t.piece)===null||r===void 0?void 0:r.color,(n=t.piece)===null||n===void 0?void 0:n.scale].join(",")};function vJ(t,e){const r=WZ();CD(r,e||{});function n(){const i="dom"in r?r.dom.unbind:void 0,s=sJ(t,r),o=aZ(()=>s.board.getBoundingClientRect()),a=d=>{cJ(u),s.autoPieces&&fJ(u,s.autoPieces),!d&&s.svg&&XZ(u,s.svg,s.customSvg)},l=()=>{aM(u),hJ(u),s.autoPieces&&pJ(u)},u=r;return u.dom={elements:s,bounds:o,redraw:yJ(a),redrawNow:a,unbind:i},u.drawable.prevSvgHash="",aM(u),a(!1),aJ(u,l),i||(u.dom.unbind=lJ(u,l)),u.events.insert&&u.events.insert(s),u}return VZ(n(),n)}function yJ(t){let e=!1;return()=>{e||(e=!0,requestAnimationFrame(()=>{t(),e=!1}))}}var hw=globalThis&&globalThis.__assign||function(){return hw=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},hw.apply(this,arguments)};function UD(t){var e=t.width,r=e===void 0?900:e,n=t.height,i=n===void 0?900:n,s=t.config,o=s===void 0?{}:s,a=t.contained,l=a===void 0?!1:a,u=O.useState(null),d=u[0],f=u[1],p=O.useRef(null);return O.useEffect(function(){if(p&&p.current&&!d){var g=vJ(p.current,hw({animation:{enabled:!0,duration:200}},o));f(g)}else p&&p.current&&d&&d.set(o)},[p]),O.useEffect(function(){d==null||d.set(o)},[d,o]),de.createElement("div",{style:{height:l?"100%":i,width:l?"100%":r}},de.createElement("div",{ref:p,style:{height:"100%",width:"100%",display:"table"}}))}let dm;const bJ=new Uint8Array(16);function xJ(){if(!dm&&(dm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!dm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return dm(bJ)}const Er=[];for(let t=0;t<256;++t)Er.push((t+256).toString(16).slice(1));function _J(t,e=0){return Er[t[e+0]]+Er[t[e+1]]+Er[t[e+2]]+Er[t[e+3]]+"-"+Er[t[e+4]]+Er[t[e+5]]+"-"+Er[t[e+6]]+Er[t[e+7]]+"-"+Er[t[e+8]]+Er[t[e+9]]+"-"+Er[t[e+10]]+Er[t[e+11]]+Er[t[e+12]]+Er[t[e+13]]+Er[t[e+14]]+Er[t[e+15]]}const wJ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),uM={randomUUID:wJ};function SJ(t,e,r){if(uM.randomUUID&&!e&&!t)return uM.randomUUID();t=t||{};const n=t.random||(t.rng||xJ)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return _J(n)}const EJ="/chatting",TJ="/chatting/pair/",BD={getConversations(){return Si.get(EJ)},async getConversationChat(t,e,r){return t?Si.get(TJ+t+`?page=${e}&size=${r}`):[]}},AJ={startChat:()=>null,conversations:[],state:si.ReadyState.CONNECTING,sendMessage:()=>null,onMessage:()=>null},zD=O.createContext(AJ),jD=({children:t})=>{const[e,r]=O.useState(""),[n,i]=O.useState([]),s=O.useMemo(()=>pc.chat(e),[e]),o=uf(s),a=o.readyState,l=O.useMemo(()=>new Map,[]),u=p=>{r(p),BD.getConversations().then(g=>{i(g.data)})},d=(p,g)=>{o.sendJsonMessage({content:p,senderId:Tl().id,receiverId:g})},f=(p,g)=>{if(l.has(p)){const v=l.get(p);v.indexOf(g)==-1&&(v==null||v.push(g))}else l.set(p,[g])};return O.useEffect(()=>{console.log(o.lastJsonMessage);const p=o.lastJsonMessage;if(!p)return;p.isFromUser=p.senderId==Tl().id;const g=l.get(p.senderId.toString());g==null||g.forEach(E=>E.call(void 0,p));const v=l.get(p.receiverId.toString());v==null||v.forEach(E=>E.call(void 0,p));const b=n.findIndex(E=>E.id==p.senderId||E.id==p.receiverId);if(b!=-1){const E=n[b],w=[...n];w.splice(b,1),E.message=p,w.unshift(E),i(w)}},[o.lastJsonMessage]),C(zD.Provider,{value:{startChat:u,conversations:n,state:a,sendMessage:d,onMessage:f},children:t})},EE=()=>{const t=O.useContext(zD);if(t===void 0)throw new Error("useChat must be used within GameProvider");return t};function cM(t){return t.profile?J(st,{children:[C(Pr,{to:`/profile/${t.profile.id}`,target:"_blank",className:"avatar btn btn-circle btn-ghost w-12 h-12",children:C("img",{className:"rounded-full",alt:"Tailwind CSS Navbar component",src:t.profile.avatarUrl??"https://daisyui.com/images/stock/photo-1534528741775-53994a69daeb.jpg"})}),J("div",{className:"flex-1 flex flex-col items-start justify-evenly gap-2 max-w-[calc(70%)]",children:[J("span",{className:"text-base-content font-bold",children:[t.profile.displayName," (",t.role,")"]}),C("span",{className:"text-base-content",children:t.profile.elo})]})]}):J(st,{children:[C("div",{className:"rounded-full skeleton btn btn-circle btn-ghost w-12 h-12"}),J("div",{className:"flex-1 flex flex-col items-start justify-evenly gap-2 max-w-[calc(70%)]",children:[C("div",{className:"skeleton h-4 w-32"}),C("div",{className:"skeleton h-4 w-16"})]})]})}function CJ(){const t=dE();return C("dialog",{id:"promotionModal",className:"modal",children:J("div",{className:"modal-box",children:[C("h3",{className:"font-bold text-lg",children:"Promotion"}),C("p",{className:"py-4",children:"Choose one of the following piece"}),J("form",{method:"dialog",children:[J("div",{className:"w-full flex justify-evenly gap-5",children:[C("button",{className:"btn btn-primary flex-1",onClick:()=>t.promote("q"),children:"Queen"}),C("button",{className:"btn btn-primary flex-1",onClick:()=>t.promote("n"),children:"Knight"}),C("button",{className:"btn btn-primary flex-1",onClick:()=>t.promote("b"),children:"Bishop"}),C("button",{className:"btn btn-primary flex-1",onClick:()=>t.promote("r"),children:"Rook"})]}),C("button",{className:"btn modal-action",onClick:()=>t.promote(),children:"Cancel"})]})]})})}function IJ(t){const e=dE();return C("dialog",{id:"resultModal",className:"modal",children:J("div",{className:"modal-box",children:[C("h3",{className:"font-bold text-lg text-center",children:"Game ended"}),C("p",{className:kt("text-center text-6xl font-bold py-12",{"text-info":e.result==Fs.WIN,"text-error":e.result==Fs.LOSE,"text-accent":e.result==Fs.DRAW,"text-base-content":e.result==Fs.UNKNOWN}),children:e.result==Fs.WIN?"WIN":e.result==Fs.LOSE?"LOSE":e.result==Fs.DRAW?"DRAW":"IDK"}),C("form",{method:"dialog",children:J("div",{className:"w-full flex justify-evenly gap-5",children:[C("button",{className:"btn btn-primary flex-1 text-lg",onClick:t.onReplay,children:"Play again"}),C("button",{className:"btn flex-1 text-lg",onClick:t.onExit,children:"Exit"})]})})]})})}function PJ(t){var n;const r=(n=sf(["profile",t.senderId],()=>Ic.getProfile(t.senderId)).data)==null?void 0:n.data;return J("div",{className:kt("flex gap-5 chat",{"self-start chat-start":t.side=="left","self-end chat-end":t.side=="right"}),children:[t.side=="left"?C(st,{children:r?C(Pr,{to:`/profile/${r==null?void 0:r.id}`,target:"_blank",className:"avatar chat-image btn btn-circle btn-ghost",children:C("img",{className:"w-10 rounded-full",alt:"Tailwind CSS Navbar component",src:(r==null?void 0:r.avatarUrl)??"https://daisyui.com/images/stock/photo-1534528741775-53994a69daeb.jpg"})}):C("div",{className:"rounded-full skeleton btn btn-circle btn-ghost w-12 h-12"})}):C(st,{}),C("div",{className:kt("chat-bubble",{"chat-bubble-primary":t.side=="right"}),children:t.message})]})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var dw=function(t,e){return dw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},dw(t,e)};function MJ(t,e){dw(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ld=function(){return ld=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ld.apply(this,arguments)};function kJ(t,e,r,n){var i,s=!1,o=0;function a(){i&&clearTimeout(i)}function l(){a(),s=!0}typeof e!="boolean"&&(n=r,r=e,e=void 0);function u(){var d=this,f=Date.now()-o,p=arguments;if(s)return;function g(){o=Date.now(),r.apply(d,p)}function v(){i=void 0}n&&!i&&g(),a(),n===void 0&&f>t?g():e!==!0&&(i=setTimeout(n?v:g,n===void 0?t-f:t))}return u.cancel=l,u}var nc={Pixel:"Pixel",Percent:"Percent"},hM={unit:nc.Percent,value:.8};function dM(t){return typeof t=="number"?{unit:nc.Percent,value:t*100}:typeof t=="string"?t.match(/^(\d*(\.\d+)?)px$/)?{unit:nc.Pixel,value:parseFloat(t)}:t.match(/^(\d*(\.\d+)?)%$/)?{unit:nc.Percent,value:parseFloat(t)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),hM):(console.warn("scrollThreshold should be string or number"),hM)}var NJ=function(t){MJ(e,t);function e(r){var n=t.call(this,r)||this;return n.lastScrollTop=0,n.actionTriggered=!1,n.startY=0,n.currentY=0,n.dragging=!1,n.maxPullDownDistance=0,n.getScrollableTarget=function(){return n.props.scrollableTarget instanceof HTMLElement?n.props.scrollableTarget:typeof n.props.scrollableTarget=="string"?document.getElementById(n.props.scrollableTarget):(n.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},n.onStart=function(i){n.lastScrollTop||(n.dragging=!0,i instanceof MouseEvent?n.startY=i.pageY:i instanceof TouchEvent&&(n.startY=i.touches[0].pageY),n.currentY=n.startY,n._infScroll&&(n._infScroll.style.willChange="transform",n._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},n.onMove=function(i){n.dragging&&(i instanceof MouseEvent?n.currentY=i.pageY:i instanceof TouchEvent&&(n.currentY=i.touches[0].pageY),!(n.currentY<n.startY)&&(n.currentY-n.startY>=Number(n.props.pullDownToRefreshThreshold)&&n.setState({pullToRefreshThresholdBreached:!0}),!(n.currentY-n.startY>n.maxPullDownDistance*1.5)&&n._infScroll&&(n._infScroll.style.overflow="visible",n._infScroll.style.transform="translate3d(0px, "+(n.currentY-n.startY)+"px, 0px)")))},n.onEnd=function(){n.startY=0,n.currentY=0,n.dragging=!1,n.state.pullToRefreshThresholdBreached&&(n.props.refreshFunction&&n.props.refreshFunction(),n.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){n._infScroll&&(n._infScroll.style.overflow="auto",n._infScroll.style.transform="none",n._infScroll.style.willChange="unset")})},n.onScrollListener=function(i){typeof n.props.onScroll=="function"&&setTimeout(function(){return n.props.onScroll&&n.props.onScroll(i)},0);var s=n.props.height||n._scrollableNode?i.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!n.actionTriggered){var o=n.props.inverse?n.isElementAtTop(s,n.props.scrollThreshold):n.isElementAtBottom(s,n.props.scrollThreshold);o&&n.props.hasMore&&(n.actionTriggered=!0,n.setState({showLoader:!0}),n.props.next&&n.props.next()),n.lastScrollTop=s.scrollTop}},n.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:r.dataLength},n.throttledOnScrollListener=kJ(150,n.onScrollListener).bind(n),n.onStart=n.onStart.bind(n),n.onMove=n.onMove.bind(n),n.onEnd=n.onEnd.bind(n),n}return e.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},e.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},e.prototype.componentDidUpdate=function(r){this.props.dataLength!==r.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},e.getDerivedStateFromProps=function(r,n){var i=r.dataLength!==n.prevDataLength;return i?ld(ld({},n),{prevDataLength:r.dataLength}):null},e.prototype.isElementAtTop=function(r,n){n===void 0&&(n=.8);var i=r===document.body||r===document.documentElement?window.screen.availHeight:r.clientHeight,s=dM(n);return s.unit===nc.Pixel?r.scrollTop<=s.value+i-r.scrollHeight+1:r.scrollTop<=s.value/100+i-r.scrollHeight+1},e.prototype.isElementAtBottom=function(r,n){n===void 0&&(n=.8);var i=r===document.body||r===document.documentElement?window.screen.availHeight:r.clientHeight,s=dM(n);return s.unit===nc.Pixel?r.scrollTop+i>=r.scrollHeight-s.value:r.scrollTop+i>=s.value/100*r.scrollHeight},e.prototype.render=function(){var r=this,n=ld({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),i=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),s=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return de.createElement("div",{style:s,className:"infinite-scroll-component__outerdiv"},de.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(o){return r._infScroll=o},style:n},this.props.pullDownToRefresh&&de.createElement("div",{style:{position:"relative"},ref:function(o){return r._pullDown=o}},de.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!i&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},e}(O.Component);const fM=async(t,e)=>{const r=await BD.getConversationChat(t??"",e,32);if(!r)return[];const n=r.data;if(e>n.totalPages)return[];const i=n.messages;return i.map(s=>{s.isFromUser=s.senderId!=t}),i.reverse()};function RJ(){return C(st,{children:J("div",{className:"w-full h-fit flex flex-col items-center",children:[C("span",{className:"text-base-content",children:"You can now chat with each other"}),C("span",{className:"text-base-content font-bold",children:"Say hi"})]})})}function $D(t){var w;const{id:e}=Ac(),r=e??((w=t.id)==null?void 0:w.toString())??"",[n,i]=O.useState(void 0),[s,o]=O.useState([]),a=O.useRef(),[l,u]=O.useState(""),d=EE(),[f,p]=O.useState(1),[g,v]=O.useState(!1);O.useEffect(()=>{r!=n?(p(1),v(!1),i(r),f==1?fM(r,1).then(S=>{o(S)}):o([])):fM(r,f).then(S=>{S.length?o(s.concat(S)):v(!0)})},[r,f]),a.current=s,O.useEffect(()=>{a.current=s},[r,s]),O.useEffect(()=>{d.state!=si.ReadyState.OPEN?(console.log("Starting chat"),d.startChat(eo())):(console.log("Registered"),d.onMessage(r,S=>{o([S].concat(a.current))}))},[r,d.state]);const b=S=>{S.preventDefault(),l&&(d.sendMessage(l,r),u(""))},E=()=>{p(f+1)};return r?d.state!=si.ReadyState.OPEN?C(st,{children:J("div",{className:"w-full h-full flex flex-col justify-center items-center",children:[C("span",{className:"loading loading-spinner loading-lg"}),C("span",{className:"text-base-content font-bold text-xl",children:"Connecting to server..."})]})}):C(st,{children:J("div",{className:"w-full h-full flex flex-col",children:[C("div",{id:"chatBoxContainer",className:"flex-1 flex flex-col-reverse overflow-y-auto ",children:C(NJ,{className:"p-5",dataLength:s.length,next:E,style:{display:"flex",flexDirection:"column-reverse"},inverse:!0,hasMore:!g,loader:C("div",{className:"flex w-full justify-center",children:C("span",{className:"loading loading-lg loading-dots"})}),endMessage:C(RJ,{}),scrollableTarget:"chatBoxContainer",children:s.map(S=>C(PJ,{side:S.isFromUser?"right":"left",message:S.content,senderId:S.senderId},S.id))})}),J("form",{className:"w-full flex p-2 gap-2",onSubmit:b,children:[C("input",{className:"input input-bordered input-primary w-full",type:"text",value:l,onChange:S=>{u(S.target.value)}}),C("button",{className:"btn btn-circle btn-active btn-primary text-xl text-white",type:"submit",children:C($8,{})})]})]})}):C(st,{children:C("div",{className:"w-full h-full flex flex-col justify-center items-center",children:C("span",{className:"text-base-content font-bold text-xl",children:"Click on a conversation to start chatting"})})})}function OJ(t){const e=EE(),[r,n]=O.useState(0),i=O.useRef(r),s=()=>{n(0),document.getElementById("chatModal").showModal()};if(O.useEffect(()=>{t.id&&e.onMessage(t.id.toString(),o)},[t.id]),!t.id)return C(st,{children:C("div",{className:"rounded-full skeleton w-12 h-12"})});i.current=r;const o=a=>{a.isFromUser||n(i.current+1)};return J(st,{children:[r>0?C("div",{className:"absolute w-5 h-5 rounded-full bg-accent text-accent-content flex items-center justify-center font-bold text-sm",children:r}):C(st,{}),C("button",{className:"btn btn-circle btn-info text-xl w-12 h-12",onClick:s,children:C(jR,{})}),J("dialog",{id:"chatModal",className:"modal",children:[C("div",{className:"modal-box h-2/3",children:C($D,{id:t.id})}),C("form",{method:"dialog",className:"modal-backdrop",children:C("button",{children:"close"})})]})]})}const pM={WHITE_PAWN:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NSIgaGVpZ2h0PSI0NSI+PHBhdGggZD0iTTIyLjUgOWMtMi4yMSAwLTQgMS43OS00IDQgMCAuODkuMjkgMS43MS43OCAyLjM4QzE3LjMzIDE2LjUgMTYgMTguNTkgMTYgMjFjMCAyLjAzLjk0IDMuODQgMi40MSA1LjAzLTMgMS4wNi03LjQxIDUuNTUtNy40MSAxMy40N2gyM2MwLTcuOTItNC40MS0xMi40MS03LjQxLTEzLjQ3IDEuNDctMS4xOSAyLjQxLTMgMi40MS01LjAzIDAtMi40MS0xLjMzLTQuNS0zLjI4LTUuNjIuNDktLjY3Ljc4LTEuNDkuNzgtMi4zOCAwLTIuMjEtMS43OS00LTQtNHoiIGZpbGw9IiNmZmYiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPjwvc3ZnPg==",WHITE_BISHOP:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NSIgaGVpZ2h0PSI0NSI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxnIGZpbGw9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJidXR0Ij48cGF0aCBkPSJNOSAzNmMzLjM5LS45NyAxMC4xMS40MyAxMy41LTIgMy4zOSAyLjQzIDEwLjExIDEuMDMgMTMuNSAyIDAgMCAxLjY1LjU0IDMgMi0uNjguOTctMS42NS45OS0zIC41LTMuMzktLjk3LTEwLjExLjQ2LTEzLjUtMS0zLjM5IDEuNDYtMTAuMTEuMDMtMTMuNSAxLTEuMzU0LjQ5LTIuMzIzLjQ3LTMtLjUgMS4zNTQtMS45NCAzLTIgMy0yeiIvPjxwYXRoIGQ9Ik0xNSAzMmMyLjUgMi41IDEyLjUgMi41IDE1IDAgLjUtMS41IDAtMiAwLTIgMC0yLjUtMi41LTQtMi41LTQgNS41LTEuNSA2LTExLjUtNS0xNS41LTExIDQtMTAuNSAxNC01IDE1LjUgMCAwLTIuNSAxLjUtMi41IDQgMCAwLS41LjUgMCAyeiIvPjxwYXRoIGQ9Ik0yNSA4YTIuNSAyLjUgMCAxIDEtNSAwIDIuNSAyLjUgMCAxIDEgNSAweiIvPjwvZz48cGF0aCBkPSJNMTcuNSAyNmgxME0xNSAzMGgxNW0tNy41LTE0LjV2NU0yMCAxOGg1IiBzdHJva2UtbGluZWpvaW49Im1pdGVyIi8+PC9nPjwvc3ZnPg==",WHITE_KNIGHT:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NSIgaGVpZ2h0PSI0NSI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwYXRoIGQ9Ik0yMiAxMGMxMC41IDEgMTYuNSA4IDE2IDI5SDE1YzAtOSAxMC02LjUgOC0yMSIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0yNCAxOGMuMzggMi45MS01LjU1IDcuMzctOCA5LTMgMi0yLjgyIDQuMzQtNSA0LTEuMDQyLS45NCAxLjQxLTMuMDQgMC0zLTEgMCAuMTkgMS4yMy0xIDItMSAwLTQuMDAzIDEtNC00IDAtMiA2LTEyIDYtMTJzMS44OS0xLjkgMi0zLjVjLS43My0uOTk0LS41LTItLjUtMyAxLTEgMyAyLjUgMyAyLjVoMnMuNzgtMS45OTIgMi41LTNjMSAwIDEgMyAxIDMiIGZpbGw9IiNmZmYiLz48cGF0aCBkPSJNOS41IDI1LjVhLjUuNSAwIDEgMS0xIDAgLjUuNSAwIDEgMSAxIDB6bTUuNDMzLTkuNzVhLjUgMS41IDMwIDEgMS0uODY2LS41LjUgMS41IDMwIDEgMSAuODY2LjV6IiBmaWxsPSIjMDAwIi8+PC9nPjwvc3ZnPg==",WHITE_ROOK:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NSIgaGVpZ2h0PSI0NSI+PGcgZmlsbD0iI2ZmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwYXRoIGQ9Ik05IDM5aDI3di0zSDl2M3ptMy0zdi00aDIxdjRIMTJ6bS0xLTIyVjloNHYyaDVWOWg1djJoNVY5aDR2NSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiLz48cGF0aCBkPSJNMzQgMTRsLTMgM0gxNGwtMy0zIi8+PHBhdGggZD0iTTMxIDE3djEyLjVIMTRWMTciIHN0cm9rZS1saW5lY2FwPSJidXR0IiBzdHJva2UtbGluZWpvaW49Im1pdGVyIi8+PHBhdGggZD0iTTMxIDI5LjVsMS41IDIuNWgtMjBsMS41LTIuNSIvPjxwYXRoIGQ9Ik0xMSAxNGgyMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIvPjwvZz48L3N2Zz4=",WHITE_QUEEN:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NSIgaGVpZ2h0PSI0NSI+PGcgZmlsbD0iI2ZmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwYXRoIGQ9Ik04IDEyYTIgMiAwIDEgMS00IDAgMiAyIDAgMSAxIDQgMHptMTYuNS00LjVhMiAyIDAgMSAxLTQgMCAyIDIgMCAxIDEgNCAwek00MSAxMmEyIDIgMCAxIDEtNCAwIDIgMiAwIDEgMSA0IDB6TTE2IDguNWEyIDIgMCAxIDEtNCAwIDIgMiAwIDEgMSA0IDB6TTMzIDlhMiAyIDAgMSAxLTQgMCAyIDIgMCAxIDEgNCAweiIvPjxwYXRoIGQ9Ik05IDI2YzguNS0xLjUgMjEtMS41IDI3IDBsMi0xMi03IDExVjExbC01LjUgMTMuNS0zLTE1LTMgMTUtNS41LTE0VjI1TDcgMTRsMiAxMnoiIHN0cm9rZS1saW5lY2FwPSJidXR0Ii8+PHBhdGggZD0iTTkgMjZjMCAyIDEuNSAyIDIuNSA0IDEgMS41IDEgMSAuNSAzLjUtMS41IDEtMS41IDIuNS0xLjUgMi41LTEuNSAxLjUuNSAyLjUuNSAyLjUgNi41IDEgMTYuNSAxIDIzIDAgMCAwIDEuNS0xIDAtMi41IDAgMCAuNS0xLjUtMS0yLjUtLjUtMi41LS41LTIgLjUtMy41IDEtMiAyLjUtMiAyLjUtNC04LjUtMS41LTE4LjUtMS41LTI3IDB6IiBzdHJva2UtbGluZWNhcD0iYnV0dCIvPjxwYXRoIGQ9Ik0xMS41IDMwYzMuNS0xIDE4LjUtMSAyMiAwTTEyIDMzLjVjNi0xIDE1LTEgMjEgMCIgZmlsbD0ibm9uZSIvPjwvZz48L3N2Zz4=",WHITE_KING:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NSIgaGVpZ2h0PSI0NSI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwYXRoIGQ9Ik0yMi41IDExLjYzVjZNMjAgOGg1IiBzdHJva2UtbGluZWpvaW49Im1pdGVyIi8+PHBhdGggZD0iTTIyLjUgMjVzNC41LTcuNSAzLTEwLjVjMCAwLTEtMi41LTMtMi41cy0zIDIuNS0zIDIuNWMtMS41IDMgMyAxMC41IDMgMTAuNSIgZmlsbD0iI2ZmZiIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiLz48cGF0aCBkPSJNMTEuNSAzN2M1LjUgMy41IDE1LjUgMy41IDIxIDB2LTdzOS00LjUgNi0xMC41Yy00LTYuNS0xMy41LTMuNS0xNiA0VjI3di0zLjVjLTMuNS03LjUtMTMtMTAuNS0xNi00LTMgNiA1IDEwIDUgMTBWMzd6IiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjUgMzBjNS41LTMgMTUuNS0zIDIxIDBtLTIxIDMuNWM1LjUtMyAxNS41LTMgMjEgMG0tMjEgMy41YzUuNS0zIDE1LjUtMyAyMSAwIi8+PC9nPjwvc3ZnPg==",BLACK_PAWN:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NSIgaGVpZ2h0PSI0NSI+PHBhdGggZD0iTTIyLjUgOWMtMi4yMSAwLTQgMS43OS00IDQgMCAuODkuMjkgMS43MS43OCAyLjM4QzE3LjMzIDE2LjUgMTYgMTguNTkgMTYgMjFjMCAyLjAzLjk0IDMuODQgMi40MSA1LjAzLTMgMS4wNi03LjQxIDUuNTUtNy40MSAxMy40N2gyM2MwLTcuOTItNC40MS0xMi40MS03LjQxLTEzLjQ3IDEuNDctMS4xOSAyLjQxLTMgMi40MS01LjAzIDAtMi40MS0xLjMzLTQuNS0zLjI4LTUuNjIuNDktLjY3Ljc4LTEuNDkuNzgtMi4zOCAwLTIuMjEtMS43OS00LTQtNHoiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPjwvc3ZnPg==",BLACK_BISHOP:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NSIgaGVpZ2h0PSI0NSI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxnIGZpbGw9IiMwMDAiIHN0cm9rZS1saW5lY2FwPSJidXR0Ij48cGF0aCBkPSJNOSAzNmMzLjM5LS45NyAxMC4xMS40MyAxMy41LTIgMy4zOSAyLjQzIDEwLjExIDEuMDMgMTMuNSAyIDAgMCAxLjY1LjU0IDMgMi0uNjguOTctMS42NS45OS0zIC41LTMuMzktLjk3LTEwLjExLjQ2LTEzLjUtMS0zLjM5IDEuNDYtMTAuMTEuMDMtMTMuNSAxLTEuMzU0LjQ5LTIuMzIzLjQ3LTMtLjUgMS4zNTQtMS45NCAzLTIgMy0yeiIvPjxwYXRoIGQ9Ik0xNSAzMmMyLjUgMi41IDEyLjUgMi41IDE1IDAgLjUtMS41IDAtMiAwLTIgMC0yLjUtMi41LTQtMi41LTQgNS41LTEuNSA2LTExLjUtNS0xNS41LTExIDQtMTAuNSAxNC01IDE1LjUgMCAwLTIuNSAxLjUtMi41IDQgMCAwLS41LjUgMCAyeiIvPjxwYXRoIGQ9Ik0yNSA4YTIuNSAyLjUgMCAxIDEtNSAwIDIuNSAyLjUgMCAxIDEgNSAweiIvPjwvZz48cGF0aCBkPSJNMTcuNSAyNmgxME0xNSAzMGgxNW0tNy41LTE0LjV2NU0yMCAxOGg1IiBzdHJva2U9IiNlY2VjZWMiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiLz48L2c+PC9zdmc+",BLACK_KNIGHT:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NSIgaGVpZ2h0PSI0NSI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwYXRoIGQ9Ik0yMiAxMGMxMC41IDEgMTYuNSA4IDE2IDI5SDE1YzAtOSAxMC02LjUgOC0yMSIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik0yNCAxOGMuMzggMi45MS01LjU1IDcuMzctOCA5LTMgMi0yLjgyIDQuMzQtNSA0LTEuMDQyLS45NCAxLjQxLTMuMDQgMC0zLTEgMCAuMTkgMS4yMy0xIDItMSAwLTQuMDAzIDEtNC00IDAtMiA2LTEyIDYtMTJzMS44OS0xLjkgMi0zLjVjLS43My0uOTk0LS41LTItLjUtMyAxLTEgMyAyLjUgMyAyLjVoMnMuNzgtMS45OTIgMi41LTNjMSAwIDEgMyAxIDMiIGZpbGw9IiMwMDAiLz48cGF0aCBkPSJNOS41IDI1LjVhLjUuNSAwIDEgMS0xIDAgLjUuNSAwIDEgMSAxIDB6bTUuNDMzLTkuNzVhLjUgMS41IDMwIDEgMS0uODY2LS41LjUgMS41IDMwIDEgMSAuODY2LjV6IiBmaWxsPSIjZWNlY2VjIiBzdHJva2U9IiNlY2VjZWMiLz48cGF0aCBkPSJNMjQuNTUgMTAuNGwtLjQ1IDEuNDUuNS4xNWMzLjE1IDEgNS42NSAyLjQ5IDcuOSA2Ljc1UzM1Ljc1IDI5LjA2IDM1LjI1IDM5bC0uMDUuNWgyLjI1bC4wNS0uNWMuNS0xMC4wNi0uODgtMTYuODUtMy4yNS0yMS4zNC0yLjM3LTQuNDktNS43OS02LjY0LTkuMTktNy4xNmwtLjUxLS4xeiIgZmlsbD0iI2VjZWNlYyIgc3Ryb2tlPSJub25lIi8+PC9nPjwvc3ZnPg==",BLACK_ROOK:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NSIgaGVpZ2h0PSI0NSI+PGcgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwYXRoIGQ9Ik05IDM5aDI3di0zSDl2M3ptMy41LTdsMS41LTIuNWgxN2wxLjUgMi41aC0yMHptLS41IDR2LTRoMjF2NEgxMnoiIHN0cm9rZS1saW5lY2FwPSJidXR0Ii8+PHBhdGggZD0iTTE0IDI5LjV2LTEzaDE3djEzSDE0eiIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiLz48cGF0aCBkPSJNMTQgMTYuNUwxMSAxNGgyM2wtMyAyLjVIMTR6TTExIDE0VjloNHYyaDVWOWg1djJoNVY5aDR2NUgxMXoiIHN0cm9rZS1saW5lY2FwPSJidXR0Ii8+PHBhdGggZD0iTTEyIDM1LjVoMjFtLTIwLTRoMTltLTE4LTJoMTdtLTE3LTEzaDE3TTExIDE0aDIzIiBmaWxsPSJub25lIiBzdHJva2U9IiNlY2VjZWMiIHN0cm9rZS13aWR0aD0iMSIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIvPjwvZz48L3N2Zz4=",BLACK_QUEEN:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NSIgaGVpZ2h0PSI0NSI+PGcgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxnIHN0cm9rZT0ibm9uZSI+PGNpcmNsZSBjeD0iNiIgY3k9IjEyIiByPSIyLjc1Ii8+PGNpcmNsZSBjeD0iMTQiIGN5PSI5IiByPSIyLjc1Ii8+PGNpcmNsZSBjeD0iMjIuNSIgY3k9IjgiIHI9IjIuNzUiLz48Y2lyY2xlIGN4PSIzMSIgY3k9IjkiIHI9IjIuNzUiLz48Y2lyY2xlIGN4PSIzOSIgY3k9IjEyIiByPSIyLjc1Ii8+PC9nPjxwYXRoIGQ9Ik05IDI2YzguNS0xLjUgMjEtMS41IDI3IDBsMi41LTEyLjVMMzEgMjVsLS4zLTE0LjEtNS4yIDEzLjYtMy0xNC41LTMgMTQuNS01LjItMTMuNkwxNCAyNSA2LjUgMTMuNSA5IDI2eiIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiLz48cGF0aCBkPSJNOSAyNmMwIDIgMS41IDIgMi41IDQgMSAxLjUgMSAxIC41IDMuNS0xLjUgMS0xLjUgMi41LTEuNSAyLjUtMS41IDEuNS41IDIuNS41IDIuNSA2LjUgMSAxNi41IDEgMjMgMCAwIDAgMS41LTEgMC0yLjUgMCAwIC41LTEuNS0xLTIuNS0uNS0yLjUtLjUtMiAuNS0zLjUgMS0yIDIuNS0yIDIuNS00LTguNS0xLjUtMTguNS0xLjUtMjcgMHoiIHN0cm9rZS1saW5lY2FwPSJidXR0Ii8+PHBhdGggZD0iTTExIDM4LjVhMzUgMzUgMSAwIDAgMjMgMCIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiLz48cGF0aCBkPSJNMTEgMjlhMzUgMzUgMSAwIDEgMjMgMG0tMjEuNSAyLjVoMjBtLTIxIDNhMzUgMzUgMSAwIDAgMjIgMG0tMjMgM2EzNSAzNSAxIDAgMCAyNCAwIiBmaWxsPSJub25lIiBzdHJva2U9IiNlY2VjZWMiLz48L2c+PC9zdmc+",BLACK_KING:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NSIgaGVpZ2h0PSI0NSI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwYXRoIGQ9Ik0yMi41IDExLjYzVjYiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiLz48cGF0aCBkPSJNMjIuNSAyNXM0LjUtNy41IDMtMTAuNWMwIDAtMS0yLjUtMy0yLjVzLTMgMi41LTMgMi41Yy0xLjUgMyAzIDEwLjUgMyAxMC41IiBmaWxsPSIjMDAwIiBzdHJva2UtbGluZWNhcD0iYnV0dCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIvPjxwYXRoIGQ9Ik0xMS41IDM3YzUuNSAzLjUgMTUuNSAzLjUgMjEgMHYtN3M5LTQuNSA2LTEwLjVjLTQtNi41LTEzLjUtMy41LTE2IDRWMjd2LTMuNWMtMy41LTcuNS0xMy0xMC41LTE2LTQtMyA2IDUgMTAgNSAxMFYzN3oiIGZpbGw9IiMwMDAiLz48cGF0aCBkPSJNMjAgOGg1IiBzdHJva2UtbGluZWpvaW49Im1pdGVyIi8+PHBhdGggZD0iTTMyIDI5LjVzOC41LTQgNi4wMy05LjY1QzM0LjE1IDE0IDI1IDE4IDIyLjUgMjQuNWwuMDEgMi4xLS4wMS0yLjFDMjAgMTggOS45MDYgMTQgNi45OTcgMTkuODVjLTIuNDk3IDUuNjUgNC44NTMgOSA0Ljg1MyA5IiBzdHJva2U9IiNlY2VjZWMiLz48cGF0aCBkPSJNMTEuNSAzMGM1LjUtMyAxNS41LTMgMjEgMG0tMjEgMy41YzUuNS0zIDE1LjUtMyAyMSAwbS0yMSAzLjVjNS41LTMgMTUuNS0zIDIxIDAiIHN0cm9rZT0iI2VjZWNlYyIvPjwvZz48L3N2Zz4="};function GD(t){var l,u;const{gameId:e}=Ac(),r=dE(),n=Fi(),i=sf(["profile",r.opponentId],()=>r.opponentId?Ic.getProfile(r.opponentId):null),[s,o]=O.useState();O.useEffect(()=>{var d,f;(d=i.data)!=null&&d.data&&o((f=i.data)==null?void 0:f.data)},[i.status]);const a=Tl();return O.useEffect(()=>{r.startGame(e??SJ(),t.gameType),document.getElementById("resultModal").close()},[e]),O.useEffect(()=>{console.log("Turn: "+r.turn)},[r.turn]),O.useEffect(()=>{if(r.isPromoting){const d=document.getElementById("promotionModal");d&&d.showModal()}},[r.isPromoting]),O.useEffect(()=>{if(r.result!=Fs.UNKNOWN){const d=document.getElementById("resultModal");d&&d.showModal()}},[r.result]),r.core?J(st,{children:[J("div",{className:"flex w-full h-screen items-center justify-center px-32 pt-32 pb-16 gap-12",children:[J("div",{className:"w-1/4 h-full flex flex-col gap-12",children:[C("div",{className:"h-24 w-full flex items-center gap-5 border-2 rounded-lg border-base-300  bg-base-200 p-2",children:C(cM,{profile:(l=i.data)==null?void 0:l.data,role:"Opponent"})}),C("div",{className:"flex-1 bg-base-200 rounded-lg"}),J("div",{className:"flex w-full justify-around",children:[J("button",{className:"btn btn-error",onClick:()=>r.resign(),children:[C(z8,{}),"Resign"]}),C("div",{className:"tooltip","data-tip":"Not working yet",children:J("button",{className:"btn btn-info btn-disabled",onClick:()=>r.resign(),children:[C(j8,{}),"Draw"]})})]}),C("div",{className:"h-24 w-full flex items-center gap-5 border-2 rounded-lg border-base-300 bg-base-200 p-2",children:C(cM,{profile:a,role:"You"})})]}),C("div",{className:kt(`flex-1 min-w-[${Math.min(window.innerWidth,window.innerHeight)*.8}px] min-h-[${Math.min(window.innerWidth,window.innerHeight)*.8}px] h-full rounded-lg border-2 border-base-300 flex items-center justify-center`),children:C(UD,{width:Math.min(window.innerWidth,window.innerHeight)*.7,height:Math.min(window.innerWidth,window.innerHeight)*.7,config:{turnColor:r.turn,fen:r.fen,orientation:r.side,draggable:{enabled:!1},movable:{free:!1,dests:r.getMoveableDests(),color:r.side},events:{move:r.move},lastMove:r.lastMove}})}),J("div",{className:"flex flex-col h-full w-1/4 gap-5",children:[t.gameType==$d.PVP&&C("div",{className:"flex justify-end",children:C(jD,{children:C(OJ,{id:(u=i.data)==null?void 0:u.data.id})})}),J("div",{className:"flex-1 flex flex-col-reverse w-full border-2 p-3 rounded-lg border-base-300 bg-base-200 overflow-y-auto justify-start",children:[C("div",{className:"flex-1"}),C("div",{className:"h-fit grid grid-cols-2 gap-3",children:r.moveHistories.map((d,f)=>J("div",{className:"flex items-center justify-start gap-5 h-10 bg-base-100 rounded-lg p-2",children:[C("div",{className:kt("rounded-full w-8 h-8 p-1",{"bg-slate-500":d.piece.includes("WHITE"),"bg-slate-200":d.piece.includes("BLACK")}),children:C("img",{src:pM[d.piece],alt:""})}),C("span",{className:"font-bold",children:d.to}),d.promotion!=="NONE"?J(st,{children:[C(U8,{}),C("div",{className:kt("rounded-full w-8 h-8 p-1",{"bg-slate-500":d.piece.includes("WHITE"),"bg-slate-200":d.piece.includes("BLACK")}),children:C("img",{src:pM[d.promotion],alt:""})})]}):C(st,{})]},f))})]})]})]}),C(CJ,{}),C(IJ,{onReplay:()=>{r.onEnd(),n(t.gameType==$d.PVP?$e.quickMatch:$e.playWithBot)},onExit:()=>{r.onEnd(),n($e.home)}})]}):C(st,{children:"Loading..."})}function DJ(){return C(GD,{gameType:$d.PVP})}function LJ(t){const[e,r]=O.useState(Fm(t.conversation.message.sendedAt+" UTC",Date.now()));return O.useEffect(()=>{setInterval(()=>{const n=t.conversation.message.sendedAt+" UTC";r(Fm(n,Date.now()))},1e3*60)},[]),O.useEffect(()=>{const n=t.conversation.message.sendedAt+" UTC";r(Fm(n,Date.now()))},[t.conversation.message]),J(Pr,{className:kt("h-24 w-full btn flex flex-nowrap justify-start",{"btn-active":t.active}),to:`/chat/${t.conversation.id}`,children:[J("div",{className:"avatar h-12 w-12 min-h-[3rem] min-w-[3rem]",children:[C("img",{className:"rounded-full",alt:"Avatar",src:t.conversation.avatarUrl??"https://daisyui.com/images/stock/photo-1534528741775-53994a69daeb.jpg"}),C("div",{className:"absolute bg-accent rounded-full w-5 h-5 border border-accent-content"})]}),J("div",{className:"flex-1 flex flex-col items-start justify-evenly gap-2 max-w-[calc(70%)]",children:[C("span",{className:"text-base-content font-bold",children:t.conversation.displayName}),J("div",{className:"flex w-full",children:[J("p",{className:"text-start w-4/5 text-base-content font-thin truncate",children:[t.conversation.message.isFromUser?"You: ":"",t.conversation.message.content]}),J("p",{className:"text-base-content font-thin text-ellipsis min-w-fit",children:[" .",e]})]})]})]})}function FJ(){const{id:t}=Ac(),e=EE();return O.useEffect(()=>{e.startChat(eo())},[]),e.state!=si.ReadyState.OPEN?C("div",{className:"bg-base h-full w-full flex items-center justify-center",children:C("span",{className:"loading loading-lg loading-ring"})}):C("div",{className:"bg-base h-full w-full overflow-y-auto p-1 gap-1",children:e.conversations.map(r=>C(LJ,{conversation:r,active:t==r.id.toString()},r.id))})}function mM(){return C(jD,{children:J("div",{className:"flex w-full h-full",children:[C("div",{className:"w-1/5 h-full",children:C(FJ,{})}),C("div",{className:"flex-1 h-full",children:C($D,{})})]})})}function UJ(){return C(GD,{gameType:$d.BOT})}function gM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function we(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gM(Object(r),!0).forEach(function(n){ur(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function A0(t){"@babel/helpers - typeof";return A0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A0(t)}function BJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function zJ(t,e,r){return e&&vM(t.prototype,e),r&&vM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ur(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TE(t,e){return $J(t)||HJ(t,e)||HD(t,e)||WJ()}function gf(t){return jJ(t)||GJ(t)||HD(t)||VJ()}function jJ(t){if(Array.isArray(t))return fw(t)}function $J(t){if(Array.isArray(t))return t}function GJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,s=!1,o,a;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(s)throw a}}return n}}function HD(t,e){if(t){if(typeof t=="string")return fw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fw(t,e)}}function fw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var yM=function(){},AE={},VD={},WD=null,XD={mark:yM,measure:yM};try{typeof window<"u"&&(AE=window),typeof document<"u"&&(VD=document),typeof MutationObserver<"u"&&(WD=MutationObserver),typeof performance<"u"&&(XD=performance)}catch{}var XJ=AE.navigator||{},bM=XJ.userAgent,xM=bM===void 0?"":bM,ba=AE,Et=VD,_M=WD,fm=XD;ba.document;var uo=!!Et.documentElement&&!!Et.head&&typeof Et.addEventListener=="function"&&typeof Et.createElement=="function",qD=~xM.indexOf("MSIE")||~xM.indexOf("Trident/"),pm,mm,gm,vm,ym,io="___FONT_AWESOME___",pw=16,YD="fa",QD="svg-inline--fa",Ml="data-fa-i2svg",mw="data-fa-pseudo-element",qJ="data-fa-pseudo-element-pending",CE="data-prefix",IE="data-icon",wM="fontawesome-i2svg",YJ="async",QJ=["HTML","HEAD","STYLE","SCRIPT"],KD=function(){try{return!0}catch{return!1}}(),wt="classic",jt="sharp",PE=[wt,jt];function vf(t){return new Proxy(t,{get:function(r,n){return n in r?r[n]:r[wt]}})}var Hd=vf((pm={},ur(pm,wt,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit",fakd:"kit","fa-kit":"kit","fa-kit-duotone":"kit"}),ur(pm,jt,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"}),pm)),Vd=vf((mm={},ur(mm,wt,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),ur(mm,jt,{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"}),mm)),Wd=vf((gm={},ur(gm,wt,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),ur(gm,jt,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"}),gm)),KJ=vf((vm={},ur(vm,wt,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),ur(vm,jt,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"}),vm)),ZJ=/fa(s|r|l|t|d|b|k|ss|sr|sl|st)?[\-\ ]/,ZD="fa-layers-text",JJ=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,eee=vf((ym={},ur(ym,wt,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),ur(ym,jt,{900:"fass",400:"fasr",300:"fasl",100:"fast"}),ym)),JD=[1,2,3,4,5,6,7,8,9,10],tee=JD.concat([11,12,13,14,15,16,17,18,19,20]),ree=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],ul={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Xd=new Set;Object.keys(Vd[wt]).map(Xd.add.bind(Xd));Object.keys(Vd[jt]).map(Xd.add.bind(Xd));var nee=[].concat(PE,gf(Xd),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ul.GROUP,ul.SWAP_OPACITY,ul.PRIMARY,ul.SECONDARY]).concat(JD.map(function(t){return"".concat(t,"x")})).concat(tee.map(function(t){return"w-".concat(t)})),ud=ba.FontAwesomeConfig||{};function iee(t){var e=Et.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function see(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(Et&&typeof Et.querySelector=="function"){var oee=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];oee.forEach(function(t){var e=TE(t,2),r=e[0],n=e[1],i=see(iee(r));i!=null&&(ud[n]=i)})}var eL={styleDefault:"solid",familyDefault:"classic",cssPrefix:YD,replacementClass:QD,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};ud.familyPrefix&&(ud.cssPrefix=ud.familyPrefix);var bc=we(we({},eL),ud);bc.autoReplaceSvg||(bc.observeMutations=!1);var Ne={};Object.keys(eL).forEach(function(t){Object.defineProperty(Ne,t,{enumerable:!0,set:function(r){bc[t]=r,cd.forEach(function(n){return n(Ne)})},get:function(){return bc[t]}})});Object.defineProperty(Ne,"familyPrefix",{enumerable:!0,set:function(e){bc.cssPrefix=e,cd.forEach(function(r){return r(Ne)})},get:function(){return bc.cssPrefix}});ba.FontAwesomeConfig=Ne;var cd=[];function aee(t){return cd.push(t),function(){cd.splice(cd.indexOf(t),1)}}var No=pw,ps={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function lee(t){if(!(!t||!uo)){var e=Et.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var r=Et.head.childNodes,n=null,i=r.length-1;i>-1;i--){var s=r[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(n=s)}return Et.head.insertBefore(e,n),t}}var uee="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function qd(){for(var t=12,e="";t-- >0;)e+=uee[Math.random()*62|0];return e}function Lc(t){for(var e=[],r=(t||[]).length>>>0;r--;)e[r]=t[r];return e}function ME(t){return t.classList?Lc(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function tL(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function cee(t){return Object.keys(t||{}).reduce(function(e,r){return e+"".concat(r,'="').concat(tL(t[r]),'" ')},"").trim()}function Mv(t){return Object.keys(t||{}).reduce(function(e,r){return e+"".concat(r,": ").concat(t[r].trim(),";")},"")}function kE(t){return t.size!==ps.size||t.x!==ps.x||t.y!==ps.y||t.rotate!==ps.rotate||t.flipX||t.flipY}function hee(t){var e=t.transform,r=t.containerWidth,n=t.iconWidth,i={transform:"translate(".concat(r/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(s," ").concat(o," ").concat(a)},u={transform:"translate(".concat(n/2*-1," -256)")};return{outer:i,inner:l,path:u}}function dee(t){var e=t.transform,r=t.width,n=r===void 0?pw:r,i=t.height,s=i===void 0?pw:i,o=t.startCentered,a=o===void 0?!1:o,l="";return a&&qD?l+="translate(".concat(e.x/No-n/2,"em, ").concat(e.y/No-s/2,"em) "):a?l+="translate(calc(-50% + ".concat(e.x/No,"em), calc(-50% + ").concat(e.y/No,"em)) "):l+="translate(".concat(e.x/No,"em, ").concat(e.y/No,"em) "),l+="scale(".concat(e.size/No*(e.flipX?-1:1),", ").concat(e.size/No*(e.flipY?-1:1),") "),l+="rotate(".concat(e.rotate,"deg) "),l}var fee=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function rL(){var t=YD,e=QD,r=Ne.cssPrefix,n=Ne.replacementClass,i=fee;if(r!==t||n!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(r,"-")).replace(o,"--".concat(r,"-")).replace(a,".".concat(n))}return i}var SM=!1;function Fb(){Ne.autoAddCss&&!SM&&(lee(rL()),SM=!0)}var pee={mixout:function(){return{dom:{css:rL,insertCss:Fb}}},hooks:function(){return{beforeDOMElementCreation:function(){Fb()},beforeI2svg:function(){Fb()}}}},so=ba||{};so[io]||(so[io]={});so[io].styles||(so[io].styles={});so[io].hooks||(so[io].hooks={});so[io].shims||(so[io].shims=[]);var Ii=so[io],nL=[],mee=function t(){Et.removeEventListener("DOMContentLoaded",t),C0=1,nL.map(function(e){return e()})},C0=!1;uo&&(C0=(Et.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Et.readyState),C0||Et.addEventListener("DOMContentLoaded",mee));function gee(t){uo&&(C0?setTimeout(t,0):nL.push(t))}function yf(t){var e=t.tag,r=t.attributes,n=r===void 0?{}:r,i=t.children,s=i===void 0?[]:i;return typeof t=="string"?tL(t):"<".concat(e," ").concat(cee(n),">").concat(s.map(yf).join(""),"</").concat(e,">")}function EM(t,e,r){if(t&&t[e]&&t[e][r])return{prefix:e,iconName:r,icon:t[e][r]}}var vee=function(e,r){return function(n,i,s,o){return e.call(r,n,i,s,o)}},Ub=function(e,r,n,i){var s=Object.keys(e),o=s.length,a=i!==void 0?vee(r,i):r,l,u,d;for(n===void 0?(l=1,d=e[s[0]]):(l=0,d=n);l<o;l++)u=s[l],d=a(d,e[u],u,e);return d};function yee(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e}function gw(t){var e=yee(t);return e.length===1?e[0].toString(16):null}function bee(t,e){var r=t.length,n=t.charCodeAt(e),i;return n>=55296&&n<=56319&&r>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(n-55296)*1024+i-56320+65536:n}function TM(t){return Object.keys(t).reduce(function(e,r){var n=t[r],i=!!n.icon;return i?e[n.iconName]=n.icon:e[r]=n,e},{})}function vw(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=r.skipHooks,i=n===void 0?!1:n,s=TM(e);typeof Ii.hooks.addPack=="function"&&!i?Ii.hooks.addPack(t,TM(e)):Ii.styles[t]=we(we({},Ii.styles[t]||{}),s),t==="fas"&&vw("fa",e)}var bm,xm,_m,zu=Ii.styles,xee=Ii.shims,_ee=(bm={},ur(bm,wt,Object.values(Wd[wt])),ur(bm,jt,Object.values(Wd[jt])),bm),NE=null,iL={},sL={},oL={},aL={},lL={},wee=(xm={},ur(xm,wt,Object.keys(Hd[wt])),ur(xm,jt,Object.keys(Hd[jt])),xm);function See(t){return~nee.indexOf(t)}function Eee(t,e){var r=e.split("-"),n=r[0],i=r.slice(1).join("-");return n===t&&i!==""&&!See(i)?i:null}var uL=function(){var e=function(s){return Ub(zu,function(o,a,l){return o[l]=Ub(a,s,{}),o},{})};iL=e(function(i,s,o){if(s[3]&&(i[s[3]]=o),s[2]){var a=s[2].filter(function(l){return typeof l=="number"});a.forEach(function(l){i[l.toString(16)]=o})}return i}),sL=e(function(i,s,o){if(i[o]=o,s[2]){var a=s[2].filter(function(l){return typeof l=="string"});a.forEach(function(l){i[l]=o})}return i}),lL=e(function(i,s,o){var a=s[2];return i[o]=o,a.forEach(function(l){i[l]=o}),i});var r="far"in zu||Ne.autoFetchSvg,n=Ub(xee,function(i,s){var o=s[0],a=s[1],l=s[2];return a==="far"&&!r&&(a="fas"),typeof o=="string"&&(i.names[o]={prefix:a,iconName:l}),typeof o=="number"&&(i.unicodes[o.toString(16)]={prefix:a,iconName:l}),i},{names:{},unicodes:{}});oL=n.names,aL=n.unicodes,NE=kv(Ne.styleDefault,{family:Ne.familyDefault})};aee(function(t){NE=kv(t.styleDefault,{family:Ne.familyDefault})});uL();function RE(t,e){return(iL[t]||{})[e]}function Tee(t,e){return(sL[t]||{})[e]}function cl(t,e){return(lL[t]||{})[e]}function cL(t){return oL[t]||{prefix:null,iconName:null}}function Aee(t){var e=aL[t],r=RE("fas",t);return e||(r?{prefix:"fas",iconName:r}:null)||{prefix:null,iconName:null}}function xa(){return NE}var OE=function(){return{prefix:null,iconName:null,rest:[]}};function kv(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.family,n=r===void 0?wt:r,i=Hd[n][t],s=Vd[n][t]||Vd[n][i],o=t in Ii.styles?t:null;return s||o||null}var AM=(_m={},ur(_m,wt,Object.keys(Wd[wt])),ur(_m,jt,Object.keys(Wd[jt])),_m);function Nv(t){var e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.skipLookups,i=n===void 0?!1:n,s=(e={},ur(e,wt,"".concat(Ne.cssPrefix,"-").concat(wt)),ur(e,jt,"".concat(Ne.cssPrefix,"-").concat(jt)),e),o=null,a=wt;(t.includes(s[wt])||t.some(function(u){return AM[wt].includes(u)}))&&(a=wt),(t.includes(s[jt])||t.some(function(u){return AM[jt].includes(u)}))&&(a=jt);var l=t.reduce(function(u,d){var f=Eee(Ne.cssPrefix,d);if(zu[d]?(d=_ee[a].includes(d)?KJ[a][d]:d,o=d,u.prefix=d):wee[a].indexOf(d)>-1?(o=d,u.prefix=kv(d,{family:a})):f?u.iconName=f:d!==Ne.replacementClass&&d!==s[wt]&&d!==s[jt]&&u.rest.push(d),!i&&u.prefix&&u.iconName){var p=o==="fa"?cL(u.iconName):{},g=cl(u.prefix,u.iconName);p.prefix&&(o=null),u.iconName=p.iconName||g||u.iconName,u.prefix=p.prefix||u.prefix,u.prefix==="far"&&!zu.far&&zu.fas&&!Ne.autoFetchSvg&&(u.prefix="fas")}return u},OE());return(t.includes("fa-brands")||t.includes("fab"))&&(l.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(l.prefix="fad"),!l.prefix&&a===jt&&(zu.fass||Ne.autoFetchSvg)&&(l.prefix="fass",l.iconName=cl(l.prefix,l.iconName)||l.iconName),(l.prefix==="fa"||o==="fa")&&(l.prefix=xa()||"fas"),l}var Cee=function(){function t(){BJ(this,t),this.definitions={}}return zJ(t,[{key:"add",value:function(){for(var r=this,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){r.definitions[a]=we(we({},r.definitions[a]||{}),o[a]),vw(a,o[a]);var l=Wd[wt][a];l&&vw(l,o[a]),uL()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(r,n){var i=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,l=o.iconName,u=o.icon,d=u[2];r[a]||(r[a]={}),d.length>0&&d.forEach(function(f){typeof f=="string"&&(r[a][f]=u)}),r[a][l]=u}),r}}]),t}(),CM=[],ju={},ic={},Iee=Object.keys(ic);function Pee(t,e){var r=e.mixoutsTo;return CM=t,ju={},Object.keys(ic).forEach(function(n){Iee.indexOf(n)===-1&&delete ic[n]}),CM.forEach(function(n){var i=n.mixout?n.mixout():{};if(Object.keys(i).forEach(function(o){typeof i[o]=="function"&&(r[o]=i[o]),A0(i[o])==="object"&&Object.keys(i[o]).forEach(function(a){r[o]||(r[o]={}),r[o][a]=i[o][a]})}),n.hooks){var s=n.hooks();Object.keys(s).forEach(function(o){ju[o]||(ju[o]=[]),ju[o].push(s[o])})}n.provides&&n.provides(ic)}),r}function yw(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var s=ju[t]||[];return s.forEach(function(o){e=o.apply(null,[e].concat(n))}),e}function kl(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=ju[t]||[];i.forEach(function(s){s.apply(null,r)})}function oo(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return ic[t]?ic[t].apply(null,e):void 0}function bw(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,r=t.prefix||xa();if(e)return e=cl(r,e)||e,EM(hL.definitions,r,e)||EM(Ii.styles,r,e)}var hL=new Cee,Mee=function(){Ne.autoReplaceSvg=!1,Ne.observeMutations=!1,kl("noAuto")},kee={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return uo?(kl("beforeI2svg",e),oo("pseudoElements2svg",e),oo("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.autoReplaceSvgRoot;Ne.autoReplaceSvg===!1&&(Ne.autoReplaceSvg=!0),Ne.observeMutations=!0,gee(function(){Ree({autoReplaceSvgRoot:r}),kl("watch",e)})}},Nee={icon:function(e){if(e===null)return null;if(A0(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:cl(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var r=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],n=kv(e[0]);return{prefix:n,iconName:cl(n,r)||r}}if(typeof e=="string"&&(e.indexOf("".concat(Ne.cssPrefix,"-"))>-1||e.match(ZJ))){var i=Nv(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||xa(),iconName:cl(i.prefix,i.iconName)||i.iconName}}if(typeof e=="string"){var s=xa();return{prefix:s,iconName:cl(s,e)||e}}}},On={noAuto:Mee,config:Ne,dom:kee,parse:Nee,library:hL,findIconDefinition:bw,toHtml:yf},Ree=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.autoReplaceSvgRoot,n=r===void 0?Et:r;(Object.keys(Ii.styles).length>0||Ne.autoFetchSvg)&&uo&&Ne.autoReplaceSvg&&On.dom.i2svg({node:n})};function Rv(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(n){return yf(n)})}}),Object.defineProperty(t,"node",{get:function(){if(uo){var n=Et.createElement("div");return n.innerHTML=t.html,n.children}}}),t}function Oee(t){var e=t.children,r=t.main,n=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(kE(o)&&r.found&&!n.found){var a=r.width,l=r.height,u={x:a/l/2,y:.5};i.style=Mv(we(we({},s),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function Dee(t){var e=t.prefix,r=t.iconName,n=t.children,i=t.attributes,s=t.symbol,o=s===!0?"".concat(e,"-").concat(Ne.cssPrefix,"-").concat(r):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:we(we({},i),{},{id:o}),children:n}]}]}function DE(t){var e=t.icons,r=e.main,n=e.mask,i=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,l=t.title,u=t.maskId,d=t.titleId,f=t.extra,p=t.watchable,g=p===void 0?!1:p,v=n.found?n:r,b=v.width,E=v.height,w=i==="fak",S=[Ne.replacementClass,s?"".concat(Ne.cssPrefix,"-").concat(s):""].filter(function(q){return f.classes.indexOf(q)===-1}).filter(function(q){return q!==""||!!q}).concat(f.classes).join(" "),_={children:[],attributes:we(we({},f.attributes),{},{"data-prefix":i,"data-icon":s,class:S,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(b," ").concat(E)})},A=w&&!~f.classes.indexOf("fa-fw")?{width:"".concat(b/E*16*.0625,"em")}:{};g&&(_.attributes[Ml]=""),l&&(_.children.push({tag:"title",attributes:{id:_.attributes["aria-labelledby"]||"title-".concat(d||qd())},children:[l]}),delete _.attributes.title);var P=we(we({},_),{},{prefix:i,iconName:s,main:r,mask:n,maskId:u,transform:o,symbol:a,styles:we(we({},A),f.styles)}),N=n.found&&r.found?oo("generateAbstractMask",P)||{children:[],attributes:{}}:oo("generateAbstractIcon",P)||{children:[],attributes:{}},L=N.children,k=N.attributes;return P.children=L,P.attributes=k,a?Dee(P):Oee(P)}function IM(t){var e=t.content,r=t.width,n=t.height,i=t.transform,s=t.title,o=t.extra,a=t.watchable,l=a===void 0?!1:a,u=we(we(we({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});l&&(u[Ml]="");var d=we({},o.styles);kE(i)&&(d.transform=dee({transform:i,startCentered:!0,width:r,height:n}),d["-webkit-transform"]=d.transform);var f=Mv(d);f.length>0&&(u.style=f);var p=[];return p.push({tag:"span",attributes:u,children:[e]}),s&&p.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),p}function Lee(t){var e=t.content,r=t.title,n=t.extra,i=we(we(we({},n.attributes),r?{title:r}:{}),{},{class:n.classes.join(" ")}),s=Mv(n.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),r&&o.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),o}var Bb=Ii.styles;function xw(t){var e=t[0],r=t[1],n=t.slice(4),i=TE(n,1),s=i[0],o=null;return Array.isArray(s)?o={tag:"g",attributes:{class:"".concat(Ne.cssPrefix,"-").concat(ul.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Ne.cssPrefix,"-").concat(ul.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(Ne.cssPrefix,"-").concat(ul.PRIMARY),fill:"currentColor",d:s[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:e,height:r,icon:o}}var Fee={found:!1,width:512,height:512};function Uee(t,e){!KD&&!Ne.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function _w(t,e){var r=e;return e==="fa"&&Ne.styleDefault!==null&&(e=xa()),new Promise(function(n,i){if(oo("missingIconAbstract"),r==="fa"){var s=cL(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&Bb[e]&&Bb[e][t]){var o=Bb[e][t];return n(xw(o))}Uee(t,e),n(we(we({},Fee),{},{icon:Ne.showMissingIcons&&t?oo("missingIconAbstract")||{}:{}}))})}var PM=function(){},ww=Ne.measurePerformance&&fm&&fm.mark&&fm.measure?fm:{mark:PM,measure:PM},jh='FA "6.5.1"',Bee=function(e){return ww.mark("".concat(jh," ").concat(e," begins")),function(){return dL(e)}},dL=function(e){ww.mark("".concat(jh," ").concat(e," ends")),ww.measure("".concat(jh," ").concat(e),"".concat(jh," ").concat(e," begins"),"".concat(jh," ").concat(e," ends"))},LE={begin:Bee,end:dL},sg=function(){};function MM(t){var e=t.getAttribute?t.getAttribute(Ml):null;return typeof e=="string"}function zee(t){var e=t.getAttribute?t.getAttribute(CE):null,r=t.getAttribute?t.getAttribute(IE):null;return e&&r}function jee(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Ne.replacementClass)}function $ee(){if(Ne.autoReplaceSvg===!0)return og.replace;var t=og[Ne.autoReplaceSvg];return t||og.replace}function Gee(t){return Et.createElementNS("http://www.w3.org/2000/svg",t)}function Hee(t){return Et.createElement(t)}function fL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.ceFn,n=r===void 0?t.tag==="svg"?Gee:Hee:r;if(typeof t=="string")return Et.createTextNode(t);var i=n(t.tag);Object.keys(t.attributes||[]).forEach(function(o){i.setAttribute(o,t.attributes[o])});var s=t.children||[];return s.forEach(function(o){i.appendChild(fL(o,{ceFn:n}))}),i}function Vee(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var og={replace:function(e){var r=e[0];if(r.parentNode)if(e[1].forEach(function(i){r.parentNode.insertBefore(fL(i),r)}),r.getAttribute(Ml)===null&&Ne.keepOriginalSource){var n=Et.createComment(Vee(r));r.parentNode.replaceChild(n,r)}else r.remove()},nest:function(e){var r=e[0],n=e[1];if(~ME(r).indexOf(Ne.replacementClass))return og.replace(e);var i=new RegExp("".concat(Ne.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var s=n[0].attributes.class.split(" ").reduce(function(a,l){return l===Ne.replacementClass||l.match(i)?a.toSvg.push(l):a.toNode.push(l),a},{toNode:[],toSvg:[]});n[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?r.removeAttribute("class"):r.setAttribute("class",s.toNode.join(" "))}var o=n.map(function(a){return yf(a)}).join(`
`);r.setAttribute(Ml,""),r.innerHTML=o}};function kM(t){t()}function pL(t,e){var r=typeof e=="function"?e:sg;if(t.length===0)r();else{var n=kM;Ne.mutateApproach===YJ&&(n=ba.requestAnimationFrame||kM),n(function(){var i=$ee(),s=LE.begin("mutate");t.map(i),s(),r()})}}var FE=!1;function mL(){FE=!0}function Sw(){FE=!1}var I0=null;function NM(t){if(_M&&Ne.observeMutations){var e=t.treeCallback,r=e===void 0?sg:e,n=t.nodeCallback,i=n===void 0?sg:n,s=t.pseudoElementsCallback,o=s===void 0?sg:s,a=t.observeMutationsRoot,l=a===void 0?Et:a;I0=new _M(function(u){if(!FE){var d=xa();Lc(u).forEach(function(f){if(f.type==="childList"&&f.addedNodes.length>0&&!MM(f.addedNodes[0])&&(Ne.searchPseudoElements&&o(f.target),r(f.target)),f.type==="attributes"&&f.target.parentNode&&Ne.searchPseudoElements&&o(f.target.parentNode),f.type==="attributes"&&MM(f.target)&&~ree.indexOf(f.attributeName))if(f.attributeName==="class"&&zee(f.target)){var p=Nv(ME(f.target)),g=p.prefix,v=p.iconName;f.target.setAttribute(CE,g||d),v&&f.target.setAttribute(IE,v)}else jee(f.target)&&i(f.target)})}}),uo&&I0.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Wee(){I0&&I0.disconnect()}function Xee(t){var e=t.getAttribute("style"),r=[];return e&&(r=e.split(";").reduce(function(n,i){var s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(n[o]=a.join(":").trim()),n},{})),r}function qee(t){var e=t.getAttribute("data-prefix"),r=t.getAttribute("data-icon"),n=t.innerText!==void 0?t.innerText.trim():"",i=Nv(ME(t));return i.prefix||(i.prefix=xa()),e&&r&&(i.prefix=e,i.iconName=r),i.iconName&&i.prefix||(i.prefix&&n.length>0&&(i.iconName=Tee(i.prefix,t.innerText)||RE(i.prefix,gw(t.innerText))),!i.iconName&&Ne.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function Yee(t){var e=Lc(t.attributes).reduce(function(i,s){return i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i},{}),r=t.getAttribute("title"),n=t.getAttribute("data-fa-title-id");return Ne.autoA11y&&(r?e["aria-labelledby"]="".concat(Ne.replacementClass,"-title-").concat(n||qd()):(e["aria-hidden"]="true",e.focusable="false")),e}function Qee(){return{iconName:null,title:null,titleId:null,prefix:null,transform:ps,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function RM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},r=qee(t),n=r.iconName,i=r.prefix,s=r.rest,o=Yee(t),a=yw("parseNodeAttributes",{},t),l=e.styleParser?Xee(t):[];return we({iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:ps,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:l,attributes:o}},a)}var Kee=Ii.styles;function gL(t){var e=Ne.autoReplaceSvg==="nest"?RM(t,{styleParser:!1}):RM(t);return~e.extra.classes.indexOf(ZD)?oo("generateLayersText",t,e):oo("generateSvgReplacementMutation",t,e)}var _a=new Set;PE.map(function(t){_a.add("fa-".concat(t))});Object.keys(Hd[wt]).map(_a.add.bind(_a));Object.keys(Hd[jt]).map(_a.add.bind(_a));_a=gf(_a);function OM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!uo)return Promise.resolve();var r=Et.documentElement.classList,n=function(f){return r.add("".concat(wM,"-").concat(f))},i=function(f){return r.remove("".concat(wM,"-").concat(f))},s=Ne.autoFetchSvg?_a:PE.map(function(d){return"fa-".concat(d)}).concat(Object.keys(Kee));s.includes("fa")||s.push("fa");var o=[".".concat(ZD,":not([").concat(Ml,"])")].concat(s.map(function(d){return".".concat(d,":not([").concat(Ml,"])")})).join(", ");if(o.length===0)return Promise.resolve();var a=[];try{a=Lc(t.querySelectorAll(o))}catch{}if(a.length>0)n("pending"),i("complete");else return Promise.resolve();var l=LE.begin("onTree"),u=a.reduce(function(d,f){try{var p=gL(f);p&&d.push(p)}catch(g){KD||g.name==="MissingIcon"&&console.error(g)}return d},[]);return new Promise(function(d,f){Promise.all(u).then(function(p){pL(p,function(){n("active"),n("complete"),i("pending"),typeof e=="function"&&e(),l(),d()})}).catch(function(p){l(),f(p)})})}function Zee(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;gL(t).then(function(r){r&&pL([r],e)})}function Jee(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=(e||{}).icon?e:bw(e||{}),i=r.mask;return i&&(i=(i||{}).icon?i:bw(i||{})),t(n,we(we({},r),{},{mask:i}))}}var ete=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.transform,i=n===void 0?ps:n,s=r.symbol,o=s===void 0?!1:s,a=r.mask,l=a===void 0?null:a,u=r.maskId,d=u===void 0?null:u,f=r.title,p=f===void 0?null:f,g=r.titleId,v=g===void 0?null:g,b=r.classes,E=b===void 0?[]:b,w=r.attributes,S=w===void 0?{}:w,_=r.styles,A=_===void 0?{}:_;if(e){var P=e.prefix,N=e.iconName,L=e.icon;return Rv(we({type:"icon"},e),function(){return kl("beforeDOMElementCreation",{iconDefinition:e,params:r}),Ne.autoA11y&&(p?S["aria-labelledby"]="".concat(Ne.replacementClass,"-title-").concat(v||qd()):(S["aria-hidden"]="true",S.focusable="false")),DE({icons:{main:xw(L),mask:l?xw(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:P,iconName:N,transform:we(we({},ps),i),symbol:o,title:p,maskId:d,titleId:v,extra:{attributes:S,styles:A,classes:E}})})}},tte={mixout:function(){return{icon:Jee(ete)}},hooks:function(){return{mutationObserverCallbacks:function(r){return r.treeCallback=OM,r.nodeCallback=Zee,r}}},provides:function(e){e.i2svg=function(r){var n=r.node,i=n===void 0?Et:n,s=r.callback,o=s===void 0?function(){}:s;return OM(i,o)},e.generateSvgReplacementMutation=function(r,n){var i=n.iconName,s=n.title,o=n.titleId,a=n.prefix,l=n.transform,u=n.symbol,d=n.mask,f=n.maskId,p=n.extra;return new Promise(function(g,v){Promise.all([_w(i,a),d.iconName?_w(d.iconName,d.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(b){var E=TE(b,2),w=E[0],S=E[1];g([r,DE({icons:{main:w,mask:S},prefix:a,iconName:i,transform:l,symbol:u,maskId:f,title:s,titleId:o,extra:p,watchable:!0})])}).catch(v)})},e.generateAbstractIcon=function(r){var n=r.children,i=r.attributes,s=r.main,o=r.transform,a=r.styles,l=Mv(a);l.length>0&&(i.style=l);var u;return kE(o)&&(u=oo("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),n.push(u||s.icon),{children:n,attributes:i}}}},rte={mixout:function(){return{layer:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.classes,s=i===void 0?[]:i;return Rv({type:"layer"},function(){kl("beforeDOMElementCreation",{assembler:r,params:n});var o=[];return r(function(a){Array.isArray(a)?a.map(function(l){o=o.concat(l.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(Ne.cssPrefix,"-layers")].concat(gf(s)).join(" ")},children:o}]})}}}},nte={mixout:function(){return{counter:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.title,s=i===void 0?null:i,o=n.classes,a=o===void 0?[]:o,l=n.attributes,u=l===void 0?{}:l,d=n.styles,f=d===void 0?{}:d;return Rv({type:"counter",content:r},function(){return kl("beforeDOMElementCreation",{content:r,params:n}),Lee({content:r.toString(),title:s,extra:{attributes:u,styles:f,classes:["".concat(Ne.cssPrefix,"-layers-counter")].concat(gf(a))}})})}}}},ite={mixout:function(){return{text:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.transform,s=i===void 0?ps:i,o=n.title,a=o===void 0?null:o,l=n.classes,u=l===void 0?[]:l,d=n.attributes,f=d===void 0?{}:d,p=n.styles,g=p===void 0?{}:p;return Rv({type:"text",content:r},function(){return kl("beforeDOMElementCreation",{content:r,params:n}),IM({content:r,transform:we(we({},ps),s),title:a,extra:{attributes:f,styles:g,classes:["".concat(Ne.cssPrefix,"-layers-text")].concat(gf(u))}})})}}},provides:function(e){e.generateLayersText=function(r,n){var i=n.title,s=n.transform,o=n.extra,a=null,l=null;if(qD){var u=parseInt(getComputedStyle(r).fontSize,10),d=r.getBoundingClientRect();a=d.width/u,l=d.height/u}return Ne.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([r,IM({content:r.innerHTML,width:a,height:l,transform:s,title:i,extra:o,watchable:!0})])}}},ste=new RegExp('"',"ug"),DM=[1105920,1112319];function ote(t){var e=t.replace(ste,""),r=bee(e,0),n=r>=DM[0]&&r<=DM[1],i=e.length===2?e[0]===e[1]:!1;return{value:gw(i?e[0]:e),isSecondary:n||i}}function LM(t,e){var r="".concat(qJ).concat(e.replace(":","-"));return new Promise(function(n,i){if(t.getAttribute(r)!==null)return n();var s=Lc(t.children),o=s.filter(function(L){return L.getAttribute(mw)===e})[0],a=ba.getComputedStyle(t,e),l=a.getPropertyValue("font-family").match(JJ),u=a.getPropertyValue("font-weight"),d=a.getPropertyValue("content");if(o&&!l)return t.removeChild(o),n();if(l&&d!=="none"&&d!==""){var f=a.getPropertyValue("content"),p=~["Sharp"].indexOf(l[2])?jt:wt,g=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(l[2])?Vd[p][l[2].toLowerCase()]:eee[p][u],v=ote(f),b=v.value,E=v.isSecondary,w=l[0].startsWith("FontAwesome"),S=RE(g,b),_=S;if(w){var A=Aee(b);A.iconName&&A.prefix&&(S=A.iconName,g=A.prefix)}if(S&&!E&&(!o||o.getAttribute(CE)!==g||o.getAttribute(IE)!==_)){t.setAttribute(r,_),o&&t.removeChild(o);var P=Qee(),N=P.extra;N.attributes[mw]=e,_w(S,g).then(function(L){var k=DE(we(we({},P),{},{icons:{main:L,mask:OE()},prefix:g,iconName:_,extra:N,watchable:!0})),q=Et.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(q,t.firstChild):t.appendChild(q),q.outerHTML=k.map(function(H){return yf(H)}).join(`
`),t.removeAttribute(r),n()}).catch(i)}else n()}else n()})}function ate(t){return Promise.all([LM(t,"::before"),LM(t,"::after")])}function lte(t){return t.parentNode!==document.head&&!~QJ.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(mw)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function FM(t){if(uo)return new Promise(function(e,r){var n=Lc(t.querySelectorAll("*")).filter(lte).map(ate),i=LE.begin("searchPseudoElements");mL(),Promise.all(n).then(function(){i(),Sw(),e()}).catch(function(){i(),Sw(),r()})})}var ute={hooks:function(){return{mutationObserverCallbacks:function(r){return r.pseudoElementsCallback=FM,r}}},provides:function(e){e.pseudoElements2svg=function(r){var n=r.node,i=n===void 0?Et:n;Ne.searchPseudoElements&&FM(i)}}},UM=!1,cte={mixout:function(){return{dom:{unwatch:function(){mL(),UM=!0}}}},hooks:function(){return{bootstrap:function(){NM(yw("mutationObserverCallbacks",{}))},noAuto:function(){Wee()},watch:function(r){var n=r.observeMutationsRoot;UM?Sw():NM(yw("mutationObserverCallbacks",{observeMutationsRoot:n}))}}}},BM=function(e){var r={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(n,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&a==="h")return n.flipX=!0,n;if(o&&a==="v")return n.flipY=!0,n;if(a=parseFloat(a),isNaN(a))return n;switch(o){case"grow":n.size=n.size+a;break;case"shrink":n.size=n.size-a;break;case"left":n.x=n.x-a;break;case"right":n.x=n.x+a;break;case"up":n.y=n.y-a;break;case"down":n.y=n.y+a;break;case"rotate":n.rotate=n.rotate+a;break}return n},r)},hte={mixout:function(){return{parse:{transform:function(r){return BM(r)}}}},hooks:function(){return{parseNodeAttributes:function(r,n){var i=n.getAttribute("data-fa-transform");return i&&(r.transform=BM(i)),r}}},provides:function(e){e.generateAbstractTransformGrouping=function(r){var n=r.main,i=r.transform,s=r.containerWidth,o=r.iconWidth,a={transform:"translate(".concat(s/2," 256)")},l="translate(".concat(i.x*32,", ").concat(i.y*32,") "),u="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),d="rotate(".concat(i.rotate," 0 0)"),f={transform:"".concat(l," ").concat(u," ").concat(d)},p={transform:"translate(".concat(o/2*-1," -256)")},g={outer:a,inner:f,path:p};return{tag:"g",attributes:we({},g.outer),children:[{tag:"g",attributes:we({},g.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:we(we({},n.icon.attributes),g.path)}]}]}}}},zb={x:0,y:0,width:"100%",height:"100%"};function zM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function dte(t){return t.tag==="g"?t.children:[t]}var fte={hooks:function(){return{parseNodeAttributes:function(r,n){var i=n.getAttribute("data-fa-mask"),s=i?Nv(i.split(" ").map(function(o){return o.trim()})):OE();return s.prefix||(s.prefix=xa()),r.mask=s,r.maskId=n.getAttribute("data-fa-mask-id"),r}}},provides:function(e){e.generateAbstractMask=function(r){var n=r.children,i=r.attributes,s=r.main,o=r.mask,a=r.maskId,l=r.transform,u=s.width,d=s.icon,f=o.width,p=o.icon,g=hee({transform:l,containerWidth:f,iconWidth:u}),v={tag:"rect",attributes:we(we({},zb),{},{fill:"white"})},b=d.children?{children:d.children.map(zM)}:{},E={tag:"g",attributes:we({},g.inner),children:[zM(we({tag:d.tag,attributes:we(we({},d.attributes),g.path)},b))]},w={tag:"g",attributes:we({},g.outer),children:[E]},S="mask-".concat(a||qd()),_="clip-".concat(a||qd()),A={tag:"mask",attributes:we(we({},zb),{},{id:S,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[v,w]},P={tag:"defs",children:[{tag:"clipPath",attributes:{id:_},children:dte(p)},A]};return n.push(P,{tag:"rect",attributes:we({fill:"currentColor","clip-path":"url(#".concat(_,")"),mask:"url(#".concat(S,")")},zb)}),{children:n,attributes:i}}}},pte={provides:function(e){var r=!1;ba.matchMedia&&(r=ba.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var n=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:we(we({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=we(we({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:we(we({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return r||a.children.push({tag:"animate",attributes:we(we({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:we(we({},o),{},{values:"1;0;1;1;0;1;"})}),n.push(a),n.push({tag:"path",attributes:we(we({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:r?[]:[{tag:"animate",attributes:we(we({},o),{},{values:"1;0;0;0;0;1;"})}]}),r||n.push({tag:"path",attributes:we(we({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:we(we({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},mte={hooks:function(){return{parseNodeAttributes:function(r,n){var i=n.getAttribute("data-fa-symbol"),s=i===null?!1:i===""?!0:i;return r.symbol=s,r}}}},gte=[pee,tte,rte,nte,ite,ute,cte,hte,fte,pte,mte];Pee(gte,{mixoutsTo:On});On.noAuto;On.config;On.library;On.dom;var Ew=On.parse;On.findIconDefinition;On.toHtml;var vte=On.icon;On.layer;On.text;On.counter;function jM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ta(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(r),!0).forEach(function(n){$u(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P0(t){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P0(t)}function $u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yte(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function bte(t,e){if(t==null)return{};var r=yte(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tw(t){return xte(t)||_te(t)||wte(t)||Ste()}function xte(t){if(Array.isArray(t))return Aw(t)}function _te(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wte(t,e){if(t){if(typeof t=="string")return Aw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Aw(t,e)}}function Aw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ste(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ete(t){var e,r=t.beat,n=t.fade,i=t.beatFade,s=t.bounce,o=t.shake,a=t.flash,l=t.spin,u=t.spinPulse,d=t.spinReverse,f=t.pulse,p=t.fixedWidth,g=t.inverse,v=t.border,b=t.listItem,E=t.flip,w=t.size,S=t.rotation,_=t.pull,A=(e={"fa-beat":r,"fa-fade":n,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":o,"fa-flash":a,"fa-spin":l,"fa-spin-reverse":d,"fa-spin-pulse":u,"fa-pulse":f,"fa-fw":p,"fa-inverse":g,"fa-border":v,"fa-li":b,"fa-flip":E===!0,"fa-flip-horizontal":E==="horizontal"||E==="both","fa-flip-vertical":E==="vertical"||E==="both"},$u(e,"fa-".concat(w),typeof w<"u"&&w!==null),$u(e,"fa-rotate-".concat(S),typeof S<"u"&&S!==null&&S!==0),$u(e,"fa-pull-".concat(_),typeof _<"u"&&_!==null),$u(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(A).map(function(P){return A[P]?P:null}).filter(function(P){return P})}function Tte(t){return t=t-0,t===t}function vL(t){return Tte(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,r){return r?r.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var Ate=["style"];function Cte(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Ite(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,r){var n=r.indexOf(":"),i=vL(r.slice(0,n)),s=r.slice(n+1).trim();return i.startsWith("webkit")?e[Cte(i)]=s:e[i]=s,e},{})}function yL(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var n=(e.children||[]).map(function(l){return yL(t,l)}),i=Object.keys(e.attributes||{}).reduce(function(l,u){var d=e.attributes[u];switch(u){case"class":l.attrs.className=d,delete e.attributes.class;break;case"style":l.attrs.style=Ite(d);break;default:u.indexOf("aria-")===0||u.indexOf("data-")===0?l.attrs[u.toLowerCase()]=d:l.attrs[vL(u)]=d}return l},{attrs:{}}),s=r.style,o=s===void 0?{}:s,a=bte(r,Ate);return i.attrs.style=ta(ta({},i.attrs.style),o),t.apply(void 0,[e.tag,ta(ta({},i.attrs),a)].concat(Tw(n)))}var bL=!1;try{bL=!0}catch{}function Pte(){if(!bL&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function $M(t){if(t&&P0(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(Ew.icon)return Ew.icon(t);if(t===null)return null;if(t&&P0(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function jb(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?$u({},t,e):{}}var Ri=de.forwardRef(function(t,e){var r=t.icon,n=t.mask,i=t.symbol,s=t.className,o=t.title,a=t.titleId,l=t.maskId,u=$M(r),d=jb("classes",[].concat(Tw(Ete(t)),Tw(s.split(" ")))),f=jb("transform",typeof t.transform=="string"?Ew.transform(t.transform):t.transform),p=jb("mask",$M(n)),g=vte(u,ta(ta(ta(ta({},d),f),p),{},{symbol:i,title:o,titleId:a,maskId:l}));if(!g)return Pte("Could not find icon",u),null;var v=g.abstract,b={ref:e};return Object.keys(t).forEach(function(E){Ri.defaultProps.hasOwnProperty(E)||(b[E]=t[E])}),Mte(v[0],b)});Ri.displayName="FontAwesomeIcon";Ri.propTypes={beat:Ae.bool,border:Ae.bool,beatFade:Ae.bool,bounce:Ae.bool,className:Ae.string,fade:Ae.bool,flash:Ae.bool,mask:Ae.oneOfType([Ae.object,Ae.array,Ae.string]),maskId:Ae.string,fixedWidth:Ae.bool,inverse:Ae.bool,flip:Ae.oneOf([!0,!1,"horizontal","vertical","both"]),icon:Ae.oneOfType([Ae.object,Ae.array,Ae.string]),listItem:Ae.bool,pull:Ae.oneOf(["right","left"]),pulse:Ae.bool,rotation:Ae.oneOf([0,90,180,270]),shake:Ae.bool,size:Ae.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Ae.bool,spinPulse:Ae.bool,spinReverse:Ae.bool,symbol:Ae.oneOfType([Ae.bool,Ae.string]),title:Ae.string,titleId:Ae.string,transform:Ae.oneOfType([Ae.string,Ae.object]),swapOpacity:Ae.bool};Ri.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var Mte=yL.bind(null,de.createElement),kte={prefix:"fas",iconName:"circle-question",icon:[512,512,[62108,"question-circle"],"f059","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24V250.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1H222.6c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"]},Nte=kte,M0={prefix:"fas",iconName:"chess-king",icon:[448,512,[9818],"f43f","M224 0c17.7 0 32 14.3 32 32V48h16c17.7 0 32 14.3 32 32s-14.3 32-32 32H256v48H408c22.1 0 40 17.9 40 40c0 5.3-1 10.5-3.1 15.4L368 400H80L3.1 215.4C1 210.5 0 205.3 0 200c0-22.1 17.9-40 40-40H192V112H176c-17.7 0-32-14.3-32-32s14.3-32 32-32h16V32c0-17.7 14.3-32 32-32zM38.6 473.4L80 432H368l41.4 41.4c4.2 4.2 6.6 10 6.6 16c0 12.5-10.1 22.6-22.6 22.6H54.6C42.1 512 32 501.9 32 489.4c0-6 2.4-11.8 6.6-16z"]},Rte={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},Ote={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]};function Dte(){const[t,e]=O.useState(pc.findBot(eo())),r=uf(t),[n,i]=O.useState("random"),[s,o]=O.useState("MEDIUM"),[a,l]=O.useState(!1);O.useEffect(()=>{},[r.readyState]);const u=()=>{l(!0),r.sendJsonMessage({message:"Bot config",data:{side:n==="white"?"black":n==="black"?"white":"random",difficulty:s}})},d=Fi();return O.useEffect(()=>{const f=r.lastJsonMessage;if(f){const p=f.data;p&&d(`/game/v2/bot/${p}`)}},[r.lastJsonMessage]),r.readyState==si.ReadyState.CLOSED?C(st,{children:J("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[C("span",{className:"loading loading-lg loading-spinner"}),C("span",{className:"text-base-content font-bold text-xl",children:"An error has occured"}),C("button",{className:"link link-primary font-bold",onClick:()=>window.location.reload(),children:"Refresh"})]})}):r.readyState!=si.ReadyState.OPEN?C(st,{children:J("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[C("span",{className:"loading loading-lg loading-spinner"}),C("span",{className:"text-base-content font-bold text-xl",children:"Connecting to server"})]})}):J("div",{className:"flex w-full h-screen items-center flex-row-reverse px-32 pt-32 pb-16 gap-12",children:[C("div",{className:kt(`flex-1 min-w-[${Math.min(window.innerWidth,window.innerHeight)*.8}px] min-h-[${Math.min(window.innerWidth,window.innerHeight)*.8}px] h-full rounded-lg border-2 border-base-300 pointer-events-none`),children:C(UD,{width:Math.min(window.innerWidth,window.innerHeight)*.7,height:Math.min(window.innerWidth,window.innerHeight)*.7,config:{orientation:n==="white"?"white":"black"}})}),J("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[C("span",{className:"text-base-content font-bold text-xl",children:"GAME SETTING"}),J("table",{className:"w-1/3 table",children:[J("tr",{children:[C("td",{children:C("span",{className:"text-base-content font-bold text-lg",children:"Your side to move"})}),J("td",{className:"flex gap-2",children:[C("div",{className:kt("cursor-pointer rounded-md w-12 h-12 flex justify-center items-center bg-gray-800",{"outline outline-green-600":n==="white"}),onClick:()=>i("white"),children:C(Ri,{size:"2x",icon:M0,color:"white"})}),C("div",{className:kt("cursor-pointer rounded-md w-12 h-12 flex justify-center items-center",{"outline outline-green-600":n==="random"}),onClick:()=>i("random"),children:C(Ri,{size:"2x",icon:Nte})}),C("div",{className:kt("cursor-pointer rounded-md w-12 h-12 flex justify-center items-center bg-white",{"outline outline-green-600":n==="black"}),onClick:()=>i("black"),children:C(Ri,{size:"2x",icon:M0,color:"black"})})]})]}),J("tr",{children:[C("td",{children:C("span",{className:"text-base-content font-bold text-lg",children:"Difficulty"})}),C("td",{children:J("select",{value:s,className:"select select-primary",onChange:f=>o(f.target.value),children:[C("option",{value:"EASIEST",children:"EASIEST"}),C("option",{value:"EASY",children:"EASY"}),C("option",{value:"MEDIUM",children:"MEDIUM"}),C("option",{value:"HARD",children:"HARD"}),C("option",{value:"HARDEST",children:"HARDEST"})]})})]}),J("tr",{children:[C("td",{}),C("td",{children:J("div",{className:"rating",children:[C("input",{type:"radio",name:"rating-2",className:"mask mask-star-2 bg-orange-400",checked:s==="EASIEST",onClick:()=>o("EASIEST")}),C("input",{type:"radio",name:"rating-2",className:"mask mask-star-2 bg-orange-400",checked:s==="EASY",onClick:()=>o("EASY")}),C("input",{type:"radio",name:"rating-2",className:"mask mask-star-2 bg-orange-400",checked:s==="MEDIUM",onClick:()=>o("MEDIUM")}),C("input",{type:"radio",name:"rating-2",className:"mask mask-star-2 bg-orange-400",checked:s==="HARD",onClick:()=>o("HARD")}),C("input",{type:"radio",name:"rating-2",className:"mask mask-star-2 bg-orange-400",checked:s==="HARDEST",onClick:()=>o("HARDEST")})]})})]})]}),C("button",{className:"btn btn-primary w-1/3 mt-10 text-primary-content font-bold text-xl",onClick:u,children:"Start"}),a?J("div",{className:"mt-10 h-24 flex flex-col items-center gap-5",children:[C("span",{className:"text-base-content font-bold",children:"Creating game"}),C("span",{className:"loading loading-spinner"})]}):C("div",{className:"mt-10 h-24 flex flex-col items-center gap-5"})]})]})}const Lte="/friend/player/{user_id}?page={page}&size={size}",GM="/friend/requests",UE={getFriendList(t,e,r,n=""){const i=Lte.replace("{user_id}",t).replace("{page}",e.toString()).replace("{size}",r.toString());return Si.get(i+(n?`&keyword=${n}`:""))},getFriendRequestList(t,e){const r=GM+`?page=${t}&size=${e}`;return Si.get(r)},replyFriendRequest(t,e){return Si.put(GM,{senderId:t,accept:e})}};function Fte(t){return J("div",{className:"bg-base-100 p-2 rounded-md relative flex items-center justify-between",children:[J("div",{className:"flex gap-5 items-center",children:[C(Pr,{to:`/profile/${t.friend.id}`,className:"avatar btn btn-circle btn-ghost",children:C("div",{className:"w-20 rounded-full",children:C("img",{src:t.friend.avatarUrl,alt:"",className:"mr-2 w-1/3"})})}),C("span",{className:"text-base-content",children:t.friend.displayName})]}),J("div",{className:"flex gap-5 items-center",children:[J("div",{className:"flex gap-2 items-center",children:[C("div",{className:kt("rounded-full w-3 h-3",{"bg-primary":t.friend.online,"bg-base-300":!t.friend.online})}),t.friend.online?"Online":"Offline"]}),C("button",{className:"btn btn-primary",children:"Invite"})]})]})}function Ute(){const t=O.useMemo(()=>Tl().id,[]),[e,r]=O.useState(1),[n,i]=O.useState(null),[s,o]=O.useState(1),[a,l]=O.useState("");return O.useEffect(()=>{i(null),UE.getFriendList(t.toString(),e,16,a).then(u=>{i(u.data.friends),o(u.data.totalPages)})},[e,a]),J(st,{children:[C("h2",{className:"text-xl font-bold mb-3",children:"Danh sch bn b hin ti"}),J("div",{className:"w-full flex gap-3 items-center mb-3",children:[C("input",{value:a,onChange:u=>l(u.target.value),className:"flex-1 input input-primary",placeholder:"Search your friends"}),C(H8,{className:"text-xl"})]}),C("div",{className:"flex-1 flex flex-col overflow-y-auto bg-base-300 rounded-lg p-3 gap-3",children:n==null?C("div",{className:"w-full h-full flex items-center justify-center",children:C("span",{className:"loading loading-spinner loading-lg"})}):C(st,{children:n.map(u=>C(Fte,{friend:u}))})}),J("div",{className:"join flex w-full justify-center mt-3",children:[C("button",{className:"join-item btn",onClick:()=>r(Math.max(1,e-1)),children:""}),J("button",{className:"join-item flex-1 btn",children:["Page ",e]}),C("button",{className:"join-item btn",onClick:()=>r(Math.min(s,e+1)),children:""})]})]})}function Bte(t){var o;const[e,r]=O.useState(!1),n=sf([t.request.senderId],()=>Ic.getProfile(t.request.senderId));if(n.status!="success")return C(st,{});const i=(o=n.data)==null?void 0:o.data,s=a=>{UE.replyFriendRequest(t.request.senderId,a),r(!0)};return J("div",{className:"bg-base-100 p-2 rounded-md relative flex items-center justify-between",children:[J("div",{className:"flex gap-5 items-center",children:[C(Pr,{to:`/profile/${t.request.senderId}`,className:"avatar btn btn-circle btn-ghost",children:C("div",{className:"w-20 rounded-full",children:C("img",{src:i.avatarUrl,alt:"",className:"mr-2 w-1/3"})})}),J("div",{className:"flex flex-col",children:[C("span",{className:"text-base-content",children:i.displayName}),C("span",{className:"text-sm text-slate-500",children:Fm(t.request.createdAt+" UTC",Date.now())})]})]}),e?C("span",{className:"btn btn-disabled !text-info",children:"Replied"}):J("div",{className:"flex gap-2 items-center",children:[C("button",{className:"text-lg btn-square btn-sm btn btn-ghost",onClick:()=>s(!0),children:C(Ri,{icon:Ote})}),C("button",{className:"text-lg btn-square btn-sm btn btn-ghost",onClick:()=>s(!1),children:C(Ri,{icon:Rte})})]})]})}function zte(){const[t,e]=O.useState(1),[r,n]=O.useState(null),[i,s]=O.useState(1);return O.useEffect(()=>{n(null),UE.getFriendRequestList(t,16).then(o=>{n(o.data.requests),s(o.data.totalPages)})},[t]),J(st,{children:[C("h2",{className:"text-xl font-bold mb-3",children:"Requests"}),C("div",{className:"flex-1 flex flex-col overflow-y-auto bg-base-300 rounded-lg p-3 gap-3",children:r==null?C("div",{className:"w-full h-full flex items-center justify-center",children:C("span",{className:"loading loading-spinner loading-lg"})}):C(st,{children:r.map(o=>C(Bte,{request:o}))})}),J("div",{className:"join flex w-full justify-center mt-3",children:[C("button",{className:"join-item btn",onClick:()=>e(Math.max(1,t-1)),children:""}),J("button",{className:"join-item flex-1 btn",children:["Page ",t]}),C("button",{className:"join-item btn",onClick:()=>e(Math.min(i,t+1)),children:""})]})]})}function jte(){return C("div",{className:"flex flex-col w-full h-full items-center py-6 px-10",children:J("div",{className:"flex w-full h-full py-5 gap-5",children:[C("div",{className:"w-2/3 h-full ml-10 flex flex-col",children:C(Ute,{})}),C("div",{className:"flex-1 h-full flex flex-col",children:C(zte,{})})]})})}const $te=()=>{const{id:t}=Ac(),e=sf(["profile",t],()=>Ic.getProfile(t)),r=O.useMemo(()=>e.data?e.data.data:null,[e.isFetched]);return r?J("div",{className:"flex flex-col w-full h-full py-6 px-10",children:[J("div",{className:"w-full flex items-center gap-5",children:[C("div",{className:"",children:C("img",{src:r.avatarUrl??"https://daisyui.com/images/stock/photo-1534528741775-53994a69daeb.jpg",alt:"Avatar",className:"avatar w-48 h-48 rounded-full"})}),C("h1",{className:"text-2xl font-bold",children:r.displayName})]}),J("div",{className:"mt-2 flex flex-col items-center",children:[C("h2",{className:"text-lg font-bold",children:"Thng tin c nhn"}),J("div",{className:"mt-2",children:[J("p",{children:[C("span",{className:"font-bold",children:"Tn:"})," ",r.displayName]}),J("p",{children:[C("span",{className:"font-bold",children:"im:"})," ",r.elo]}),J("p",{children:[C("span",{className:"font-bold",children:"Cp :"})," 10"]})]})]}),J("div",{className:"mt-5 bg-base-200",children:[C("h2",{className:"text-lg font-bold flex flex-col items-center",children:"Cc vn u"}),C("p",{className:"text-base-content p-5",children:"Khng c vn u no ang din ra"})]}),J("div",{className:"mt-5",children:[C("h2",{className:"text-lg font-bold pl-5",children:"Previous games"}),C(r3,{})]})]}):C("div",{})},Gte=[{path:$e.login,element:C(C$,{})},{path:$e.register,element:C(M$,{})}],Hte=[{path:$e.home,element:C(Tz,{})},{path:$e.chat,element:C(mM,{})},{path:$e.chatbox,element:C(mM,{})},{path:$e.personals,element:C(I$,{})},{path:$e.friend,element:C(jte,{})},{path:$e.profile,element:C($te,{})}],Vte=[{path:$e.pvp,element:C(GK,{})}],Wte=[{path:$e.quickMatch,element:C(x7,{})},{path:$e.playWithBot,element:C(Dte,{})},{path:$e.pvpv2,element:C(DJ,{})},{path:$e.botv2,element:C(UJ,{})}];function Xte(){return C("div",{children:C("p",{children:"Page Not Found"})})}const qte=[{id:1,title:"Profile",to:$e.profile},{id:2,title:"Settings",to:"/"}],Yte=[{id:1,title:"Home",to:$e.home,icon:$R},{id:2,title:"Messages",to:$e.chat,icon:jR},{id:3,title:"Friends",to:$e.friend,icon:V8}],Qte=[{id:1,title:"Home",to:$e.home,icon:$R}];function Kte(t){return tn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.5 3.75A1.5 1.5 0 006 5.25v13.5a1.5 1.5 0 001.5 1.5h6a1.5 1.5 0 001.5-1.5V15a.75.75 0 011.5 0v3.75a3 3 0 01-3 3h-6a3 3 0 01-3-3V5.25a3 3 0 013-3h6a3 3 0 013 3V9A.75.75 0 0115 9V5.25a1.5 1.5 0 00-1.5-1.5h-6zm10.72 4.72a.75.75 0 011.06 0l3 3a.75.75 0 010 1.06l-3 3a.75.75 0 11-1.06-1.06l1.72-1.72H9a.75.75 0 010-1.5h10.94l-1.72-1.72a.75.75 0 010-1.06z",clipRule:"evenodd"},child:[]}]})(t)}function Zte(t){return tn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 6.75A.75.75 0 013.75 6h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 6.75zM3 12a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 12zm0 5.25a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75z",clipRule:"evenodd"},child:[]}]})(t)}function Jte(t){return tn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M13.28 3.97a.75.75 0 010 1.06L6.31 12l6.97 6.97a.75.75 0 11-1.06 1.06l-7.5-7.5a.75.75 0 010-1.06l7.5-7.5a.75.75 0 011.06 0zm6 0a.75.75 0 010 1.06L12.31 12l6.97 6.97a.75.75 0 11-1.06 1.06l-7.5-7.5a.75.75 0 010-1.06l7.5-7.5a.75.75 0 011.06 0z",clipRule:"evenodd"},child:[]}]})(t)}function ere(t){return tn({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"},child:[]}]})(t)}function xL(t){const{showSidebar:e,setShowSidebar:r,isAuthenticated:n}=O.useContext(Di),i=()=>{r(!e)},{user:s,setIsAuthenticated:o,setUser:a}=O.useContext(Di),l=Fi(),u=()=>{fc(),o(jr.NOT_AUTHENTICATED),a(null),l($e.home)};return J("div",{className:kt("navbar fixed z-10 h-16 justify-between bg-base-200 py-2 px-16",{"lg:pl-[16rem]":e,"lg:pl-24":!e}),children:[C("div",{className:"navbar-start flex-[30%]",children:C(WS,{className:kt("btn btn-circle btn-ghost hidden transition-all lg:flex",{"rotate-180":!e}),onClick:i,Icon:Jte})}),n===jr.AUTHENTICATED&&J("div",{className:"navbar-end flex flex-[30%] items-center",children:[C("button",{className:"btn btn-circle btn-ghost mt-1",children:J("div",{className:"indicator",children:[C(ere,{className:"h-6 w-6"}),C("span",{className:"badge indicator-item badge-primary badge-xs"})]})}),J("div",{className:"dropdown dropdown-end",children:[C("div",{tabIndex:0,role:"button",className:"avatar btn btn-circle btn-ghost",children:C("div",{className:"w-10 rounded-full",children:C("img",{alt:"Tailwind CSS Navbar component",src:s==null?void 0:s.avatarUrl})})}),J("div",{tabIndex:0,role:"button",className:"dropdown-content top-[120%] z-[1] flex w-56 flex-col rounded-md bg-base-300 shadow-2xl",children:[J("div",{className:"w-full border-b border-dashed border-black p-4 py-3",children:[J("h3",{className:"line-clamp-1 text-base font-semibold",children:[s==null?void 0:s.displayName," "]}),J("p",{className:"line-clamp-1 text-sm",children:[s==null?void 0:s.email," "]})]}),J("ul",{className:"menu menu-sm gap-[1px]",children:[qte.map(d=>C("li",{className:"rounded",children:C(Pr,{className:"hover:bg-primary hover:text-white focus:!bg-primary focus:!text-white active:!bg-primary",to:d.to,children:d.title})},d.id)),C("li",{className:"rounded",children:C("button",{className:"hover:bg-primary hover:text-white focus:!bg-primary focus:!text-white active:!bg-primary",onClick:u,children:"Sign out"})})]})]})]})]}),n===jr.NOT_AUTHENTICATED&&J("div",{className:"flex gap-1",children:[C("button",{className:"btn btn-primary flex-1",onClick:()=>l($e.login),children:"Login"}),C("button",{className:"btn btn-neutral flex-1",onClick:()=>l($e.register),children:"Sign up"})]})]})}function _L(t){const{showSidebar:e,setIsAuthenticated:r,setUser:n,isAuthenticated:i}=O.useContext(Di),{pathname:s}=Tc(),o=Fi(),a=()=>{fc(),r(jr.NOT_AUTHENTICATED),n(null),o($e.home)},[l,u]=O.useState(window.innerWidth);return O.useEffect(()=>{const d=()=>{u(window.innerWidth)};return window.addEventListener("resize",d),()=>{window.removeEventListener("resize",d)}},[]),J("div",{className:"drawer fixed z-10 w-max bg-base-200 lg:drawer-open",children:[C("input",{id:"my-drawer-2",type:"checkbox",className:"drawer-toggle"}),C("div",{className:"drawer-content flex h-16 flex-col items-center justify-center pl-2  lg:hidden",children:C("label",{htmlFor:"my-drawer-2","aria-label":"open sidebar",className:"btn drawer-button h-3/5",children:C(Zte,{className:"h-6 w-6"})})}),J("div",{className:kt("overflow-y-clip h-[100vh]",{"drawer-side":l<1024}),children:[C("label",{htmlFor:"my-drawer-2","aria-label":"close sidebar",className:"drawer-overlay"}),J("ul",{className:kt("menu min-h-full justify-between shadow-inner bg-base-200 p-4 pt-0 text-base font-semibold text-black !transition-all",{"lg:w-60":e,"lg:w-[5.5rem]":!e}),children:[J("div",{className:"flex w-full flex-col gap-8",children:[C("div",{className:"flex h-16 items-center justify-center",children:C(Pr,{to:"/",className:"flexw-maxitems-centerpx-0",children:e?J("div",{className:"flex items-center",children:[C(Ri,{icon:M0,size:"4x",className:"text-primary"}),C("h3",{className:"w-max pt-4 text-4xl font-semibold",children:C("span",{className:"text-primary",children:"CHESS"})})]}):C("h3",{className:"text-primary",children:"CHESS"})})}),C("div",{className:"flex flex-col gap-1",children:(i===jr.AUTHENTICATED?Yte:Qte).map(({icon:d,id:f,title:p,to:g})=>C("li",{children:J(Pr,{className:kt("text-base-content text-nowrap hover:bg-primary hover:text-white focus:!bg-primary focus:!text-white active:!bg-primary active:!text-white",{"tooltip tooltip-right":!e,"bg-primary text-white":oR(s,g)}),to:g,"data-tip":p,children:[C(d,{className:"h-6 w-6"}),e&&p]})},f))})]}),i===jr.AUTHENTICATED&&C("li",{children:J("button",{className:`text-base-content hover:bg-primary hover:text-white focus:!bg-primary focus:!text-white active:!bg-primary active:!text-white ${!e&&"tooltip tooltip-right"}`,"data-tip":"Sign out",onClick:a,children:[C(Kte,{className:"h-6 w-6"}),e&&"Sign out"]})})]})]})]})}function tre({children:t}){const{showSidebar:e,setShowSidebar:r}=O.useContext(Di);return J("div",{className:"bg-base",children:[C(xL,{}),C(_L,{}),C("div",{className:kt("max-h-max overflow-y-auto",{"brightness-50":e}),onClick:n=>{r(!1)},children:C("div",{className:kt("flex min-h-screen h-screen w-full flex-col items-center pt-16 lg:pl-[88px]",{"pointer-events-none":e}),children:t})})]})}function rre(){const{isAuthenticated:t}=O.useContext(Di),e=Fi(),r=Tc();return O.useEffect(()=>{t!=jr.UNKNOWN&&t!=jr.AUTHENTICATED&&r.pathname!==$e.home&&e($e.login)},[t]),C(tre,{children:C(q0,{})})}function nre({children:t}){return C("div",{className:"grid min-h-screen",children:J("section",{className:"col-span-full flex flex-col justify-between lg:p-4 bg-base",children:[J("div",{className:"ml-2 md:ml-0 flex items-center",children:[C(Pr,{to:$e.home,children:C(Ri,{icon:M0,size:"4x",style:{color:"#0066CC"}})}),J("div",{className:"ml-4 flex flex-col",children:[J("h3",{className:"pl-0 text-4xl font-semibold md:pl-8 xl:pl-0",children:["CH",C("span",{className:"text-primary",children:"ESS"})]}),C("p",{className:"text-sm md:text-base",children:"Welcome to our platform"})]})]}),t]})})}function ire(){const{isAuthenticated:t}=O.useContext(Di),e=Fi();return O.useEffect(()=>{t==jr.AUTHENTICATED&&e($e.home)},[]),t==jr.AUTHENTICATED?null:C(nre,{children:C(q0,{})})}function wL({children:t}){const{showSidebar:e,setShowSidebar:r}=O.useContext(Di);return C(st,{children:J("div",{className:"bg-base",children:[C(xL,{}),C(_L,{}),C("div",{className:kt("max-h-max overflow-y-auto",{"brightness-50":e}),onClick:n=>{r(!1)},children:C("div",{className:kt("flex flex-col min-h-screen w-full items-center justify-center",{"pointer-events-none":e}),children:t})})]})})}function sre(){return C(wL,{children:C(Gq,{children:C(q0,{})})})}function ore(){const{isAuthenticated:t}=O.useContext(Di),e=Fi();return O.useEffect(()=>{t!=jr.UNKNOWN&&t!=jr.AUTHENTICATED&&e($e.login)},[t]),C(wL,{children:C(iZ,{children:C(q0,{})})})}function are(){const t=[{path:"*",element:C(Xte,{})},{path:$e.home,element:C(rre,{}),children:Hte},{path:$e.auth,element:C(ire,{}),children:Gte},{path:$e.game,element:C(sre,{}),children:Vte},{path:$e.gamev2,element:C(ore,{}),children:Wte}];return DB(t)}function lre(){const t=are();return J(st,{children:[t,C(Zx,{position:"top-right",autoClose:5e3,newestOnTop:!1,closeOnClick:!0,rtl:!1,draggable:!0,pauseOnHover:!0,theme:"light"})]})}const ure=new pz({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});$b.createRoot(document.getElementById("root")).render(C(de.StrictMode,{children:C(JB,{children:C(xz,{client:ure,children:C(M8,{children:C(lre,{})})})})}))});export default cre();
